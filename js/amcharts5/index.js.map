{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@amcharts/amcharts5/webpack/runtime/chunk loaded","webpack://@amcharts/amcharts5/webpack/runtime/create fake namespace object","webpack://@amcharts/amcharts5/webpack/runtime/load script","webpack://@amcharts/amcharts5/./src/.internal/core/Registry.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/ResizeSensor.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Language.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Matrix.ts","webpack://@amcharts/amcharts5/./node_modules/svg-arc-to-cubic-bezier/modules/index.js","webpack://@amcharts/amcharts5/./src/.internal/core/render/backend/CanvasRenderer.ts","webpack://@amcharts/amcharts5/./src/.internal/core/Root.ts","webpack://@amcharts/amcharts5/./src/.internal/core/Theme.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Bullet.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Button.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Chart.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Circle.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Component.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Children.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Container.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Ellipse.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Graphics.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/GridLayout.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/HorizontalLayout.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Label.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Layout.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Legend.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Draw.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Line.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/MonotoneXTension.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/MonotoneYTension.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Picture.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/PointedRectangle.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/RadialLabel.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/RadialText.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Rectangle.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/RoundedRectangle.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Scrollbar.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/SerialChart.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Series.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Slice.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Sprite.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/SpriteResizer.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Text.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Tick.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Tooltip.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/VerticalLayout.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/backend/Renderer.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/gradients/Gradient.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/gradients/LinearGradient.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/patterns/Pattern.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/patterns/PicturePattern.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Animation.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Array.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Color.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/ColorSet.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Data.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/DateFormatter.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Disposer.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/DurationFormatter.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Ease.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/States.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Entity.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/EventDispatcher.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/InterfaceColors.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/List.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Math.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Modal.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/NumberFormatter.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Object.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Order.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Percent.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/PopulateString.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Template.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/TextFormatter.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Time.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Timezone.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Type.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Utils.ts","webpack://@amcharts/amcharts5/./src/.internal/themes/DefaultTheme.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Star.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/HeatLegend.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Triangle.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/Slider.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/gradients/RadialGradient.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/patterns/CirclePattern.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/patterns/LinePattern.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/patterns/RectanglePattern.ts","webpack://@amcharts/amcharts5/./src/.internal/core/render/patterns/PathPattern.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/DataParser.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/DataProcessor.ts","webpack://@amcharts/amcharts5/./src/.internal/core/util/Net.ts","webpack://@amcharts/amcharts5/./src/locales/en.ts","webpack://@amcharts/amcharts5/./node_modules/regenerator-runtime/runtime.js","webpack://@amcharts/amcharts5/./node_modules/tslib/tslib.es6.js","webpack://@amcharts/amcharts5/./tmp/webpack/polyfill.js","webpack://@amcharts/amcharts5/./tmp/webpack/index.js","webpack://@amcharts/amcharts5/./node_modules/d3-dispatch/src/dispatch.js","webpack://@amcharts/amcharts5/./node_modules/d3-path/src/path.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/math.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/arc.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/area.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/array.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/constant.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/curve/linear.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/line.js","webpack://@amcharts/amcharts5/./node_modules/d3-shape/src/point.js","webpack://@amcharts/amcharts5/./node_modules/d3-timer/src/timer.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selector.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/array.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selectorAll.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/matcher.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/selectChild.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/sparse.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/enter.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/constant.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/data.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/sort.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/namespaces.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/namespace.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/attr.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/window.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/style.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/property.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/classed.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/text.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/html.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/raise.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/lower.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/creator.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/insert.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/remove.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/clone.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/on.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/dispatch.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/index.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/select.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/selectAll.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/filter.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/exit.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/join.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/merge.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/order.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/call.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/nodes.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/node.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/size.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/empty.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/each.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/append.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/datum.js","webpack://@amcharts/amcharts5/./node_modules/d3-selection/src/selection/iterator.js","webpack://@amcharts/amcharts5/./node_modules/d3-timer/src/timeout.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/schedule.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/number.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/transform/parse.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/transform/index.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/tween.js","webpack://@amcharts/amcharts5/./node_modules/d3-color/src/define.js","webpack://@amcharts/amcharts5/./node_modules/d3-color/src/color.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/basis.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/constant.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/color.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/rgb.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/basisClosed.js","webpack://@amcharts/amcharts5/./node_modules/d3-interpolate/src/string.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/interpolate.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/attr.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/attrTween.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/delay.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/duration.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/ease.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/on.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/selection.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/style.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/styleTween.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/textTween.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/index.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/select.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/selectAll.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/filter.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/merge.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/transition.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/text.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/remove.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/transition/end.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/selection/transition.js","webpack://@amcharts/amcharts5/./node_modules/d3-ease/src/cubic.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/selection/index.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/selection/interrupt.js","webpack://@amcharts/amcharts5/./node_modules/d3-transition/src/interrupt.js","webpack://@amcharts/amcharts5/webpack/bootstrap","webpack://@amcharts/amcharts5/webpack/runtime/compat get default export","webpack://@amcharts/amcharts5/webpack/runtime/define property getters","webpack://@amcharts/amcharts5/webpack/runtime/ensure chunk","webpack://@amcharts/amcharts5/webpack/runtime/get javascript chunk filename","webpack://@amcharts/amcharts5/webpack/runtime/hasOwnProperty shorthand","webpack://@amcharts/amcharts5/webpack/runtime/make namespace object","webpack://@amcharts/amcharts5/webpack/runtime/publicPath","webpack://@amcharts/amcharts5/webpack/runtime/jsonp chunk loading","webpack://@amcharts/amcharts5/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"@amcharts/amcharts5:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","\r\n/**\r\n * @ignore\r\n */\r\nexport class Registry {\r\n\t/**\r\n\t * Currently running version of amCharts.\r\n\t */\r\n\treadonly version: string = \"5.2.38\";\r\n\r\n\t/**\r\n\t * List of applied licenses.\r\n\t * @ignore\r\n\t */\r\n\tlicenses: String[] = [];\r\n\r\n\t/**\r\n\t * Entities that have their `id` setting set.\r\n\t */\r\n\tentitiesById: { [index: string]: any } = {};\r\n\r\n\t/**\r\n\t * All created [[Root]] elements.\r\n\t */\r\n\trootElements: any[] = [];\r\n\r\n}\r\n\r\n/**\r\n\t* @ignore\r\n */\r\nexport const registry = new Registry();\r\n\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @param  license  License key\r\n */\r\nexport function addLicense(license: string): void {\r\n\tregistry.licenses.push(license);\r\n}\r\n\r\n\r\n/**\r\n * Disposes all [[Root]] elements.\r\n */\r\nexport function disposeAllRootElements(): void {\r\n\tlet root;\r\n\twhile(root = registry.rootElements.pop()) {\r\n\t\troot.dispose();\r\n\t}\r\n}\r\n","/** @ignore *//** */\n\nimport type { IDisposer } from \"./Disposer\";\nimport * as $array from \"./Array\";\nimport * as $utils from \"./Utils\";\n\n/**\n * @ignore\n */\ninterface Sensor {\n\taddTarget(target: Element, callback: () => void): void;\n\tremoveTarget(target: Element): void;\n}\n\n/**\n * @ignore\n */\ndeclare const ResizeObserver: any;\n\n/**\n * @ignore\n */\nclass Native implements Sensor {\n\tprivate _observer: any;\n\tprivate _targets: Array<{ target: Element, callback: () => void }> = [];\n\n\tconstructor() {\n\t\tthis._observer = new ResizeObserver((entries: Array<any>) => {\n\t\t\t$array.each(entries, (entry) => {\n\t\t\t\t$array.each(this._targets, (x) => {\n\t\t\t\t\tif (x.target === entry.target) {\n\t\t\t\t\t\tx.callback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\taddTarget(target: Element, callback: () => void) {\n\t\tthis._observer.observe(target, { box: \"border-box\" });\n\t\tthis._targets.push({ target, callback });\n\t}\n\n\tremoveTarget(target: Element) {\n\t\tthis._observer.unobserve(target);\n\n\t\t$array.keepIf(this._targets, (x) => {\n\t\t\treturn x.target !== target;\n\t\t});\n\t}\n}\n\n/**\n * @ignore\n */\ninterface ClientBounds {\n\twidth: number,\n\theight: number,\n\tleft: number,\n\tright: number,\n\ttop: number,\n\tbottom: number,\n\tx: number,\n\ty: number\n}\n\n\n/**\n * @ignore\n */\nclass Raf implements Sensor {\n\tpublic static delay: number = 200;\n\n\tprivate _timer: number | null = null;\n\tprivate _targets: Array<{ target: Element, callback: () => void, size: ClientRect | DOMRect | ClientBounds }> = [];\n\n\taddTarget(target: Element, callback: () => void) {\n\t\tif (this._timer === null) {\n\t\t\tlet lastTime: number | null = null;\n\n\t\t\tconst loop = () => {\n\t\t\t\tconst currentTime = Date.now();\n\n\t\t\t\tif (lastTime === null || currentTime > (lastTime + Raf.delay)) {\n\t\t\t\t\tlastTime = currentTime;\n\n\t\t\t\t\t$array.each(this._targets, (x) => {\n\t\t\t\t\t\tlet newSize = x.target.getBoundingClientRect();\n\n\t\t\t\t\t\tif (newSize.width !== x.size.width || newSize.height !== x.size.height) {\n\t\t\t\t\t\t\tx.size = newSize;\n\t\t\t\t\t\t\tx.callback();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (this._targets.length === 0) {\n\t\t\t\t\tthis._timer = null;\n\n\t\t\t\t} else {\n\t\t\t\t\tthis._timer = requestAnimationFrame(loop);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis._timer = requestAnimationFrame(loop);\n\t\t}\n\n\t\t// We start off with fake bounds so that sensor always kicks in\n\t\tlet size = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\n\t\tthis._targets.push({ target, callback, size });\n\t}\n\n\tremoveTarget(target: Element) {\n\t\t$array.keepIf(this._targets, (x) => {\n\t\t\treturn x.target !== target;\n\t\t});\n\n\t\tif (this._targets.length === 0) {\n\t\t\tif (this._timer !== null) {\n\t\t\t\tcancelAnimationFrame(this._timer);\n\t\t\t\tthis._timer = null;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n/**\n * @ignore\n */\nlet observer: Sensor | null = null;\n\n/**\n * @ignore\n */\nfunction makeSensor(): Sensor {\n\tif (observer === null) {\n\t\tif (typeof ResizeObserver !== \"undefined\") {\n\t\t\tobserver = new Native();\n\n\t\t} else {\n\t\t\tobserver = new Raf();\n\t\t}\n\t}\n\n\treturn observer;\n}\n\n/**\n * @ignore\n */\nexport class ResizeSensor implements IDisposer {\n\tprivate _sensor: Sensor;\n\tprivate _element: Element;\n\tprivate _listener: IDisposer;\n\tprivate _disposed: boolean = false;\n\n\tconstructor(element: Element, callback: () => void) {\n\t\tthis._sensor = makeSensor();\n\t\tthis._element = element;\n\n\t\t// This is needed because we need to know when the window is zoomed\n\t\tthis._listener = $utils.onZoom(callback);\n\n\t\tthis._sensor.addTarget(element, callback);\n\t}\n\n\tpublic isDisposed() {\n\t\treturn this._disposed;\n\t}\n\n\tpublic dispose() {\n\t\tif (!this._disposed) {\n\t\t\tthis._disposed = true;\n\t\t\tthis._sensor.removeTarget(this._element);\n\t\t\tthis._listener.dispose();\n\t\t}\n\t}\n\n\tpublic get sensor(): Sensor {\n\t\treturn this._sensor;\n\t}\n}\n","import { Entity, IEntitySettings, IEntityPrivate } from \"./Entity\"\nimport * as $array from \"./Array\"\nimport en from \"../../../locales/en\";\n\n/**\n * Defines properties that exist for the locale.\n *\n * @ignore\n */\nexport interface ILocaleSettings {\n\t\"firstDayOfWeek\"?: number,\n\n\t// number formatter related\n\t\"_decimalSeparator\"?: string;\n\t\"_thousandSeparator\"?: string;\n\n\t\"_percentPrefix\"?: string | null;\n\t\"_percentSuffix\"?: string | null;\n\n\t\"_big_number_suffix_3\"?: string;\n\t\"_big_number_suffix_6\"?: string;\n\t\"_big_number_suffix_9\"?: string;\n\t\"_big_number_suffix_12\"?: string;\n\t\"_big_number_suffix_15\"?: string;\n\t\"_big_number_suffix_18\"?: string;\n\t\"_big_number_suffix_21\"?: string;\n\t\"_big_number_suffix_24\"?: string;\n\n\t\"_small_number_suffix_24\"?: string;\n\t\"_small_number_suffix_21\"?: string;\n\t\"_small_number_suffix_18\"?: string;\n\t\"_small_number_suffix_15\"?: string;\n\t\"_small_number_suffix_12\"?: string;\n\t\"_small_number_suffix_9\"?: string;\n\t\"_small_number_suffix_6\"?: string;\n\t\"_small_number_suffix_3\"?: string;\n\n\t\"_byte_suffix_B\"?: string;\n\t\"_byte_suffix_KB\"?: string;\n\t\"_byte_suffix_MB\"?: string;\n\t\"_byte_suffix_GB\"?: string;\n\t\"_byte_suffix_TB\"?: string;\n\t\"_byte_suffix_PB\"?: string;\n\n\t// Default date formats for various periods\n\t\"_date\"?: string;\n\t\"_date_millisecond\"?: string;\n\t\"_date_millisecond_full\"?: string;\n\t\"_date_second\"?: string;\n\t\"_date_second_full\"?: string;\n\t\"_date_minute\"?: string;\n\t\"_date_minute_full\"?: string;\n\t\"_date_hour\"?: string;\n\t\"_date_hour_full\"?: string;\n\t\"_date_day\"?: string;\n\t\"_date_day_full\"?: string;\n\t\"_date_week\"?: string;\n\t\"_date_week_full\"?: string;\n\t\"_date_month\"?: string;\n\t\"_date_month_full\"?: string;\n\t\"_date_year\"?: string;\n\n\t// Default duration formats for various base units\n\t\"_duration_millisecond\"?: string;\n\t\"_duration_millisecond_second\"?: string;\n\t\"_duration_millisecond_minute\"?: string;\n\t\"_duration_millisecond_hour\"?: string;\n\t\"_duration_millisecond_day\"?: string;\n\t\"_duration_millisecond_week\"?: string;\n\t\"_duration_millisecond_month\"?: string;\n\t\"_duration_millisecond_year\"?: string;\n\n\t\"_duration_second\"?: string;\n\t\"_duration_second_minute\"?: string;\n\t\"_duration_second_hour\"?: string;\n\t\"_duration_second_day\"?: string;\n\t\"_duration_second_week\"?: string;\n\t\"_duration_second_month\"?: string;\n\t\"_duration_second_year\"?: string;\n\n\t\"_duration_minute\"?: string;\n\t\"_duration_minute_hour\"?: string;\n\t\"_duration_minute_day\"?: string;\n\t\"_duration_minute_week\"?: string;\n\t\"_duration_minute_month\"?: string;\n\t\"_duration_minute_year\"?: string;\n\n\t\"_duration_hour\"?: string;\n\t\"_duration_hour_day\"?: string;\n\t\"_duration_hour_week\"?: string;\n\t\"_duration_hour_month\"?: string;\n\t\"_duration_hour_year\"?: string;\n\n\t\"_duration_day\"?: string;\n\t\"_duration_day_week\"?: string;\n\t\"_duration_day_month\"?: string;\n\t\"_duration_day_year\"?: string;\n\n\t\"_duration_week\"?: string;\n\t\"_duration_week_month\"?: string;\n\t\"_duration_week_year\"?: string;\n\n\t\"_duration_month\"?: string;\n\t\"_duration_month_year\"?: string;\n\n\t\"_duration_year\"?: string;\n\n\t// Era\n\t\"_era_ad\"?: string;\n\t\"_era_bc\"?: string;\n\n\t// Period\n\t\"A\"?: string;\n\t\"P\"?: string;\n\t\"AM\"?: string;\n\t\"PM\"?: string;\n\t\"A.M.\"?: string;\n\t\"P.M.\"?: string;\n\n\t// Dates\n\t\"January\"?: string;\n\t\"February\"?: string;\n\t\"March\"?: string;\n\t\"April\"?: string;\n\t\"May\"?: string;\n\t\"June\"?: string;\n\t\"July\"?: string;\n\t\"August\"?: string;\n\t\"September\"?: string;\n\t\"October\"?: string;\n\t\"November\"?: string;\n\t\"December\"?: string;\n\t\"Jan\"?: string;\n\t\"Feb\"?: string;\n\t\"Mar\"?: string;\n\t\"Apr\"?: string;\n\t\"May(short)\"?: string;\n\t\"Jun\"?: string;\n\t\"Jul\"?: string;\n\t\"Aug\"?: string;\n\t\"Sep\"?: string;\n\t\"Oct\"?: string;\n\t\"Nov\"?: string;\n\t\"Dec\"?: string;\n\t\"Sunday\"?: string;\n\t\"Monday\"?: string;\n\t\"Tuesday\"?: string;\n\t\"Wednesday\"?: string;\n\t\"Thursday\"?: string;\n\t\"Friday\"?: string;\n\t\"Saturday\"?: string;\n\t\"Sun\"?: string;\n\t\"Mon\"?: string;\n\t\"Tue\"?: string;\n\t\"Wed\"?: string;\n\t\"Thu\"?: string;\n\t\"Fri\"?: string;\n\t\"Sat\"?: string;\n\n\t// Chart elements\n\t\"Zoom Out\"?: string;\n\t\"Play\"?: string;\n\t\"Stop\"?: string;\n\t\"Legend\"?: string;\n\t\"Press ENTER to toggle\"?: string;\n\t\"Loading\"?: string;\n\t\"%1 shown\"?: string;\n\t\"%1 hidden\"?: string;\n\n\t// Chart types\n\t\"Chart\"?: string;\n\t\"Serial chart\"?: string;\n\t\"X/Y chart\"?: string;\n\t\"Pie chart\"?: string;\n\t\"Sunburst chart\"?: string;\n\t\"Gauge chart\"?: string;\n\t\"Radar chart\"?: string;\n\t\"Sankey diagram\"?: string;\n\t\"Flow diagram\"?: string;\n\t\"Chord diagram\"?: string;\n\t\"TreeMap chart\"?: string;\n\t\"Force directed tree\"?: string;\n\t\"Sliced chart\"?: string;\n\n\t// Series types\n\t\"Series\"?: string;\n\t\"Candlestick Series\"?: string;\n\t\"OHLC Series\"?: string;\n\t\"Column Series\"?: string;\n\t\"Line Series\"?: string;\n\t\"Pie Slice Series\"?: string;\n\t\"Funnel Series\"?: string;\n\t\"Pyramid Series\"?: string;\n\t\"X/Y Series\"?: string;\n\n\t// Map-related\n\t\"Map\"?: string;\n\t\"Press ENTER to zoom in\"?: string;\n\t\"Press ENTER to zoom out\"?: string;\n\t\"Use arrow keys to zoom in and out\"?: string;\n\t\"Use plus and minus keys on your keyboard to zoom in and out\"?: string;\n\t\"Home\"?: string;\n\t\"Zoom level changed to %1\"?: string;\n\n\t// Export-related\n\t\"Export\"?: string;\n\t\"Image\"?: string;\n\t\"Data\"?: string;\n\t\"Print\"?: string;\n\t\"Press ENTER or use arrow keys to navigate\"?: string;\n\t\"Press ENTER to open\"?: string;\n\t\"Press ENTER to print.\"?: string;\n\t\"Press ENTER to export as %1.\"?: string;\n\t\"(Press ESC to close this message)\"?: string;\n\t\"Image Export Complete\"?: string;\n\t\"Export operation took longer than expected. Something might have gone wrong.\"?: string;\n\t\"Saved from\"?: string;\n\t\"PNG\"?: string;\n\t\"JPG\"?: string;\n\t\"GIF\"?: string;\n\t\"SVG\"?: string;\n\t\"PDF\"?: string;\n\t\"JSON\"?: string;\n\t\"CSV\"?: string;\n\t\"XLSX\"?: string;\n\t\"HTML\"?: string;\n\n\t// Scrollbar-related\n\t\"Use TAB to select grip buttons or left and right arrows to change selection\"?: string;\n\t\"Use left and right arrows to move selection\"?: string;\n\t\"Use left and right arrows to move left selection\"?: string;\n\t\"Use left and right arrows to move right selection\"?: string;\n\t\"Use TAB select grip buttons or up and down arrows to change selection\"?: string;\n\t\"Use up and down arrows to move selection\"?: string;\n\t\"Use up and down arrows to move lower selection\"?: string;\n\t\"Use up and down arrows to move upper selection\"?: string;\n\t\"From %1 to %2\"?: string;\n\t\"From %1\"?: string;\n\t\"To %1\"?: string;\n\n\t// Data loader-related\n\t\"No parser available for file: %1\"?: string;\n\t\"Error parsing file: %1\"?: string;\n\t\"Unable to load file: %1\"?: string;\n\t\"Invalid date\"?: string;\n\n\t// Common actions\n\t\"Close\"?: string;\n\t\"Minimize\"?: string;\n\n\t\"Venn Series\"?: string;\n\t\"Venn Diagram\"?: string;\n}\n\n/**\n * Defines functions that exist for the locale.\n *\n * @ignore\n */\nexport interface ILocaleFunctions {\n\t// ordinal function\n\t\"_dateOrd\": (day: number) => string;\n}\n\n/**\n * Defines all of the defaults for locale properties.\n * @ignore\n */\nexport interface ILocaleDefault extends ILocaleSettings, ILocaleFunctions { }\n\n/**\n * Defines locale interface.\n *\n * @ignore\n */\nexport interface ILocale extends Partial<ILocaleDefault> { };\n\nexport interface ILanguageSettings extends IEntitySettings {\n}\n\nexport interface ILanguagePrivate extends IEntityPrivate {\n\n\t/**\n\t * A locale for International English (default).\n\t */\n\tdefaultLocale: ILocale;\n\n}\n\nexport class Language extends Entity {\n\tdeclare public _settings: ILanguageSettings;\n\tdeclare public _privateSettings: ILanguagePrivate;\n\n\tprotected _setDefaults() {\n\t\tthis.setPrivate(\"defaultLocale\", en);\n\t\tsuper._setDefaults();\n\t}\n\n\tpublic translate<Key extends keyof ILocaleSettings>(prompt: Key, locale?: ILocale, ...rest: Array<string>): string {\n\n\t\t// Get langauge\n\t\tif (!locale) {\n\t\t\tlocale = this._root.locale || this.getPrivate(\"defaultLocale\");\n\t\t}\n\n\t\t// Init translation\n\t\tlet translation: string = prompt;\n\t\tlet value = locale[prompt];\n\n\t\t// Try to look for the translation\n\t\tif (value === null) {\n\t\t\ttranslation = \"\";\n\t\t}\n\t\telse if (value != null) {\n\t\t\t// It might be an empty string\n\t\t\tif (value) {\n\t\t\t\ttranslation = <string>value!;\n\t\t\t}\n\t\t}\n\t\telse if (locale !== this.getPrivate(\"defaultLocale\")) {\n\t\t\t// Try to look in default language\n\t\t\treturn this.translate(prompt, this.getPrivate(\"defaultLocale\"), ...rest);\n\t\t}\n\n\t\t// Replace %1, %2, etc params\n\t\tif (rest.length) {\n\t\t\tfor (let len = rest.length, i = 0; i < len; ++i) {\n\t\t\t\ttranslation = translation.split(\"%\" + (i + 1)).join(rest[i]);\n\t\t\t}\n\t\t}\n\n\t\t// Return the translation\n\t\treturn translation;\n\t}\n\n\tpublic translateAny(prompt: string, locale?: ILocale, ...rest: Array<string>): string {\n\t\treturn this.translate(<any>prompt, locale, ...rest);\n\t}\n\n\tpublic setTranslationAny(prompt: string, translation: string, locale?: ILocale): void {\n\t\tconst localeTarget = locale || this._root.locale;\n\t\t(<any>localeTarget)[prompt] = translation;\n\t}\n\n\tpublic translateEmpty<Key extends keyof ILocaleSettings>(prompt: Key, locale?: ILocale, ...rest: Array<string>): string {\n\t\tlet translation = this.translate(prompt, locale, ...rest);\n\t\treturn translation == prompt ? \"\" : translation;\n\t}\n\n\tpublic translateFunc<Key extends keyof ILocaleFunctions>(prompt: Key, locale?: ILocale): ILocaleFunctions[Key] {\n\n\t\tif ((<any>this._root.locale)[prompt]) {\n\t\t\treturn (<any>this._root.locale)[prompt];\n\t\t}\n\n\t\t// Try to look in default language\n\t\tif (locale !== this.getPrivate(\"defaultLocale\")) {\n\t\t\treturn this.translateFunc(prompt, this.getPrivate(\"defaultLocale\"));\n\t\t}\n\n\t\t// Fail - return empty function\n\t\treturn (): string => {\n\t\t\treturn \"\";\n\t\t};\n\t}\n\n\tpublic translateAll<Key extends keyof ILocaleSettings>(list: Array<Key>, locale?: ILocale): Array<string> {\n\t\t// Translate all items in the list\n\t\tif (!this.isDefault()) {\n\t\t\treturn $array.map(list, (x) => this.translate(x, locale));\n\n\t\t} else {\n\t\t\treturn list;\n\t\t}\n\t}\n\n\t/**\n\t * Returns `true` if the currently selected locale is a default locale.\n\t *\n\t * @return `true` if locale is default; `false` if it is not.\n\t */\n\tpublic isDefault(): boolean {\n\t\treturn this.getPrivate(\"defaultLocale\") === this._root.locale;\n\t}\n\n}\n","/**\n * Modified from Pixi:\n *\n * The MIT License\n *\n * Copyright (c) 2013-2017 Mathew Groves, Chad Engler\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport type { IPoint } from \"./IPoint\";\n\n/**\n * @ignore\n */\nexport class Matrix {\n\tpublic a: number;\n\tpublic b: number;\n\tpublic c: number;\n\tpublic d: number;\n\tpublic tx: number;\n\tpublic ty: number;\n\n\tconstructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\tthis.d = d;\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t}\n\n\t/**\n\t * Sets the matrix based on all the available properties\n\t */\n\tsetTransform(x: number, y: number, pivotX: number, pivotY: number, rotation: number, scale: number = 1): void {\n\t\tthis.a = Math.cos(rotation) * scale;\n\t\tthis.b = Math.sin(rotation) * scale;\n\t\tthis.c = -Math.sin(rotation) * scale;\n\t\tthis.d = Math.cos(rotation) * scale;\n\t\tthis.tx = x - ((pivotX * this.a) + (pivotY * this.c));\n\t\tthis.ty = y - ((pivotX * this.b) + (pivotY * this.d));\n\t}\n\n\t/**\n\t * Get a new position with the current transformation applied.\n\t * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\n\t */\n\tapply(origin: IPoint): IPoint {\n\t\treturn {\n\t\t\tx: (this.a * origin.x) + (this.c * origin.y) + this.tx,\n\t\t\ty: (this.b * origin.x) + (this.d * origin.y) + this.ty\n\t\t};\n\t}\n\n\t/**\n\t * Get a new position with the inverse of the current transformation applied.\n\t * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\n\t */\n\tapplyInverse(origin: IPoint): IPoint {\n\t\tconst id = 1 / ((this.a * this.d) + (this.c * -this.b));\n\n\t\treturn {\n\t\t\tx: (this.d * id * origin.x) + (-this.c * id * origin.y) + (((this.ty * this.c) - (this.tx * this.d)) * id),\n\t\t\ty: (this.a * id * origin.y) + (-this.b * id * origin.x) + (((-this.ty * this.a) + (this.tx * this.b)) * id)\n\t\t};\n\t}\n\n\t/**\n\t * Appends the given Matrix to this Matrix.\n\t */\n\tappend(matrix: Matrix): void {\n\t\tconst a1 = this.a;\n\t\tconst b1 = this.b;\n\t\tconst c1 = this.c;\n\t\tconst d1 = this.d;\n\t\tthis.a = (matrix.a * a1) + (matrix.b * c1);\n\t\tthis.b = (matrix.a * b1) + (matrix.b * d1);\n\t\tthis.c = (matrix.c * a1) + (matrix.d * c1);\n\t\tthis.d = (matrix.c * b1) + (matrix.d * d1);\n\t\tthis.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\n\t\tthis.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\n\t}\n\n\t/**\n\t * Prepends the given Matrix to this Matrix.\n\t */\n\tprepend(matrix: Matrix): void {\n\t\tconst tx1 = this.tx;\n\t\tif (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\n\t\t\tconst a1 = this.a;\n\t\t\tconst c1 = this.c;\n\t\t\tthis.a = (a1 * matrix.a) + (this.b * matrix.c);\n\t\t\tthis.b = (a1 * matrix.b) + (this.b * matrix.d);\n\t\t\tthis.c = (c1 * matrix.a) + (this.d * matrix.c);\n\t\t\tthis.d = (c1 * matrix.b) + (this.d * matrix.d);\n\t\t}\n\t\tthis.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\n\t\tthis.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\n\t}\n\n\t/**\n\t * Copies the other matrix's properties into this matrix\n\t */\n\tcopyFrom(matrix: Matrix): void {\n\t\tthis.a = matrix.a;\n\t\tthis.b = matrix.b;\n\t\tthis.c = matrix.c;\n\t\tthis.d = matrix.d;\n\t\tthis.tx = matrix.tx;\n\t\tthis.ty = matrix.ty;\n\t}\n}\n\n","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  x *= rx;\n  y *= ry;\n\n  var xp = cosphi * x - sinphi * y;\n  var yp = sinphi * x + cosphi * y;\n\n  return {\n    x: xp + centerx,\n    y: yp + centery\n  };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n  // If 90 degree circular arc, use a constant\n  // as derived from http://spencermortensen.com/articles/bezier-circle\n  var a = ang2 === 1.5707963267948966 ? 0.551915024494 : ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n  var x1 = Math.cos(ang1);\n  var y1 = Math.sin(ang1);\n  var x2 = Math.cos(ang1 + ang2);\n  var y2 = Math.sin(ang1 + ang2);\n\n  return [{\n    x: x1 - y1 * a,\n    y: y1 + x1 * a\n  }, {\n    x: x2 + y2 * a,\n    y: y2 - x2 * a\n  }, {\n    x: x2,\n    y: y2\n  }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n  var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n\n  var dot = ux * vx + uy * vy;\n\n  if (dot > 1) {\n    dot = 1;\n  }\n\n  if (dot < -1) {\n    dot = -1;\n  }\n\n  return sign * Math.acos(dot);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n  var rxsq = Math.pow(rx, 2);\n  var rysq = Math.pow(ry, 2);\n  var pxpsq = Math.pow(pxp, 2);\n  var pypsq = Math.pow(pyp, 2);\n\n  var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n  if (radicant < 0) {\n    radicant = 0;\n  }\n\n  radicant /= rxsq * pypsq + rysq * pxpsq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n  var centerxp = radicant * rx / ry * pyp;\n  var centeryp = radicant * -ry / rx * pxp;\n\n  var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n  var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n  var vx1 = (pxp - centerxp) / rx;\n  var vy1 = (pyp - centeryp) / ry;\n  var vx2 = (-pxp - centerxp) / rx;\n  var vy2 = (-pyp - centeryp) / ry;\n\n  var ang1 = vectorAngle(1, 0, vx1, vy1);\n  var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n\n  return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n  var px = _ref2.px,\n      py = _ref2.py,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      rx = _ref2.rx,\n      ry = _ref2.ry,\n      _ref2$xAxisRotation = _ref2.xAxisRotation,\n      xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n      _ref2$largeArcFlag = _ref2.largeArcFlag,\n      largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n      _ref2$sweepFlag = _ref2.sweepFlag,\n      sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n  var curves = [];\n\n  if (rx === 0 || ry === 0) {\n    return [];\n  }\n\n  var sinphi = Math.sin(xAxisRotation * TAU / 360);\n  var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n  var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n  var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n  if (pxp === 0 && pyp === 0) {\n    return [];\n  }\n\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n  var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n      _getArcCenter2 = _slicedToArray(_getArcCenter, 4),\n      centerx = _getArcCenter2[0],\n      centery = _getArcCenter2[1],\n      ang1 = _getArcCenter2[2],\n      ang2 = _getArcCenter2[3];\n\n  // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n  // 1.0000000001. This causes `segments` to be greater than one, which is an\n  // unecessary split, and adds extra points to the bezier curve. To alleviate\n  // this issue, we round to 1.0 when the ratio is close to 1.0.\n\n\n  var ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1.0 - ratio) < 0.0000001) {\n    ratio = 1.0;\n  }\n\n  var segments = Math.max(Math.ceil(ratio), 1);\n\n  ang2 /= segments;\n\n  for (var i = 0; i < segments; i++) {\n    curves.push(approxUnitArc(ang1, ang2));\n    ang1 += ang2;\n  }\n\n  return curves.map(function (curve) {\n    var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n        x1 = _mapToEllipse.x,\n        y1 = _mapToEllipse.y;\n\n    var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n        x2 = _mapToEllipse2.x,\n        y2 = _mapToEllipse2.y;\n\n    var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n        x = _mapToEllipse3.x,\n        y = _mapToEllipse3.y;\n\n    return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n  });\n};\n\nexport default arcToBezier;","/** @ignore *//** */\n\nimport {\n\tIRenderer, IContainer, IDisplayObject, IGraphics, IRendererEvents,\n\tIText, ITextStyle, IRadialText, IPicture, IRendererEvent, ILayer, ICanvasOptions, BlendMode, IPointerEvent, Id\n} from \"./Renderer\";\nimport type { IBounds } from \"../../util/IBounds\";\nimport type { IPoint } from \"../../util/IPoint\";\nimport { Color } from \"../../util/Color\";\nimport { Matrix } from \"../../util/Matrix\";\nimport { Percent, percent } from \"../../util/Percent\";\n//import { Throttler } from \"../../util/Throttler\";\nimport { ArrayDisposer, Disposer, DisposerClass, IDisposer, CounterDisposer, MultiDisposer } from \"../../util/Disposer\";\nimport { TextFormatter, ITextChunk } from \"../../util/TextFormatter\";\nimport * as $utils from \"../../util/Utils\";\nimport * as $array from \"../../util/Array\";\nimport * as $object from \"../../util/Object\";\nimport * as $type from \"../../util/Type\";\nimport * as $math from \"../../util/Math\";\nimport arcToBezier from 'svg-arc-to-cubic-bezier';\n\n\n/**\n * @ignore\n */\nfunction checkArgs(name: string, actual: number, expected: number) {\n\tif (actual !== expected) {\n\t\tthrow new Error(\"Required \" + expected + \" arguments for \" + name + \" but got \" + actual);\n\t}\n}\n\n/**\n * @ignore\n */\nfunction checkMinArgs(name: string, actual: number, expected: number) {\n\tif (actual < expected) {\n\t\tthrow new Error(\"Required at least \" + expected + \" arguments for \" + name + \" but got \" + actual);\n\t}\n}\n\n/**\n * @ignore\n */\nfunction checkEvenArgs(name: string, actual: number, expected: number) {\n\tcheckMinArgs(name, actual, expected);\n\n\tif ((actual % expected) !== 0) {\n\t\tthrow new Error(\"Arguments for \" + name + \" must be in pairs of \" + expected);\n\t}\n}\n\n/**\n * @ignore\n * This splits the flag so that way 0017 will be processed as 0 0 17\n *\n * This is important for weird paths like `M17 5A1 1 0 0017 30 1 1 0 0017 5`\n */\nfunction splitArcFlags(args: Array<string>) {\n\tfor (let i = 0; i < args.length; i += 7) {\n\t\tlet index = i + 3;\n\t\tlet flag = args[index];\n\n\t\tif (flag.length > 1) {\n\t\t\tconst a = /^([01])([01])(.*)$/.exec(flag);\n\n\t\t\tif (a !== null) {\n\t\t\t\targs.splice(index, 0, a[1]);\n\t\t\t\t++index;\n\n\t\t\t\targs.splice(index, 0, a[2]);\n\t\t\t\t++index;\n\n\t\t\t\tif (a[3].length > 0) {\n\t\t\t\t\targs[index] = a[3];\n\n\t\t\t\t} else {\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++index;\n\n\t\tflag = args[index];\n\n\t\tif (flag.length > 1) {\n\t\t\tconst a = /^([01])(.+)$/.exec(flag);\n\n\t\t\tif (a !== null) {\n\t\t\t\targs.splice(index, 0, a[1]);\n\t\t\t\t++index;\n\n\t\t\t\targs[index] = a[2];\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nfunction assertBinary(value: number): 0 | 1 {\n\tif (value === 0 || value === 1) {\n\t\treturn value;\n\n\t} else {\n\t\tthrow new Error(\"Flag must be 0 or 1\");\n\t}\n}\n\n//  1 -> 0xffffff * (2 / 2)\n//  2 -> 0xffffff * (1 / 2)\n//\n//  3 -> 0xffffff * (3 / 4)\n//  4 -> 0xffffff * (1 / 4)\n//\n//  5 -> 0xffffff * (7 / 8)\n//  6 -> 0xffffff * (5 / 8)\n//  7 -> 0xffffff * (3 / 8)\n//  8 -> 0xffffff * (1 / 8)\n//\n//  9 -> 0xffffff * (15 / 16)\n// 10 -> 0xffffff * (13 / 16)\n// 11 -> 0xffffff * (11 / 16)\n// 12 -> 0xffffff *  (9 / 16)\n// 13 -> 0xffffff *  (7 / 16)\n// 14 -> 0xffffff *  (5 / 16)\n// 15 -> 0xffffff *  (3 / 16)\n// 16 -> 0xffffff *  (1 / 16)\n// @todo remove this old color distribution algo if the new one pans out\n// function distributeIdBAK(id: number): number {\n// \tif (id === 1) {\n// \t\treturn 0x000001;\n\n// \t} else {\n// \t\t// Finds the closest power of 2\n// \t\tconst base = Math.pow(2, Math.ceil(Math.log(id) / Math.log(2)));\n\n// \t\t// Translates the id into an odd fraction index\n// \t\tconst index = ((base - id) * 2) + 1;\n\n// \t\t// TODO is Math.round correct ?\n// \t\treturn Math.round(0xffffff * (index / base));\n// \t}\n// }\n\n/**\n * Function by smeans:\n * https://lowcode.life/generating-unique-contrasting-colors-in-javascript/\n * @ignore\n */\nfunction distributeId(id: number): number {\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 24; i++) {\n\t\trgb[i % 3] <<= 1;\n\t\trgb[i % 3] |= id & 0x01;\n\t\tid >>= 1;\n\t}\n\treturn (rgb[2] | 0) + (rgb[1] << 8) + (rgb[0] << 16);\n}\n\n/**\n * @ignore\n */\nfunction eachTargets(hitTarget: CanvasDisplayObject, f: (target: CanvasDisplayObject) => boolean): void {\n\tfor (; ;) {\n\t\tif (hitTarget.interactive) {\n\t\t\tif (!f(hitTarget)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (hitTarget._parent) {\n\t\t\thitTarget = hitTarget._parent;\n\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\n// TODO feature detection for mouse/touch/pointer\n/**\n * @ignore\n */\nfunction onPointerEvent(element: EventTarget, name: string, f: (event: Array<IPointerEvent>) => void): IDisposer {\n\treturn $utils.addEventListener(element, $utils.getRendererEvent(name), (event: MouseEvent | TouchEvent) => {\n\t\tlet touches = (<any>event).touches;\n\t\tif (touches) {\n\t\t\tif (touches.length == 0) {\n\t\t\t\ttouches = (<any>event).changedTouches;\n\t\t\t}\n\n\t\t\tf($array.copy(<TouchList>touches));\n\n\t\t} else {\n\t\t\tf([<MouseEvent>event]);\n\t\t}\n\t});\n}\n\n/**\n * @ignore\n */\nfunction isTainted(image: HTMLImageElement): boolean {\n\tconst canvas = document.createElement(\"canvas\");\n\tcanvas.width = 1;\n\tcanvas.height = 1;\n\tconst context = canvas.getContext(\"2d\", { willReadFrequently: true })! as CanvasRenderingContext2D;\n\tcontext.drawImage(image, 0, 0, 1, 1);\n\n\ttry {\n\t\tcontext.getImageData(0, 0, 1, 1);\n\t\treturn false;\n\t}\n\tcatch (err) {\n\t\tconsole.warn(\"Image \\\"\" + image.src + \"\\\" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors\");\n\t\treturn true;\n\t}\n}\n\n/**\n * This is needed to workaround a bug in iOS which causes it to not GC canvas elements.\n *\n * @ignore\n */\nfunction clearCanvas(view: HTMLCanvasElement) {\n\tview.width = 0;\n\tview.height = 0;\n\tview.style.width = \"0px\";\n\tview.style.height = \"0px\";\n}\n\n/**\n * @ignore\n */\nexport class CanvasPivot implements IPoint {\n\tprotected _x: number = 0;\n\tprotected _y: number = 0;\n\n\tget x(): number {\n\t\treturn this._x;\n\t}\n\n\tget y(): number {\n\t\treturn this._y;\n\t}\n\n\tset x(value: number) {\n\t\tthis._x = value;\n\t}\n\n\tset y(value: number) {\n\t\tthis._y = value;\n\t}\n}\n\n/**\n * @ignore\n */\nexport class CanvasDisplayObject extends DisposerClass implements IDisplayObject, IDisposer {\n\tpublic _layer?: CanvasLayer;\n\n\tpublic mask: CanvasGraphics | null = null;\n\tpublic visible: boolean = true;\n\tpublic exportable?: boolean = true;\n\tpublic interactive: boolean = false;\n\tpublic inactive: boolean = false;\n\tpublic wheelable: boolean = false;\n\tpublic cancelTouch: boolean = false;\n\tpublic isMeasured: boolean = false;\n\tpublic buttonMode: boolean = false;\n\tpublic alpha: number = 1;\n\tpublic compoundAlpha: number = 1;\n\tpublic angle: number = 0;\n\tpublic scale: number = 1;\n\tpublic x: number = 0;\n\tpublic y: number = 0;\n\tpublic pivot: CanvasPivot = new CanvasPivot();\n\n\tpublic filter?: string;\n\n\tpublic cursorOverStyle?: string;\n\tpublic _replacedCursorStyle?: string;\n\n\tpublic _localMatrix: Matrix = new Matrix();\n\tpublic _matrix: Matrix = new Matrix();\n\t// TODO can this be replaced with _localMatrix ?\n\tprotected _uMatrix: Matrix = new Matrix();\n\n\tpublic _renderer: CanvasRenderer;\n\tpublic _parent: CanvasContainer | undefined;\n\n\tprotected _localBounds: IBounds | undefined;\n\tprotected _bounds: IBounds | undefined;\n\tpublic _colorId: string | undefined;\n\n\tconstructor(renderer: CanvasRenderer) {\n\t\tsuper();\n\t\tthis._renderer = renderer;\n\t}\n\n\tprotected _dispose(): void {\n\t\tthis._renderer._removeObject(this);\n\t}\n\n\tpublic getCanvas(): HTMLCanvasElement {\n\t\treturn this.getLayer().view;\n\t}\n\n\tpublic getLayer(): CanvasLayer {\n\t\tlet self: CanvasDisplayObject = this;\n\n\t\tfor (; ;) {\n\t\t\tif (self._layer) {\n\t\t\t\treturn self._layer;\n\n\t\t\t} else if (self._parent) {\n\t\t\t\tself = self._parent;\n\n\t\t\t} else {\n\t\t\t\treturn this._renderer.defaultLayer;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic setLayer(order: number | undefined, visible: boolean = true): void {\n\t\tif (order == null) {\n\t\t\tthis._layer = undefined;\n\n\t\t} else {\n\t\t\tthis._layer = this._renderer.getLayer(order, visible);\n\t\t\tthis._layer.visible = visible;\n\t\t\tif (this._parent) {\n\t\t\t\tthis._parent.registerChildLayer(this._layer);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic markDirtyLayer(): void {\n\t\tthis.getLayer().dirty = true;\n\t}\n\n\tpublic clear(): void {\n\t\tthis.invalidateBounds();\n\t}\n\n\tpublic invalidateBounds(): void {\n\t\tthis._localBounds = undefined;\n\t}\n\n\tpublic _addBounds(_bounds: IBounds): void { }\n\n\tprotected _getColorId(): string {\n\t\tif (this._colorId === undefined) {\n\t\t\tthis._colorId = this._renderer.paintId(this);\n\t\t}\n\n\t\treturn this._colorId;\n\t}\n\n\tprotected _isInteractive(): boolean {\n\t\treturn this.inactive == false && (this.interactive || this._renderer._forceInteractive > 0);\n\t}\n\n\tprotected _isInteractiveMask(): boolean {\n\t\treturn this._isInteractive();\n\t}\n\n\tpublic contains(child: CanvasDisplayObject): boolean {\n\t\tfor (; ;) {\n\t\t\tif (child === this) {\n\t\t\t\treturn true;\n\n\t\t\t} else if (child._parent) {\n\t\t\t\tchild = child._parent;\n\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\ttoGlobal(point: IPoint): IPoint {\n\t\treturn this._matrix.apply(point);\n\t}\n\n\ttoLocal(point: IPoint): IPoint {\n\t\treturn this._matrix.applyInverse(point);\n\t}\n\n\tpublic getLocalMatrix(): Matrix {\n\t\tthis._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);\n\t\treturn this._uMatrix;\n\t}\n\n\tgetLocalBounds(): IBounds {\n\t\tif (!this._localBounds) {\n\n\t\t\tconst bn = 10000000;\n\t\t\tthis._localBounds = {\n\t\t\t\tleft: bn,\n\t\t\t\ttop: bn,\n\t\t\t\tright: -bn,\n\t\t\t\tbottom: -bn\n\t\t\t};\n\n\t\t\tthis._addBounds(this._localBounds);\n\t\t}\n\t\treturn this._localBounds;\n\t}\n\n\tgetAdjustedBounds(bounds: IBounds): IBounds {\n\t\tthis._setMatrix();\n\n\t\tconst matrix = this.getLocalMatrix();\n\n\t\tconst p0 = matrix.apply({ x: bounds.left, y: bounds.top });\n\t\tconst p1 = matrix.apply({ x: bounds.right, y: bounds.top });\n\t\tconst p2 = matrix.apply({ x: bounds.right, y: bounds.bottom });\n\t\tconst p3 = matrix.apply({ x: bounds.left, y: bounds.bottom });\n\n\t\treturn {\n\t\t\tleft: Math.min(p0.x, p1.x, p2.x, p3.x),\n\t\t\ttop: Math.min(p0.y, p1.y, p2.y, p3.y),\n\t\t\tright: Math.max(p0.x, p1.x, p2.x, p3.x),\n\t\t\tbottom: Math.max(p0.y, p1.y, p2.y, p3.y)\n\t\t}\n\t}\n\n\ton<C, Key extends keyof IRendererEvents>(key: Key, callback: (this: C, event: IRendererEvents[Key]) => void, context?: C): IDisposer {\n\t\tif (this.interactive) {\n\t\t\treturn this._renderer._addEvent(this, key, callback, context);\n\n\t\t} else {\n\t\t\treturn new Disposer(() => { });\n\t\t}\n\t}\n\n\tpublic _setMatrix(): void {\n\t\t// TODO only calculate this if it has actually changed\n\t\tthis._localMatrix.setTransform(\n\t\t\tthis.x,\n\t\t\tthis.y,\n\t\t\tthis.pivot.x,\n\t\t\tthis.pivot.y,\n\t\t\t// Converts degrees to radians\n\t\t\tthis.angle * Math.PI / 180,\n\t\t\tthis.scale\n\t\t);\n\n\t\tthis._matrix.copyFrom(this._localMatrix);\n\n\t\tif (this._parent) {\n\t\t\t// TODO only calculate this if it has actually changed\n\t\t\tthis._matrix.prepend(this._parent._matrix);\n\t\t}\n\t}\n\n\tpublic _transform(context: CanvasRenderingContext2D, resolution: number): void {\n\t\tconst m = this._matrix;\n\t\tcontext.setTransform(\n\t\t\tm.a * resolution,\n\t\t\tm.b * resolution,\n\t\t\tm.c * resolution,\n\t\t\tm.d * resolution,\n\t\t\tm.tx * resolution,\n\t\t\tm.ty * resolution\n\t\t);\n\t}\n\n\tpublic render(parentLayer: CanvasLayer): void {\n\t\tif (this.visible && (this.exportable !== false || !this._renderer._omitTainted)) {\n\t\t\tthis._setMatrix();\n\n\t\t\tconst resolution = this._renderer.resolution;\n\n\t\t\tconst layers = this._renderer.layers;\n\t\t\tconst ghostContext = this._renderer._ghostContext;\n\n\t\t\tconst mask = this.mask;\n\t\t\tif (mask) {\n\t\t\t\tmask._setMatrix();\n\t\t\t}\n\n\t\t\t// TODO improve this\n\t\t\t$array.each(layers, (layer) => {\n\t\t\t\tif (layer) {\n\t\t\t\t\tconst context = layer.context;\n\t\t\t\t\tcontext.save();\n\n\t\t\t\t\t// We must apply the mask before we transform the element\n\t\t\t\t\tif (mask) {\n\t\t\t\t\t\tmask._transform(context, layer.scale || resolution);\n\t\t\t\t\t\tmask._runPath(context);\n\t\t\t\t\t\tcontext.clip();\n\t\t\t\t\t}\n\n\t\t\t\t\tcontext.globalAlpha = this.compoundAlpha * this.alpha;\n\n\t\t\t\t\tthis._transform(context, layer.scale || resolution);\n\n\t\t\t\t\tif (this.filter) {\n\t\t\t\t\t\tcontext.filter = this.filter;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tghostContext.save();\n\n\t\t\t// We must apply the mask before we transform the element\n\t\t\tif (mask && this._isInteractiveMask()) {\n\t\t\t\tmask._transform(ghostContext, resolution);\n\t\t\t\tmask._runPath(ghostContext);\n\t\t\t\tghostContext.clip();\n\t\t\t}\n\n\t\t\tthis._transform(ghostContext, resolution);\n\n\t\t\tthis._render(parentLayer);\n\n\t\t\tghostContext.restore();\n\n\t\t\t$array.each(layers, (layer) => {\n\t\t\t\tif (layer) {\n\t\t\t\t\tlayer.context.restore();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _render(parentLayer: CanvasLayer): void {\n\t\tif (this.exportable === false) {\n\t\t\tconst layer = this._layer || parentLayer;\n\t\t\tlayer.tainted = true;\n\t\t}\n\t}\n\n\thovering(): boolean {\n\t\treturn this._renderer._hovering.has(this);\n\t}\n\n\tdragging(): boolean {\n\t\treturn this._renderer._dragging.some((x) => x.value === this);\n\t}\n\n\tpublic dispose() {\n\t\tthis.getLayer().dirty = true;\n\t}\n\n\tpublic shouldCancelTouch(): boolean {\n\t\tconst renderer = this._renderer;\n\t\tif (renderer.tapToActivate && !renderer._touchActive) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.cancelTouch) {\n\t\t\treturn true;\n\t\t}\n\t\telse if (this._parent) {\n\t\t\treturn this._parent.shouldCancelTouch();\n\t\t}\n\t\treturn false;\n\t}\n\n}\n\n/**\n * @ignore\n */\nexport class CanvasContainer extends CanvasDisplayObject implements IContainer {\n\tpublic interactiveChildren: boolean = true;\n\tprivate _childLayers?: CanvasLayer[];\n\n\tprotected _children: Array<CanvasDisplayObject> = [];\n\n\tprotected _isInteractiveMask(): boolean {\n\t\treturn this.interactiveChildren || super._isInteractiveMask();\n\t}\n\n\taddChild(child: CanvasDisplayObject): void {\n\t\tchild._parent = this;\n\t\tthis._children.push(child);\n\t\tif (child._layer) {\n\t\t\tthis.registerChildLayer(child._layer);\n\t\t}\n\t}\n\n\taddChildAt(child: CanvasDisplayObject, index: number): void {\n\t\tchild._parent = this;\n\t\tthis._children.splice(index, 0, child);\n\t\tif (child._layer) {\n\t\t\tthis.registerChildLayer(child._layer);\n\t\t}\n\t}\n\n\tremoveChild(child: CanvasDisplayObject): void {\n\t\tchild._parent = undefined;\n\t\t$array.removeFirst(this._children, child);\n\t}\n\n\tprotected _render(parentLayer: CanvasLayer): void {\n\t\tsuper._render(parentLayer);\n\n\t\tconst renderer = this._renderer;\n\n\t\tif (this.interactive && this.interactiveChildren) {\n\t\t\t++renderer._forceInteractive;\n\t\t}\n\n\t\tconst layer = this._layer || parentLayer;\n\n\t\t$array.each(this._children, (child) => {\n\t\t\tchild.compoundAlpha = this.compoundAlpha * this.alpha;\n\t\t\tchild.render(layer);\n\t\t});\n\n\t\tif (this.interactive && this.interactiveChildren) {\n\t\t\t--renderer._forceInteractive;\n\t\t}\n\t}\n\n\tregisterChildLayer(layer: CanvasLayer): void {\n\t\tif (!this._childLayers) {\n\t\t\tthis._childLayers = [];\n\t\t}\n\t\t$array.pushOne(this._childLayers, layer);\n\t\tif (this._parent) {\n\t\t\tthis._parent.registerChildLayer(layer);\n\t\t}\n\t}\n\n\tpublic markDirtyLayer(deep: boolean = false): void {\n\t\tsuper.markDirtyLayer();\n\t\tif (deep && this._childLayers) {\n\t\t\t$array.each(this._childLayers, (layer) => layer.dirty = true);\n\t\t}\n\t}\n\n\tpublic dispose() {\n\t\tsuper.dispose();\n\t\tif (this._childLayers) {\n\t\t\t$array.each(this._childLayers, (layer) => {\n\t\t\t\tlayer.dirty = true;\n\t\t\t});\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nfunction setPoint(bounds: IBounds, point: IPoint): void {\n\tbounds.left = Math.min(bounds.left, point.x);\n\tbounds.top = Math.min(bounds.top, point.y);\n\tbounds.right = Math.max(bounds.right, point.x);\n\tbounds.bottom = Math.max(bounds.bottom, point.y);\n}\n\n/**\n * @ignore\n */\nabstract class Op {\n\tpublic colorize(_context: CanvasRenderingContext2D, _forceColor: string | undefined): void { }\n\n\tpublic path(_context: CanvasRenderingContext2D): void { }\n\n\tpublic addBounds(_bounds: IBounds): void { }\n}\n\n/**\n * @ignore\n */\nclass BeginFill extends Op {\n\tconstructor(public color: string | CanvasGradient | CanvasPattern) { super(); }\n\n\tpublic colorize(context: CanvasRenderingContext2D, forceColor: string | undefined): void {\n\t\tif (forceColor !== undefined) {\n\t\t\tcontext.fillStyle = forceColor;\n\n\t\t} else {\n\t\t\tcontext.fillStyle = this.color;\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nclass EndFill extends Op {\n\tconstructor(public clearShadow: boolean) { super(); }\n\tpublic colorize(context: CanvasRenderingContext2D, _forceColor: string | undefined): void {\n\t\tcontext.fill();\n\t\tif (this.clearShadow) {\n\t\t\tcontext.shadowColor = \"\";\n\t\t\tcontext.shadowBlur = 0;\n\t\t\tcontext.shadowOffsetX = 0;\n\t\t\tcontext.shadowOffsetY = 0;\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nclass EndStroke extends Op {\n\tpublic colorize(context: CanvasRenderingContext2D, _forceColor: string | undefined): void {\n\t\tcontext.stroke();\n\t}\n}\n\n/**\n * @ignore\n */\nclass LineStyle extends Op {\n\tconstructor(public width: number, public color: string | CanvasGradient | CanvasPattern, public lineJoin?: \"miter\" | \"round\" | \"bevel\") { super(); }\n\n\tpublic colorize(context: CanvasRenderingContext2D, forceColor: string | undefined): void {\n\t\tif (forceColor !== undefined) {\n\t\t\tcontext.strokeStyle = forceColor;\n\n\t\t} else {\n\t\t\tcontext.strokeStyle = this.color;\n\t\t}\n\n\t\tcontext.lineWidth = this.width;\n\t\tif (this.lineJoin) {\n\t\t\tcontext.lineJoin = this.lineJoin;\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nclass LineDash extends Op {\n\tconstructor(public dash: number[]) { super(); }\n\n\tpublic colorize(context: CanvasRenderingContext2D, _forceColor: string | undefined): void {\n\t\tcontext.setLineDash(this.dash);\n\t}\n}\n\n/**\n * @ignore\n */\nclass LineDashOffset extends Op {\n\tconstructor(public dashOffset: number) { super(); }\n\n\tpublic colorize(context: CanvasRenderingContext2D, _forceColor: string | undefined): void {\n\t\tcontext.lineDashOffset = this.dashOffset;\n\t}\n}\n\n/**\n * @ignore\n */\nclass DrawRect extends Op {\n\tconstructor(public x: number, public y: number, public width: number, public height: number) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.rect(this.x, this.y, this.width, this.height);\n\t}\n\n\tpublic addBounds(bounds: IBounds): void {\n\t\tconst l = this.x;\n\t\tconst t = this.y;\n\t\tconst r = l + this.width;\n\t\tconst b = t + this.height;\n\n\t\tsetPoint(bounds, { x: l, y: t });\n\t\tsetPoint(bounds, { x: r, y: t });\n\t\tsetPoint(bounds, { x: l, y: b });\n\t\tsetPoint(bounds, { x: r, y: b });\n\t}\n}\n\n/**\n * @ignore\n */\nclass DrawCircle extends Op {\n\tconstructor(public x: number, public y: number, public radius: number) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.moveTo(this.x + this.radius, this.y);\n\t\tcontext.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n\t}\n\n\t// TODO handle skewing and rotation\n\tpublic addBounds(bounds: IBounds): void {\n\t\tsetPoint(bounds, { x: this.x - this.radius, y: this.y - this.radius });\n\t\tsetPoint(bounds, { x: this.x + this.radius, y: this.y + this.radius });\n\t}\n}\n\n/**\n * @ignore\n */\nclass DrawEllipse extends Op {\n\tconstructor(public x: number, public y: number, public radiusX: number, public radiusY: number) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, Math.PI * 2);\n\t}\n\n\t// TODO handle skewing and rotation\n\tpublic addBounds(bounds: IBounds): void {\n\t\tsetPoint(bounds, { x: this.x - this.radiusX, y: this.y - this.radiusY });\n\t\tsetPoint(bounds, { x: this.x + this.radiusX, y: this.y + this.radiusY });\n\t}\n}\n\n/**\n * @ignore\n */\nclass Arc extends Op {\n\tconstructor(\n\t\tpublic cx: number,\n\t\tpublic cy: number,\n\t\tpublic radius: number,\n\t\tpublic startAngle: number,\n\t\tpublic endAngle: number,\n\t\tpublic anticlockwise: boolean,\n\t) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tif (this.radius > 0) {\n\t\t\tcontext.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\n\t\t}\n\t}\n\n\tpublic addBounds(bounds: IBounds): void {\n\t\tlet arcBounds = $math.getArcBounds(this.cx, this.cy, this.startAngle * $math.DEGREES, this.endAngle * $math.DEGREES, this.radius);\n\t\tsetPoint(bounds, { x: arcBounds.left, y: arcBounds.top });\n\t\tsetPoint(bounds, { x: arcBounds.right, y: arcBounds.bottom });\n\t}\n}\n\n/**\n * @ignore\n */\nclass ArcTo extends Op {\n\tconstructor(\n\t\tpublic x1: number,\n\t\tpublic y1: number,\n\t\tpublic x2: number,\n\t\tpublic y2: number,\n\t\tpublic radius: number,\n\t) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tif (this.radius > 0) {\n\t\t\tcontext.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\n\t\t}\n\t}\n\n\t// TODO: add points\n\tpublic addBounds(_bounds: IBounds): void {\n\t\t/*\n\t\t// not finished\n\t\thttps://math.stackexchange.com/questions/1781438/finding-the-center-of-a-circle-given-two-points-and-a-radius-algebraically\n\n\t\tif (prevPoint) {\n\t\t\tlet x1 = prevPoint.x;\n\t\t\tlet y1 = prevPoint.y;\n\t\t\tlet x2 = this.x2;\n\t\t\tlet y2 = this.y2;\n\t\t\tlet r = this.radius;\n\n\t\t\tlet xa = (x2 - x1) / 2;\n\t\t\tlet ya = (y2 - y1) / 2;\n\n\t\t\tlet x0 = x1 + xa;\n\t\t\tlet y0 = y1 + ya;\n\n\t\t\tlet a = Math.hypot(xa, ya);\n\t\t\tlet b = Math.sqrt(r * r - a * a);\n\n\t\t\tlet cx = x0 + b * ya / a;\n\t\t\tlet cy = y0 - b * xa / a;\n\n\t\t\tconsole.log(cx, cy);\n\t\t}*/\n\t}\n}\n\n/**\n * @ignore\n */\nclass LineTo extends Op {\n\tconstructor(public x: number, public y: number) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.lineTo(this.x, this.y);\n\t}\n\n\tpublic addBounds(bounds: IBounds): void {\n\t\tsetPoint(bounds, { x: this.x, y: this.y });\n\t}\n}\n\n/**\n * @ignore\n */\nclass MoveTo extends Op {\n\tconstructor(public x: number, public y: number) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.moveTo(this.x, this.y);\n\t}\n\n\tpublic addBounds(bounds: IBounds): void {\n\t\tsetPoint(bounds, { x: this.x, y: this.y });\n\t}\n}\n\n/**\n * @ignore\n */\nclass ClosePath extends Op {\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.closePath();\n\t}\n}\n\n/**\n * @ignore\n */\nclass BezierCurveTo extends Op {\n\tconstructor(\n\t\tpublic cpX: number,\n\t\tpublic cpY: number,\n\t\tpublic cpX2: number,\n\t\tpublic cpY2: number,\n\t\tpublic toX: number,\n\t\tpublic toY: number,\n\t) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);\n\t}\n\n\t// TODO: OK?\n\tpublic addBounds(bounds: IBounds): void {\n\t\tsetPoint(bounds, { x: this.cpX, y: this.cpY });\n\t\tsetPoint(bounds, { x: this.cpX2, y: this.cpY2 });\n\t\tsetPoint(bounds, { x: this.toX, y: this.toY });\n\t}\n}\n\n/**\n * @ignore\n */\nclass QuadraticCurveTo extends Op {\n\tconstructor(\n\t\tpublic cpX: number,\n\t\tpublic cpY: number,\n\t\tpublic toX: number,\n\t\tpublic toY: number,\n\t) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);\n\t}\n\n\t// TODO: OK?\n\tpublic addBounds(bounds: IBounds): void {\n\t\tsetPoint(bounds, { x: this.cpX, y: this.cpY });\n\t\tsetPoint(bounds, { x: this.toX, y: this.toY });\n\t}\n}\n\n/**\n * @ignore\n */\nclass Shadow extends Op {\n\tconstructor(\n\t\tpublic color: string,\n\t\tpublic blur: number,\n\t\tpublic offsetX: number,\n\t\tpublic offsetY: number,\n\t\tpublic opacity?: number\n\t) { super(); }\n\n\tpublic colorize(context: CanvasRenderingContext2D, _forceColor: string | undefined): void {\n\t\tif (this.opacity) {\n\t\t\tcontext.fillStyle = this.color;\n\t\t}\n\t\tcontext.shadowColor = this.color;\n\t\tcontext.shadowBlur = this.blur;\n\t\tcontext.shadowOffsetX = this.offsetX;\n\t\tcontext.shadowOffsetY = this.offsetY;\n\t}\n}\n\n/**\n * @ignore\n */\nclass GraphicsImage extends Op {\n\tconstructor(\n\t\tpublic image: HTMLImageElement,\n\t\tpublic width: number,\n\t\tpublic height: number,\n\t\tpublic x: number,\n\t\tpublic y: number\n\t) { super(); }\n\n\tpublic path(context: CanvasRenderingContext2D): void {\n\t\tcontext.drawImage(this.image, this.x, this.y, this.width, this.height);\n\t}\n\n\t// TODO: OK?\n\tpublic addBounds(bounds: IBounds): void {\n\t\tsetPoint(bounds, { x: this.x, y: this.y });\n\t\tsetPoint(bounds, { x: this.width, y: this.height });\n\t}\n}\n\n/**\n * @ignore\n */\nexport class CanvasGraphics extends CanvasDisplayObject implements IGraphics {\n\tprotected _operations: Array<Op> = [];\n\n\tpublic blendMode: BlendMode = BlendMode.NORMAL;\n\n\tprotected _hasShadows: boolean = false;\n\tprotected _fillAlpha?: number;\n\tprotected _strokeAlpha?: number;\n\n\tclear(): void {\n\t\tsuper.clear();\n\t\tthis._operations.length = 0;\n\t}\n\n\tprotected _pushOp(op: Op): void {\n\t\tthis._operations.push(op);\n\t}\n\n\tbeginFill(color?: Color | CanvasGradient | CanvasPattern, alpha: number = 1): void {\n\t\tthis._fillAlpha = alpha;\n\t\tif (color) {\n\t\t\tif (color instanceof Color) {\n\t\t\t\tthis._pushOp(new BeginFill(color.toCSS(alpha)));\n\n\t\t\t} else {\n\t\t\t\tthis.isMeasured = true;\n\t\t\t\tthis._pushOp(new BeginFill(color));\n\t\t\t}\n\t\t} else {\n\t\t\tthis._pushOp(new BeginFill(\"rgba(0, 0, 0, \" + alpha + \")\"));\n\t\t}\n\t}\n\n\tendFill(): void {\n\t\tthis._pushOp(new EndFill(this._hasShadows));\n\t}\n\n\tendStroke(): void {\n\t\tthis._pushOp(new EndStroke());\n\t}\n\n\tlineStyle(width: number = 0, color?: Color | CanvasGradient | CanvasPattern, alpha: number = 1, lineJoin?: \"miter\" | \"round\" | \"bevel\"): void {\n\t\tthis._strokeAlpha = alpha;\n\t\tif (color) {\n\t\t\tif (color instanceof Color) {\n\t\t\t\tthis._pushOp(new LineStyle(width, color.toCSS(alpha), lineJoin));\n\t\t\t} else {\n\t\t\t\tthis._pushOp(new LineStyle(width, color, lineJoin));\n\t\t\t}\n\t\t} else {\n\t\t\tthis._pushOp(new LineStyle(width, \"rgba(0, 0, 0, \" + alpha + \")\", lineJoin));\n\t\t}\n\t}\n\n\tsetLineDash(dash?: number[]): void {\n\t\tthis._pushOp(new LineDash(dash ? dash : []));\n\t}\n\n\tsetLineDashOffset(dashOffset: number = 0): void {\n\t\tthis._pushOp(new LineDashOffset(dashOffset));\n\t}\n\n\tdrawRect(x: number, y: number, width: number, height: number): void {\n\t\tthis._pushOp(new DrawRect(x, y, width, height));\n\t}\n\n\tdrawCircle(x: number, y: number, radius: number): void {\n\t\tthis._pushOp(new DrawCircle(x, y, radius));\n\t}\n\n\tdrawEllipse(x: number, y: number, radiusX: number, radiusY: number): void {\n\t\tthis._pushOp(new DrawEllipse(x, y, radiusX, radiusY));\n\t}\n\n\tarc(cx: number, cy: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean = false): void {\n\t\tthis._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));\n\t}\n\n\tarcTo(x1: number, y1: number, x2: number, y2: number, radius: number): void {\n\t\tthis._pushOp(new ArcTo(x1, y1, x2, y2, radius));\n\t}\n\n\tlineTo(x: number, y: number): void {\n\t\tthis._pushOp(new LineTo(x, y));\n\t}\n\n\tmoveTo(x: number, y: number): void {\n\t\tthis._pushOp(new MoveTo(x, y));\n\t}\n\n\tbezierCurveTo(cpX: number, cpY: number, cpX2: number, cpY2: number, toX: number, toY: number): void {\n\t\tthis._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));\n\t}\n\n\tquadraticCurveTo(cpX: number, cpY: number, toX: number, toY: number): void {\n\t\tthis._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));\n\t}\n\n\tclosePath(): void {\n\t\tthis._pushOp(new ClosePath());\n\t}\n\n\tshadow(color: Color, blur: number = 0, offsetX: number = 0, offsetY: number = 0, opacity?: number): void {\n\t\tthis._hasShadows = true;\n\t\tthis._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));\n\t}\n\n\timage(image: HTMLImageElement, width: number, height: number, x: number, y: number): void {\n\t\tthis._pushOp(new GraphicsImage(image, width, height, x, y));\n\t}\n\n\t// https://svgwg.org/svg2-draft/paths.html#DProperty\n\t// TODO better error checking\n\tsvgPath(path: string): void {\n\t\tlet x = 0;\n\t\tlet y = 0;\n\t\tlet cpx: number | null = null;\n\t\tlet cpy: number | null = null;\n\t\tlet qcpx: number | null = null;\n\t\tlet qcpy: number | null = null;\n\n\t\tconst SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;\n\t\tconst ARGS_REGEXP = /[\\u0009\\u0020\\u000A\\u000C\\u000D]*([\\+\\-]?[0-9]*\\.?[0-9]+(?:[eE][\\+\\-]?[0-9]+)?)[\\u0009\\u0020\\u000A\\u000C\\u000D]*,?/g;\n\n\t\tlet match;\n\n\t\twhile ((match = SEGMENTS_REGEXP.exec(path)) !== null) {\n\t\t\tconst name = match[1];\n\t\t\tconst rest = match[2];\n\n\t\t\tconst args: Array<string> = [];\n\n\t\t\twhile ((match = ARGS_REGEXP.exec(rest)) !== null) {\n\t\t\t\targs.push(match[1]);\n\t\t\t}\n\n\t\t\t// Reset control point\n\t\t\tif (name !== \"S\" && name !== \"s\" && name !== \"C\" && name !== \"c\") {\n\t\t\t\tcpx = null;\n\t\t\t\tcpy = null;\n\t\t\t}\n\n\t\t\t// Reset control point\n\t\t\tif (name !== \"Q\" && name !== \"q\" && name !== \"T\" && name !== \"t\") {\n\t\t\t\tqcpx = null;\n\t\t\t\tqcpy = null;\n\t\t\t}\n\n\t\t\tswitch (name) {\n\t\t\t\tcase \"M\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 2);\n\t\t\t\t\tx = +args[0];\n\t\t\t\t\ty = +args[1];\n\t\t\t\t\tthis.moveTo(x, y);\n\n\t\t\t\t\tfor (let i = 2; i < args.length; i += 2) {\n\t\t\t\t\t\tx = +args[i];\n\t\t\t\t\t\ty = +args[i + 1];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"m\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 2);\n\t\t\t\t\tx += +args[0];\n\t\t\t\t\ty += +args[1];\n\t\t\t\t\tthis.moveTo(x, y);\n\n\t\t\t\t\tfor (let i = 2; i < args.length; i += 2) {\n\t\t\t\t\t\tx += +args[i];\n\t\t\t\t\t\ty += +args[i + 1];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"L\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 2);\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 2) {\n\t\t\t\t\t\tx = +args[i];\n\t\t\t\t\t\ty = +args[i + 1];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"l\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 2);\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 2) {\n\t\t\t\t\t\tx += +args[i];\n\t\t\t\t\t\ty += +args[i + 1];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"H\":\n\t\t\t\t\tcheckMinArgs(name, args.length, 1);\n\t\t\t\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\t\t\t\tx = +args[i];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"h\":\n\t\t\t\t\tcheckMinArgs(name, args.length, 1);\n\t\t\t\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\t\t\t\tx += +args[i];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"V\":\n\t\t\t\t\tcheckMinArgs(name, args.length, 1);\n\t\t\t\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\t\t\t\ty = +args[i];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"v\":\n\t\t\t\t\tcheckMinArgs(name, args.length, 1);\n\t\t\t\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\t\t\t\ty += +args[i];\n\t\t\t\t\t\tthis.lineTo(x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"C\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 6);\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 6) {\n\t\t\t\t\t\tconst x1 = +args[i];\n\t\t\t\t\t\tconst y1 = +args[i + 1];\n\t\t\t\t\t\tcpx = +args[i + 2];\n\t\t\t\t\t\tcpy = +args[i + 3];\n\t\t\t\t\t\tx = +args[i + 4];\n\t\t\t\t\t\ty = +args[i + 5];\n\t\t\t\t\t\tthis.bezierCurveTo(x1, y1, cpx, cpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"c\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 6);\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 6) {\n\t\t\t\t\t\tconst x1 = +args[i] + x;\n\t\t\t\t\t\tconst y1 = +args[i + 1] + y;\n\t\t\t\t\t\tcpx = +args[i + 2] + x;\n\t\t\t\t\t\tcpy = +args[i + 3] + y;\n\t\t\t\t\t\tx += +args[i + 4];\n\t\t\t\t\t\ty += +args[i + 5];\n\t\t\t\t\t\tthis.bezierCurveTo(x1, y1, cpx, cpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"S\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 4);\n\t\t\t\t\tif (cpx === null || cpy === null) {\n\t\t\t\t\t\tcpx = x;\n\t\t\t\t\t\tcpy = y;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 4) {\n\t\t\t\t\t\tconst x1 = 2 * x - cpx;\n\t\t\t\t\t\tconst y1 = 2 * y - cpy;\n\t\t\t\t\t\tcpx = +args[i];\n\t\t\t\t\t\tcpy = +args[i + 1];\n\t\t\t\t\t\tx = +args[i + 2];\n\t\t\t\t\t\ty = +args[i + 3];\n\t\t\t\t\t\tthis.bezierCurveTo(x1, y1, cpx, cpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"s\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 4);\n\t\t\t\t\tif (cpx === null || cpy === null) {\n\t\t\t\t\t\tcpx = x;\n\t\t\t\t\t\tcpy = y;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 4) {\n\t\t\t\t\t\tconst x1 = 2 * x - cpx;\n\t\t\t\t\t\tconst y1 = 2 * y - cpy;\n\t\t\t\t\t\tcpx = +args[i] + x;\n\t\t\t\t\t\tcpy = +args[i + 1] + y;\n\t\t\t\t\t\tx += +args[i + 2];\n\t\t\t\t\t\ty += +args[i + 3];\n\t\t\t\t\t\tthis.bezierCurveTo(x1, y1, cpx, cpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"Q\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 4);\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 4) {\n\t\t\t\t\t\tqcpx = +args[i];\n\t\t\t\t\t\tqcpy = +args[i + 1];\n\t\t\t\t\t\tx = +args[i + 2];\n\t\t\t\t\t\ty = +args[i + 3];\n\t\t\t\t\t\tthis.quadraticCurveTo(qcpx, qcpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"q\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 4);\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 4) {\n\t\t\t\t\t\tqcpx = +args[i] + x;\n\t\t\t\t\t\tqcpy = +args[i + 1] + y;\n\t\t\t\t\t\tx += +args[i + 2];\n\t\t\t\t\t\ty += +args[i + 3];\n\t\t\t\t\t\tthis.quadraticCurveTo(qcpx, qcpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"T\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 2);\n\t\t\t\t\tif (qcpx === null || qcpy === null) {\n\t\t\t\t\t\tqcpx = x;\n\t\t\t\t\t\tqcpy = y;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 2) {\n\t\t\t\t\t\tqcpx = 2 * x - qcpx;\n\t\t\t\t\t\tqcpy = 2 * y - qcpy;\n\t\t\t\t\t\tx = +args[i];\n\t\t\t\t\t\ty = +args[i + 1];\n\t\t\t\t\t\tthis.quadraticCurveTo(qcpx, qcpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"t\":\n\t\t\t\t\tcheckEvenArgs(name, args.length, 2);\n\t\t\t\t\tif (qcpx === null || qcpy === null) {\n\t\t\t\t\t\tqcpx = x;\n\t\t\t\t\t\tqcpy = y;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 2) {\n\t\t\t\t\t\tqcpx = 2 * x - qcpx;\n\t\t\t\t\t\tqcpy = 2 * y - qcpy;\n\t\t\t\t\t\tx += +args[i];\n\t\t\t\t\t\ty += +args[i + 1];\n\t\t\t\t\t\tthis.quadraticCurveTo(qcpx, qcpy, x, y);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"A\":\n\t\t\t\tcase \"a\":\n\t\t\t\t\tconst relative = (name === \"a\");\n\n\t\t\t\t\tsplitArcFlags(args);\n\t\t\t\t\tcheckEvenArgs(name, args.length, 7);\n\n\t\t\t\t\tfor (let i = 0; i < args.length; i += 7) {\n\t\t\t\t\t\tlet cx = +args[i + 5];\n\t\t\t\t\t\tlet cy = +args[i + 6];\n\n\t\t\t\t\t\tif (relative) {\n\t\t\t\t\t\t\tcx += x;\n\t\t\t\t\t\t\tcy += y;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst bs = arcToBezier({\n\t\t\t\t\t\t\tpx: x,\n\t\t\t\t\t\t\tpy: y,\n\t\t\t\t\t\t\trx: +args[i],\n\t\t\t\t\t\t\try: +args[i + 1],\n\t\t\t\t\t\t\txAxisRotation: +args[i + 2],\n\t\t\t\t\t\t\tlargeArcFlag: assertBinary(+args[i + 3]),\n\t\t\t\t\t\t\tsweepFlag: assertBinary(+args[i + 4]),\n\t\t\t\t\t\t\tcx,\n\t\t\t\t\t\t\tcy,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$array.each(bs, (b) => {\n\t\t\t\t\t\t\tthis.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);\n\t\t\t\t\t\t\tx = b.x;\n\t\t\t\t\t\t\ty = b.y;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Z\":\n\t\t\t\tcase \"z\":\n\t\t\t\t\tcheckArgs(name, args.length, 0);\n\t\t\t\t\tthis.closePath();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\n\tpublic _runPath(context: CanvasRenderingContext2D): void {\n\t\tcontext.beginPath();\n\n\t\t$array.each(this._operations, (op) => {\n\t\t\top.path(context);\n\t\t});\n\t}\n\n\tprotected _render(parentLayer: CanvasLayer): void {\n\t\tsuper._render(parentLayer);\n\n\t\tconst layer = this._layer || parentLayer;\n\n\t\tconst layerDirty = layer.dirty;\n\t\tconst interactive = this._isInteractive();\n\n\t\tif (layerDirty || interactive) {\n\n\t\t\tconst context = layer.context;\n\t\t\tconst ghostContext = this._renderer._ghostContext;\n\n\t\t\tif (layerDirty) {\n\t\t\t\tcontext.globalCompositeOperation = this.blendMode;\n\n\t\t\t\tcontext.beginPath();\n\t\t\t}\n\n\t\t\tlet color: string | undefined;\n\n\t\t\tif (interactive) {\n\t\t\t\tghostContext.beginPath();\n\t\t\t\tcolor = this._getColorId();\n\t\t\t}\n\n\t\t\t$array.each(this._operations, (op) => {\n\t\t\t\tif (layerDirty) {\n\t\t\t\t\top.path(context);\n\t\t\t\t\top.colorize(context, undefined);\n\t\t\t\t}\n\n\t\t\t\tif (interactive) {\n\t\t\t\t\top.path(ghostContext);\n\t\t\t\t\top.colorize(ghostContext, color);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic renderDetached(context: CanvasRenderingContext2D): void {\n\t\tif (this.visible) {\n\t\t\tthis._setMatrix();\n\n\t\t\tcontext.save();\n\n\t\t\t// We must apply the mask before we transform the element\n\t\t\tconst mask = this.mask;\n\t\t\tif (mask) {\n\t\t\t\tmask._setMatrix();\n\t\t\t\tmask._transform(context, 1);\n\t\t\t\tmask._runPath(context);\n\t\t\t\tcontext.clip();\n\t\t\t}\n\n\t\t\t// TODO handle compoundAlpha somehow ?\n\t\t\tcontext.globalAlpha = this.compoundAlpha * this.alpha;\n\n\t\t\tthis._transform(context, 1);\n\n\t\t\tif (this.filter) {\n\t\t\t\tcontext.filter = this.filter;\n\t\t\t}\n\n\t\t\tcontext.globalCompositeOperation = this.blendMode;\n\n\t\t\tcontext.beginPath();\n\n\t\t\t$array.each(this._operations, (op) => {\n\t\t\t\top.path(context);\n\t\t\t\top.colorize(context, undefined);\n\t\t\t});\n\n\t\t\tcontext.restore();\n\t\t}\n\t}\n\n\tpublic _addBounds(bounds: IBounds): void {\n\t\tif (this.visible && this.isMeasured) {\n\t\t\t$array.each(this._operations, (op) => {\n\t\t\t\top.addBounds(bounds);\n\t\t\t});\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\ninterface ILineChunk {\n\tstyle: string | undefined,\n\tfill: Color | undefined,\n\ttext: string,\n\twidth: number,\n\theight: number,\n\tleft: number,\n\tright: number,\n\tascent: number,\n\toffsetX: number,\n\toffsetY: number,\n\ttextDecoration: string | undefined,\n\tverticalAlign?: \"baseline\" | \"sub\" | \"super\"\n}\n\n/**\n * @ignore\n */\ninterface ILine {\n\toffsetY: number,\n\tascent: number,\n\twidth: number,\n\theight: number,\n\tleft: number,\n\tright: number,\n\ttextChunks: Array<ILineChunk>,\n}\n\n/**\n * @ignore\n */\nexport class CanvasText extends CanvasDisplayObject implements IText {\n\tpublic text: string;\n\tpublic style: CanvasTextStyle;\n\tpublic resolution: number = 1;\n\n\tprotected _textInfo: Array<ILine> | undefined;\n\tprotected _textVisible: boolean = true;\n\tprotected _originalScale?: number = 1;\n\n\tconstructor(renderer: CanvasRenderer, text: string, style: CanvasTextStyle) {\n\t\tsuper(renderer);\n\t\tthis.text = text;\n\t\tthis.style = style;\n\t}\n\n\tpublic invalidateBounds(): void {\n\t\tsuper.invalidateBounds();\n\t\tthis._textInfo = undefined;\n\t}\n\n\tprivate _shared(context: CanvasRenderingContext2D) {\n\t\tif (this.style.textAlign) {\n\t\t\tcontext.textAlign = this.style.textAlign;\n\t\t}\n\n\t\tif (this.style.direction) {\n\t\t\tcontext.direction = this.style.direction;\n\t\t}\n\n\t\tif (this.style.textBaseline) {\n\t\t\tcontext.textBaseline = this.style.textBaseline;\n\t\t}\n\n\t}\n\n\tprotected _prerender(layer: CanvasLayer, ignoreGhost = false, ignoreFontWeight = false): void {\n\t\tsuper._render(layer);\n\n\t\tconst context = layer.context;\n\t\tconst ghostContext = this._renderer._ghostContext;\n\n\t\t// Font style\n\n\t\tconst style = this.style;\n\t\tlet fontStyle = this._getFontStyle(undefined, ignoreFontWeight);\n\n\t\tcontext.font = fontStyle;\n\t\tif (this._isInteractive() && !ignoreGhost) {\n\t\t\tghostContext.font = fontStyle;\n\t\t}\n\n\t\t// Other parameters\n\t\tif (style.fill) {\n\t\t\tif (style.fill instanceof Color) {\n\t\t\t\tcontext.fillStyle = style.fill.toCSS();\n\t\t\t} else {\n\t\t\t\tcontext.fillStyle = style.fill;\n\t\t\t}\n\t\t}\n\n\t\tif (style.shadowColor) {\n\t\t\tlayer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);\n\t\t}\n\t\tif (style.shadowBlur) {\n\t\t\tlayer.context.shadowBlur = style.shadowBlur;\n\t\t}\n\t\tif (style.shadowOffsetX) {\n\t\t\tlayer.context.shadowOffsetX = style.shadowOffsetX;\n\t\t}\n\t\tif (style.shadowOffsetY) {\n\t\t\tlayer.context.shadowOffsetY = style.shadowOffsetY;\n\t\t}\n\n\t\tthis._shared(context);\n\n\t\tif (this._isInteractive() && !ignoreGhost) {\n\t\t\tghostContext.fillStyle = this._getColorId();\n\t\t\tthis._shared(ghostContext);\n\t\t}\n\t}\n\n\tprotected _getFontStyle(style2?: ITextStyle, ignoreFontWeight = false): string {\n\n\t\t// Process defaults\n\t\tconst style = this.style;\n\t\tlet fontStyle: string[] = [];\n\n\t\tif (style2 && style2.fontVariant) {\n\t\t\tfontStyle.push(style2.fontVariant);\n\t\t}\n\t\telse if (style.fontVariant) {\n\t\t\tfontStyle.push(style.fontVariant);\n\t\t}\n\n\t\tif (!ignoreFontWeight) {\n\t\t\tif (style2 && style2.fontWeight) {\n\t\t\t\tfontStyle.push(style2.fontWeight);\n\t\t\t}\n\t\t\telse if (style.fontWeight) {\n\t\t\t\tfontStyle.push(style.fontWeight);\n\t\t\t}\n\t\t}\n\n\t\tif (style2 && style2.fontStyle) {\n\t\t\tfontStyle.push(style2.fontStyle);\n\t\t}\n\t\telse if (style.fontStyle) {\n\t\t\tfontStyle.push(style.fontStyle);\n\t\t}\n\n\t\tif (style2 && style2.fontSize) {\n\t\t\tif ($type.isNumber(style2.fontSize)) {\n\t\t\t\tstyle2.fontSize = style2.fontSize + \"px\";\n\t\t\t}\n\t\t\tfontStyle.push(style2.fontSize);\n\t\t}\n\t\telse if (style.fontSize) {\n\t\t\tif ($type.isNumber(style.fontSize)) {\n\t\t\t\tstyle.fontSize = style.fontSize + \"px\";\n\t\t\t}\n\t\t\tfontStyle.push(style.fontSize);\n\t\t}\n\n\t\tif (style2 && style2.fontFamily) {\n\t\t\tfontStyle.push(style2.fontFamily);\n\t\t}\n\t\telse if (style.fontFamily) {\n\t\t\tfontStyle.push(style.fontFamily);\n\t\t}\n\t\telse if (fontStyle.length) {\n\t\t\tfontStyle.push(\"Arial\");\n\t\t}\n\n\t\treturn fontStyle.join(\" \");\n\t}\n\n\tprotected _render(parentLayer: CanvasLayer): void {\n\t\tconst layer = this._layer || parentLayer;\n\n\t\t// We need measurements in order to properly position text for alignment\n\t\tif (!this._textInfo) {\n\t\t\tthis._measure(layer);\n\t\t}\n\n\t\tif (this._textVisible) {\n\n\t\t\tconst interactive = this._isInteractive();\n\t\t\tconst context = layer.context;\n\t\t\tconst layerDirty = layer.dirty;\n\t\t\tconst ghostContext = this._renderer._ghostContext;\n\n\t\t\tcontext.save();\n\t\t\tghostContext.save();\n\t\t\tthis._prerender(layer);\n\n\t\t\t// const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\n\t\t\t// const x = this._localBounds && (this._localBounds.left < 0) ? Math.abs(this._localBounds.left) : 0;\n\n\t\t\t// Process text info produced by _measure()\n\t\t\t$array.each(this._textInfo!, (line, _index) => {\n\t\t\t\t$array.each(line.textChunks, (chunk, _index) => {\n\n\t\t\t\t\t// Set style\n\t\t\t\t\tif (chunk.style) {\n\t\t\t\t\t\tcontext.save();\n\t\t\t\t\t\tghostContext.save();\n\n\t\t\t\t\t\tcontext.font = chunk.style;\n\t\t\t\t\t\tif (this._isInteractive()) {\n\t\t\t\t\t\t\tghostContext.font = chunk.style;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chunk.fill) {\n\t\t\t\t\t\tcontext.save();\n\t\t\t\t\t\tcontext.fillStyle = chunk.fill.toCSS();\n\t\t\t\t\t\t// Color does not affect ghostContext so we not set it\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw text\n\t\t\t\t\tif (layerDirty) {\n\t\t\t\t\t\tcontext.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw underline\n\t\t\t\t\tif (chunk.textDecoration == \"underline\" || chunk.textDecoration == \"line-through\") {\n\n\t\t\t\t\t\tlet thickness = 1;\n\t\t\t\t\t\tlet offset = 1;\n\t\t\t\t\t\tlet fontSize = chunk.height;\n\n\t\t\t\t\t\tlet offsetX = chunk.offsetX;\n\t\t\t\t\t\tswitch (this.style.textAlign) {\n\t\t\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\t\toffsetX -= chunk.width;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\t\t\toffsetX -= chunk.width / 2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (chunk.style) {\n\t\t\t\t\t\t\tconst format = TextFormatter.getTextStyle(chunk.style);\n\t\t\t\t\t\t\tswitch (format.fontWeight) {\n\t\t\t\t\t\t\t\tcase \"bolder\":\n\t\t\t\t\t\t\t\tcase \"bold\":\n\t\t\t\t\t\t\t\tcase \"700\":\n\t\t\t\t\t\t\t\tcase \"800\":\n\t\t\t\t\t\t\t\tcase \"900\":\n\t\t\t\t\t\t\t\t\tthickness = 2;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (fontSize) {\n\t\t\t\t\t\t\toffset = fontSize / 20;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet y: number;\n\n\t\t\t\t\t\tif (chunk.textDecoration == \"line-through\") {\n\t\t\t\t\t\t\ty = thickness + line.offsetY + chunk.offsetY - chunk.height / 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ty = thickness + offset * 1.5 + line.offsetY + chunk.offsetY;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontext.save();\n\t\t\t\t\t\tcontext.beginPath();\n\t\t\t\t\t\tif (chunk.fill) {\n\t\t\t\t\t\t\tcontext.strokeStyle = chunk.fill.toCSS();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (this.style.fill && this.style.fill instanceof Color) {\n\t\t\t\t\t\t\tcontext.strokeStyle = this.style.fill.toCSS();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontext.lineWidth = thickness * offset;\n\t\t\t\t\t\tcontext.moveTo(offsetX, y);\n\t\t\t\t\t\tcontext.lineTo(offsetX + chunk.width, y);\n\t\t\t\t\t\tcontext.stroke();\n\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (interactive && this.interactive) {\n\t\t\t\t\t\t// Draw text in ghost canvas ONLY if it is set as interactive\n\t\t\t\t\t\t// explicitly. This way we avoid hit test anomalies caused by anti\n\t\t\t\t\t\t// aliasing of text.\n\t\t\t\t\t\tghostContext.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chunk.fill) {\n\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t\t// Color does not affect ghostContext so we not set it\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reset style\n\t\t\t\t\tif (chunk.style) {\n\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t\tghostContext.restore();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcontext.restore();\n\t\t\tghostContext.restore();\n\t\t}\n\t}\n\n\tpublic _addBounds(bounds: IBounds): void {\n\t\tif (this.visible && this.isMeasured) {\n\t\t\t//if (this._textVisible) {\n\t\t\tconst x = this._measure(this.getLayer());\n\t\t\tsetPoint(bounds, { x: x.left, y: x.top });\n\t\t\tsetPoint(bounds, { x: x.right, y: x.bottom });\n\t\t\t//}\n\t\t}\n\t}\n\n\tprotected _ignoreFontWeight(): boolean {\n\t\treturn /apple/i.test(navigator.vendor);\n\t}\n\n\tpublic _measure(layer: CanvasLayer): IBounds {\n\t\tconst context = layer.context;\n\t\tconst ghostContext = this._renderer._ghostContext;\n\t\tconst rtl = this.style.direction == \"rtl\";\n\n\t\t// Reset text info\n\t\tthis._textInfo = [];\n\n\t\t// Init\n\t\tconst oversizedBehavior = this.style.oversizedBehavior;\n\t\tconst maxWidth = this.style.maxWidth!;\n\n\t\tconst truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\n\t\tconst wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\n\n\t\t// Pre-render\n\t\tcontext.save();\n\t\tghostContext.save();\n\t\tthis._prerender(layer, true, this._ignoreFontWeight());\n\n\t\t// Get default font metrix\n\t\tconst refText = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";\n\n\t\t// Split up text into lines\n\t\tconst lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\n\t\tlet styleRestored = true;\n\t\tlet minX = 0;\n\t\tlet maxX = 0;\n\n\t\t// Iterate through the lines\n\t\tlet offsetY = 0;\n\t\tlet currentStyle: string | undefined;\n\t\t$array.each(lines, (line, _index) => {\n\n\t\t\t// Split up line into format/value chunks\n\t\t\tlet chunks: ITextChunk[];\n\t\t\tif (line == \"\") {\n\t\t\t\tchunks = [{\n\t\t\t\t\ttype: \"value\",\n\t\t\t\t\ttext: \"\"\n\t\t\t\t}];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchunks = TextFormatter.chunk(line, false, this.style.ignoreFormatting);\n\t\t\t}\n\n\t\t\twhile (chunks.length > 0) {\n\n\t\t\t\t// Init line object\n\t\t\t\tlet lineInfo: ILine = {\n\t\t\t\t\toffsetY: offsetY,\n\t\t\t\t\tascent: 0,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\ttextChunks: []\n\t\t\t\t};\n\n\t\t\t\t// Measure reference text\n\t\t\t\tconst metrics = this._measureText(refText, context);\n\n\t\t\t\tconst height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n\t\t\t\tlineInfo.height = height;\n\t\t\t\tlineInfo.ascent = metrics.actualBoundingBoxAscent;\n\n\t\t\t\tlet currentFormat: string;\n\t\t\t\tlet currentDecoration: string | undefined = this.style.textDecoration;\n\t\t\t\tlet currentFill: Color | undefined;\n\t\t\t\tlet currentChunkWidth: number | undefined;\n\t\t\t\tlet skipFurtherText = false;\n\t\t\t\tlet firstTextChunk = true;\n\t\t\t\tlet leftoverChunks: Array<ITextChunk> = [];\n\t\t\t\tlet currentVerticalAlign: \"baseline\" | \"sub\" | \"super\" | undefined;\n\t\t\t\t//let offsetX = 0;\n\t\t\t\t//let chunk;\n\n\t\t\t\t//while(chunk = chunks.shift()) {\n\t\t\t\t$array.eachContinue(chunks, (chunk, index) => {\n\n\t\t\t\t\t// Format chunk\n\t\t\t\t\tif (chunk.type == \"format\") {\n\t\t\t\t\t\tif (chunk.text == \"[/]\") {\n\t\t\t\t\t\t\tif (!styleRestored) {\n\t\t\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t\t\t\tghostContext.restore();\n\t\t\t\t\t\t\t\tstyleRestored = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrentFill = undefined;\n\t\t\t\t\t\t\tcurrentStyle = undefined;\n\t\t\t\t\t\t\tcurrentChunkWidth = undefined;\n\t\t\t\t\t\t\tcurrentDecoration = this.style.textDecoration;\n\t\t\t\t\t\t\tcurrentVerticalAlign = undefined\n\t\t\t\t\t\t\tcurrentFormat = chunk.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\n\t\t\t\t\t\t\tif (!styleRestored) {\n\t\t\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t\t\t\tghostContext.restore();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet format = TextFormatter.getTextStyle(chunk.text);\n\t\t\t\t\t\t\tconst fontStyle = this._getFontStyle(format);\n\t\t\t\t\t\t\tcontext.save();\n\t\t\t\t\t\t\tghostContext.save();\n\t\t\t\t\t\t\tcontext.font = fontStyle;\n\t\t\t\t\t\t\tcurrentStyle = fontStyle;\n\t\t\t\t\t\t\tcurrentFormat = chunk.text;\n\t\t\t\t\t\t\tif (format.textDecoration) {\n\t\t\t\t\t\t\t\tcurrentDecoration = format.textDecoration;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (format.fill) {\n\t\t\t\t\t\t\t\tcurrentFill = <Color>format.fill;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ((<any>format).width) {\n\t\t\t\t\t\t\t\tcurrentChunkWidth = $type.toNumber((<any>format).width);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (format.verticalAlign) {\n\t\t\t\t\t\t\t\tcurrentVerticalAlign = format.verticalAlign;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyleRestored = false;\n\n\t\t\t\t\t\t\t// Measure reference text after change of format\n\t\t\t\t\t\t\tconst metrics = this._measureText(refText, context);\n\t\t\t\t\t\t\tconst height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n\t\t\t\t\t\t\tif (height > lineInfo.height) {\n\t\t\t\t\t\t\t\tlineInfo.height = height;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\n\t\t\t\t\t\t\t\tlineInfo.ascent = metrics.actualBoundingBoxAscent;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Text chunk\n\t\t\t\t\telse if (chunk.type == \"value\" && !skipFurtherText) {\n\n\t\t\t\t\t\t// Measure\n\t\t\t\t\t\tconst metrics = this._measureText(chunk.text, context);\n\t\t\t\t\t\tlet chunkWidth = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\n\n\t\t\t\t\t\t// Check for fit\n\t\t\t\t\t\tif (truncate) {\n\n\t\t\t\t\t\t\t// Break words?\n\t\t\t\t\t\t\tlet breakWords = firstTextChunk || this.style.breakWords || false;\n\n\t\t\t\t\t\t\t// Measure ellipsis and check if it fits\n\t\t\t\t\t\t\tconst ellipsis = this.style.ellipsis || \"\";\n\t\t\t\t\t\t\tconst ellipsisMetrics = this._measureText(ellipsis, context);\n\t\t\t\t\t\t\tconst ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\n\n\t\t\t\t\t\t\t// Check fit\n\t\t\t\t\t\t\tif ((lineInfo.width + chunkWidth) > maxWidth) {\n\t\t\t\t\t\t\t\tconst excessWidth = maxWidth - lineInfo.width - ellipsisWidth;\n\t\t\t\t\t\t\t\tchunk.text = this._truncateText(context, chunk.text, excessWidth, breakWords);\n\t\t\t\t\t\t\t\tchunk.text += ellipsis;\n\t\t\t\t\t\t\t\tskipFurtherText = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (wrap) {\n\t\t\t\t\t\t\t// Check fit\n\t\t\t\t\t\t\tif ((lineInfo.width + chunkWidth) > maxWidth) {\n\t\t\t\t\t\t\t\tconst excessWidth = maxWidth - lineInfo.width;\n\t\t\t\t\t\t\t\tconst tmpText = this._truncateText(\n\t\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t\tchunk.text,\n\t\t\t\t\t\t\t\t\texcessWidth,\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t(firstTextChunk && this.style.oversizedBehavior != \"wrap-no-break\")\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (tmpText == \"\") {\n\t\t\t\t\t\t\t\t\t// Unable to fit a single letter - hide the whole label\n\t\t\t\t\t\t\t\t\tthis._textVisible = true;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//skipFurtherText = true;\n\n\t\t\t\t\t\t\t\t//Add remaining chunks for the next line\n\t\t\t\t\t\t\t\tleftoverChunks = chunks.slice(index + 1);\n\n\t\t\t\t\t\t\t\t//Add remaining text of current chunk if it was forced-cut\n\t\t\t\t\t\t\t\tif ($utils.trim(tmpText) != $utils.trim(chunk.text)) {\n\t\t\t\t\t\t\t\t\tleftoverChunks.unshift({\n\t\t\t\t\t\t\t\t\t\ttype: \"value\",\n\t\t\t\t\t\t\t\t\t\ttext: chunk.text.substr(tmpText.length)\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (currentFormat) {\n\t\t\t\t\t\t\t\t\t\tleftoverChunks.unshift({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"format\",\n\t\t\t\t\t\t\t\t\t\t\ttext: currentFormat\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Set current chunk (truncated)\n\t\t\t\t\t\t\t\tchunk.text = $utils.trim(tmpText);\n\n\t\t\t\t\t\t\t\tchunks = [];\n\t\t\t\t\t\t\t\tskipFurtherText = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Chunk width?\n\t\t\t\t\t\tlet leftBoundMod = 1;\n\t\t\t\t\t\tlet rightBoundMod = 1;\n\t\t\t\t\t\tif (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\n\t\t\t\t\t\t\t// increase horizontal bounding boxes accordingly\n\t\t\t\t\t\t\tconst boundsMod = chunkWidth / currentChunkWidth\n\t\t\t\t\t\t\tswitch (this.style.textAlign) {\n\t\t\t\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\t\t\tleftBoundMod = boundsMod;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\t\t\t\tleftBoundMod = boundsMod;\n\t\t\t\t\t\t\t\t\trightBoundMod = boundsMod;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\trightBoundMod = boundsMod;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchunkWidth = currentChunkWidth;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n\n\n\t\t\t\t\t\tif (chunkHeight > lineInfo.height) {\n\t\t\t\t\t\t\tlineInfo.height = chunkHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\n\t\t\t\t\t\t\tlineInfo.ascent = metrics.actualBoundingBoxAscent;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlineInfo.width += chunkWidth;\n\t\t\t\t\t\tlineInfo.left += metrics.actualBoundingBoxLeft / leftBoundMod;\n\t\t\t\t\t\tlineInfo.right += metrics.actualBoundingBoxRight / rightBoundMod;\n\t\t\t\t\t\tlineInfo.textChunks.push({\n\t\t\t\t\t\t\tstyle: currentStyle,\n\t\t\t\t\t\t\tfill: currentFill,\n\t\t\t\t\t\t\ttext: chunk.text,\n\t\t\t\t\t\t\twidth: chunkWidth,\n\t\t\t\t\t\t\theight: chunkHeight,\n\t\t\t\t\t\t\tleft: metrics.actualBoundingBoxLeft,\n\t\t\t\t\t\t\tright: metrics.actualBoundingBoxRight,\n\t\t\t\t\t\t\tascent: metrics.actualBoundingBoxAscent,\n\t\t\t\t\t\t\toffsetX: 0,\n\t\t\t\t\t\t\toffsetY: 0,\n\t\t\t\t\t\t\ttextDecoration: currentDecoration,\n\t\t\t\t\t\t\tverticalAlign: currentVerticalAlign\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t//offsetX += chunkWidth;\n\n\t\t\t\t\t\tfirstTextChunk = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (leftoverChunks) {\n\t\t\t\t\t\t//return false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t\t//}\n\t\t\t\t});\n\n\t\t\t\tif (this.style.lineHeight instanceof Percent) {\n\t\t\t\t\tlineInfo.height *= this.style.lineHeight.value;\n\t\t\t\t\tlineInfo.ascent *= this.style.lineHeight.value;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlineInfo.height *= this.style.lineHeight || 1.2;\n\t\t\t\t\tlineInfo.ascent *= this.style.lineHeight || 1.2;\n\t\t\t\t}\n\n\t\t\t\tif (minX < lineInfo.left) {\n\t\t\t\t\tminX = lineInfo.left;\n\t\t\t\t}\n\n\t\t\t\tif (maxX < lineInfo.right) {\n\t\t\t\t\tmaxX = lineInfo.right;\n\t\t\t\t}\n\n\t\t\t\tthis._textInfo!.push(lineInfo);\n\n\t\t\t\t//lineInfo.offsetY += lineInfo.ascent;\n\t\t\t\toffsetY += lineInfo.height;\n\n\t\t\t\t// Reset chunks so that it can proceed to the next line\n\t\t\t\tchunks = leftoverChunks || [];\n\t\t\t}\n\n\t\t});\n\n\t\tif (!styleRestored) {\n\t\t\tcontext.restore();\n\t\t\tghostContext.restore();\n\t\t}\n\n\t\t// Adjust chunk internal offsets\n\t\t$array.each(this._textInfo, (lineInfo, _index: number) => {\n\t\t\tlet currentChunkOffset = 0\n\t\t\t$array.each(lineInfo.textChunks, (chunk) => {\n\t\t\t\tchunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;\n\t\t\t\tchunk.offsetY += lineInfo.height - lineInfo.height * (this.style.baselineRatio || 0.19);\n\t\t\t\tcurrentChunkOffset += chunk.width;\n\n\t\t\t\tif (chunk.verticalAlign) {\n\t\t\t\t\tswitch (chunk.verticalAlign) {\n\t\t\t\t\t\tcase \"super\":\n\t\t\t\t\t\t\tchunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"sub\":\n\t\t\t\t\t\t\tchunk.offsetY += chunk.height / 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tconst bounds = {\n\t\t\tleft: rtl ? -maxX : -minX,\n\t\t\ttop: 0,\n\t\t\tright: rtl ? minX : maxX,\n\t\t\tbottom: offsetY,\n\t\t};\n\n\n\t\t// We need to fit?\n\t\tif (oversizedBehavior !== \"none\") {\n\t\t\tconst ratio = this._fitRatio(bounds);\n\t\t\tif (ratio < 1) {\n\t\t\t\tif (oversizedBehavior == \"fit\") {\n\t\t\t\t\tif ($type.isNumber(this.style.minScale) && (ratio < this.style.minScale)) {\n\t\t\t\t\t\tthis._textVisible = false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (!this._originalScale || this._originalScale == 1) {\n\t\t\t\t\t\t\tthis._originalScale = this.scale;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.scale = ratio;\n\t\t\t\t\t\tthis._textVisible = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (oversizedBehavior == \"hide\") {\n\t\t\t\t\tthis._textVisible = false;\n\t\t\t\t}\n\t\t\t\telse {\n\n\t\t\t\t\tswitch (this.style.textAlign) {\n\t\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\tbounds.left = -maxWidth;\n\t\t\t\t\t\t\tbounds.right = 0;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\t\tbounds.left = -maxWidth / 2;\n\t\t\t\t\t\t\tbounds.right = maxWidth / 2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbounds.left = 0;\n\t\t\t\t\t\t\tbounds.right = maxWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.scale = this._originalScale || 1;\n\t\t\t\t\tthis._originalScale = undefined;\n\t\t\t\t\tthis._textVisible = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.scale = this._originalScale || 1;\n\t\t\t\tthis._originalScale = undefined;\n\t\t\t\tthis._textVisible = true;\n\t\t\t}\n\t\t}\n\n\t\tcontext.restore();\n\t\tghostContext.restore();\n\n\t\treturn bounds;\n\t}\n\n\tprotected _fitRatio(bounds: IBounds): number {\n\t\tconst maxW = this.style.maxWidth;\n\t\tconst maxH = this.style.maxHeight;\n\t\tif (!$type.isNumber(maxW) && !$type.isNumber(maxH)) {\n\t\t\treturn 1;\n\t\t}\n\t\tconst w = bounds.right - bounds.left;\n\t\tconst h = bounds.bottom - bounds.top;\n\t\treturn Math.min(maxW! / w || 1, maxH! / h || 1);\n\t}\n\n\tprotected _truncateText(context: CanvasRenderingContext2D, text: string, maxWidth: number, breakWords: boolean = false, fallbackBreakWords: boolean = true): string {\n\t\tlet width: number;\n\t\tdo {\n\t\t\tif (breakWords) {\n\t\t\t\ttext = text.slice(0, -1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet tmp = text.replace(/[^,;:!?\\\\\\/\\s]+[,;:!?\\\\\\/\\s]*$/g, \"\");\n\t\t\t\tif (tmp == \"\" && fallbackBreakWords) {\n\t\t\t\t\tbreakWords = true;\n\t\t\t\t}\n\t\t\t\telse if (tmp == \"\") {\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttext = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst metrics = this._measureText(text, context);\n\t\t\twidth = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\n\t\t} while ((width > maxWidth) && text != \"\");\n\t\treturn text;\n\t}\n\n\tprotected _measureText(text: string, context: CanvasRenderingContext2D): TextMetrics {\n\t\tlet metrics = context.measureText(text);\n\t\tlet fakeMetrics: any = {};\n\t\tif (metrics.actualBoundingBoxAscent == null) {\n\t\t\tconst div = document.createElement(\"div\");\n\t\t\tdiv.innerText = text;\n\t\t\tdiv.style.visibility = \"hidden\";\n\t\t\tdiv.style.position = \"absolute\";\n\t\t\tdiv.style.top = \"-1000000px;\"\n\t\t\tdiv.style.fontFamily = this.style.fontFamily || \"\";\n\t\t\tdiv.style.fontSize = this.style.fontSize + \"\";\n\t\t\tdocument.body.appendChild(div);\n\t\t\tconst bbox = div.getBoundingClientRect();\n\t\t\tdocument.body.removeChild(div);\n\t\t\tconst h = bbox.height;\n\t\t\tconst w = metrics.width;\n\t\t\tlet left = 0;\n\t\t\tlet right = w;\n\n\t\t\tfakeMetrics = {\n\t\t\t\tactualBoundingBoxAscent: h,\n\t\t\t\tactualBoundingBoxDescent: 0,\n\t\t\t\tactualBoundingBoxLeft: left,\n\t\t\t\tactualBoundingBoxRight: right,\n\t\t\t\tfontBoundingBoxAscent: h,\n\t\t\t\tfontBoundingBoxDescent: 0,\n\t\t\t\twidth: w\n\t\t\t}\n\t\t\t//return fake;\n\t\t}\n\t\telse {\n\t\t\tfakeMetrics = {\n\t\t\t\tactualBoundingBoxAscent: metrics.actualBoundingBoxAscent,\n\t\t\t\tactualBoundingBoxDescent: metrics.actualBoundingBoxDescent,\n\t\t\t\tactualBoundingBoxLeft: metrics.actualBoundingBoxLeft,\n\t\t\t\tactualBoundingBoxRight: metrics.actualBoundingBoxRight,\n\t\t\t\tfontBoundingBoxAscent: metrics.actualBoundingBoxAscent,\n\t\t\t\tfontBoundingBoxDescent: metrics.actualBoundingBoxDescent,\n\t\t\t\twidth: metrics.width\n\t\t\t}\n\t\t}\n\n\t\tconst w = metrics.width;\n\t\tswitch (this.style.textAlign) {\n\t\t\tcase \"right\":\n\t\t\tcase \"end\":\n\t\t\t\tfakeMetrics.actualBoundingBoxLeft = w;\n\t\t\t\tfakeMetrics.actualBoundingBoxRight = 0;\n\t\t\t\tbreak;\n\t\t\tcase \"center\":\n\t\t\t\tfakeMetrics.actualBoundingBoxLeft = w / 2;\n\t\t\t\tfakeMetrics.actualBoundingBoxRight = w / 2;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tfakeMetrics.actualBoundingBoxLeft = 0;\n\t\t\t\tfakeMetrics.actualBoundingBoxRight = w;\n\t\t}\n\n\t\treturn fakeMetrics;\n\t}\n\n}\n\n/**\n * @ignore\n */\nexport class CanvasTextStyle implements ITextStyle {\n\t//public wordWrapWidth: number = 100;\n\tpublic fill?: Color | CanvasGradient | CanvasPattern;\n\tpublic textAlign?: \"start\" | \"end\" | \"left\" | \"right\" | \"center\";\n\tpublic fontFamily?: string;\n\tpublic fontSize?: string | number;\n\tpublic fontWeight?: 'normal' | 'bold' | 'bolder' | 'lighter' | '100' | '200' | '300' | '400' | '500' | '600' | '700' | '800' | '900'\n\tpublic fontStyle?: 'normal' | 'italic' | 'oblique';\n\tpublic fontVariant?: \"normal\" | \"small-caps\";\n\tpublic textDecoration?: \"underline\" | \"line-through\";\n\tpublic shadowColor?: Color | null;\n\tpublic shadowBlur?: number;\n\tpublic shadowOffsetX?: number;\n\tpublic shadowOffsetY?: number;\n\tpublic shadowOpacity?: number;\n\t// leading?: number;\n\t// letterSpacing?: number;\n\tpublic lineHeight?: number | Percent = percent(120);\n\tpublic baselineRatio?: number = 0.19;\n\t// padding?: number;\n\t// stroke?: number;\n\t// strokeThickness?: number;\n\t// trim?: number;\n\t// wordWrap?: boolean;\n\tpublic direction?: \"ltr\" | \"rtl\";\n\tpublic textBaseline?: \"top\" | \"hanging\" | \"middle\" | \"alphabetic\" | \"ideographic\" | \"bottom\";\n\tpublic oversizedBehavior?: \"none\" | \"hide\" | \"fit\" | \"wrap\" | \"wrap-no-break\" | \"truncate\" = \"none\";\n\tpublic breakWords?: boolean = false;\n\tpublic ellipsis?: string = \"\";\n\tpublic maxWidth?: number;\n\tpublic maxHeight?: number;\n\tpublic minScale?: number;\n\tpublic ignoreFormatting?: boolean = false;\n}\n\n/**\n * @ignore\n */\nexport class CanvasRadialText extends CanvasText implements IRadialText {\n\tpublic textType?: \"regular\" | \"circular\" | \"radial\" | \"aligned\" | \"adjusted\" = \"circular\";\n\tpublic radius?: number;\n\tpublic startAngle?: number;\n\tpublic inside?: boolean = false;\n\tpublic orientation?: \"inward\" | \"outward\" | \"auto\" = \"auto\";\n\tpublic kerning?: number = 0;\n\n\tprivate _textReversed: boolean = false;\n\n\tpublic _render(parentLayer: CanvasLayer): void {\n\t\tswitch (this.textType) {\n\t\t\tcase \"circular\":\n\t\t\t\tthis._renderCircular(parentLayer);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsuper._render(parentLayer);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic _renderCircular(parentLayer: CanvasLayer): void {\n\t\tif (this._textVisible) {\n\t\t\tconst layer = this._layer || parentLayer;\n\n\t\t\tthis._prerender(layer);\n\n\t\t\tconst interactive = this._isInteractive();\n\t\t\tconst context = layer.context;\n\t\t\tconst layerDirty = layer.dirty;\n\t\t\tconst ghostContext = this._renderer._ghostContext;\n\n\t\t\t// Savepoint\n\t\t\tcontext.save();\n\t\t\tif (interactive) {\n\t\t\t\tghostContext.save();\n\t\t\t}\n\n\t\t\t// Init\n\t\t\tlet radius = (this.radius || 0);\n\t\t\tlet startAngle = (this.startAngle || 0);\n\t\t\tlet deltaAngle = 0;\n\t\t\tlet orientation = this.orientation;\n\t\t\tlet inward = orientation == \"auto\" ? \"auto\" : orientation == \"inward\";\n\t\t\tconst inside = this.inside;\n\t\t\tconst align = this.style.textAlign || \"left\";\n\t\t\tconst kerning = this.kerning || 0;\n\t\t\tlet clockwise = align == \"left\" ? 1 : -1;\n\t\t\tconst shouldReverse = !this._textReversed;\n\n\t\t\t// We need measurements in order to properly position text for alignment\n\t\t\tif (!this._textInfo) {\n\t\t\t\tthis._measure(layer);\n\t\t\t}\n\n\t\t\t// Check if we need to invert the whole stuff\n\t\t\tif (inward == \"auto\") {\n\t\t\t\t// Calc max angle so we know whether we need to flip it\n\t\t\t\tlet maxAngle = 0;\n\t\t\t\tlet midAngle = 0;\n\t\t\t\t$array.each(this._textInfo!, (line, _index) => {\n\t\t\t\t\tconst deltaAngle = startAngle + (line.width / (radius - line.height)) / 2 * -clockwise;\n\t\t\t\t\tif (deltaAngle > maxAngle) {\n\t\t\t\t\t\tmaxAngle = deltaAngle;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (align == \"left\") {\n\t\t\t\t\tmidAngle = (maxAngle + deltaAngle / 2) * $math.DEGREES;\n\t\t\t\t}\n\t\t\t\telse if (align == \"right\") {\n\t\t\t\t\tmidAngle = (maxAngle - deltaAngle / 2) * $math.DEGREES;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmidAngle = startAngle * $math.DEGREES;\n\t\t\t\t}\n\t\t\t\tmidAngle = $math.normalizeAngle(midAngle);\n\t\t\t\tinward = (midAngle >= 270) || (midAngle <= 90);\n\t\t\t}\n\n\t\t\tif (inward == true && shouldReverse) {\n\t\t\t\tthis._textInfo!.reverse();\n\t\t\t\tthis._textReversed = true;\n\t\t\t}\n\n\t\t\t// if ((inward == false && align == \"left\") || (inward == true && align == \"right\")) {\n\t\t\t// \tclockwise *= -1;\n\t\t\t// }\n\n\t\t\t// Process text info produced by _measure()\n\t\t\t$array.each(this._textInfo!, (line, _index) => {\n\n\t\t\t\tconst textHeight = line.height;\n\n\t\t\t\t// Adjust radius (for `inside = false`)\n\t\t\t\t// Radius adjustment for `inside = false` is below the line calculation\n\t\t\t\tif (!inside) {\n\t\t\t\t\tradius += textHeight;\n\t\t\t\t}\n\n\t\t\t\t// Reverse letters if we're painting them counter-clockwise\n\t\t\t\tif (((clockwise == -1 && inward) || (clockwise == 1 && !inward)) && shouldReverse) {\n\t\t\t\t\tline.textChunks.reverse();\n\t\t\t\t}\n\n\t\t\t\t// Init angles\n\t\t\t\tlet lineStartAngle = startAngle;\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t\t// Adjust for center-align\n\t\t\t\tif (align == \"center\") {\n\t\t\t\t\tlineStartAngle += (line.width / (radius - textHeight)) / 2 * -clockwise;\n\t\t\t\t\tdeltaAngle = lineStartAngle - startAngle;\n\t\t\t\t}\n\n\t\t\t\t// if (inward == \"auto\") {\n\t\t\t\t// \tlet midAngle;\n\t\t\t\t// \tif (align == \"left\") {\n\t\t\t\t// \t\tmidAngle = (lineStartAngle + deltaAngle / 2) * $math.DEGREES;\n\t\t\t\t// \t}\n\t\t\t\t// \telse if () {\n\t\t\t\t// \t\tmidAngle = (lineStartAngle - deltaAngle / 2) * $math.DEGREES;\n\t\t\t\t// \t}\n\t\t\t\t// \tinward = (midAngle >= 270) || (midAngle <= 90);\n\t\t\t\t// }\n\n\t\t\t\t// Rotate letters if they are facing outward\n\t\t\t\tlineStartAngle += (Math.PI * (inward ? 0 : 1)); // Rotate 180 if outward\n\n\t\t\t\t// Savepoint\n\t\t\t\tcontext.save();\n\t\t\t\tif (interactive) {\n\t\t\t\t\tghostContext.save();\n\t\t\t\t}\n\n\t\t\t\t// Assume starting angle\n\t\t\t\tcontext.rotate(lineStartAngle);\n\t\t\t\tif (interactive) {\n\t\t\t\t\tghostContext.rotate(lineStartAngle);\n\t\t\t\t}\n\n\t\t\t\tlet angleShift = 0;\n\t\t\t\t$array.each(line.textChunks, (chunk, _index) => {\n\n\t\t\t\t\t// Draw the letter\n\t\t\t\t\tconst char = chunk.text;\n\t\t\t\t\tconst charWidth = chunk.width;\n\n\t\t\t\t\t// Rotate half a letter\n\t\t\t\t\tangleShift = (charWidth / 2) / (radius - textHeight) * clockwise;\n\t\t\t\t\tcontext.rotate(angleShift);\n\t\t\t\t\tif (interactive) {\n\t\t\t\t\t\tghostContext.rotate(angleShift);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set style\n\t\t\t\t\tif (chunk.style) {\n\t\t\t\t\t\tcontext.save();\n\t\t\t\t\t\tghostContext.save();\n\n\t\t\t\t\t\tcontext.font = chunk.style;\n\t\t\t\t\t\tif (interactive) {\n\t\t\t\t\t\t\tghostContext.font = chunk.style;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chunk.fill) {\n\t\t\t\t\t\tcontext.save();\n\t\t\t\t\t\tcontext.fillStyle = chunk.fill.toCSS();\n\t\t\t\t\t\t// Color does not affect ghostContext so we not set it\n\t\t\t\t\t}\n\n\t\t\t\t\t// Center letters\n\t\t\t\t\tcontext.textBaseline = \"middle\";\n\t\t\t\t\tcontext.textAlign = \"center\";\n\t\t\t\t\tif (interactive) {\n\t\t\t\t\t\tghostContext.textBaseline = \"middle\";\n\t\t\t\t\t\tghostContext.textAlign = \"center\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Plop the letter\n\t\t\t\t\tif (layerDirty) {\n\t\t\t\t\t\tcontext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\n\t\t\t\t\t}\n\t\t\t\t\tif (interactive) {\n\t\t\t\t\t\tghostContext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chunk.fill) {\n\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t\t// Color does not affect ghostContext so we not set it\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reset style\n\t\t\t\t\tif (chunk.style) {\n\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t\tghostContext.restore();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Rotate half a letter and add spacing\n\t\t\t\t\tangleShift = (charWidth / 2 + kerning) / (radius - textHeight) * clockwise;\n\t\t\t\t\tcontext.rotate(angleShift);\n\t\t\t\t\tif (interactive) {\n\t\t\t\t\t\tghostContext.rotate(angleShift);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\t// Restore angle\n\t\t\t\tcontext.restore();\n\t\t\t\tif (interactive) {\n\t\t\t\t\tghostContext.restore();\n\t\t\t\t}\n\n\t\t\t\t// Adjust radius (for `inside = true`)\n\t\t\t\tif (inside) {\n\t\t\t\t\tradius -= textHeight;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t// Restore\n\t\t\tcontext.restore();\n\t\t\tif (interactive) {\n\t\t\t\tghostContext.restore();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _measure(layer: CanvasLayer): IBounds {\n\t\tswitch (this.textType) {\n\t\t\tcase \"circular\":\n\t\t\t\treturn this._measureCircular(layer);\n\t\t\tdefault:\n\t\t\t\treturn super._measure(layer);\n\t\t}\n\t}\n\n\tpublic _measureCircular(layer: CanvasLayer): IBounds {\n\t\tconst context = layer.context;\n\t\tconst ghostContext = this._renderer._ghostContext;\n\t\tconst rtl = this.style.direction == \"rtl\";\n\n\t\tconst oversizedBehavior = this.style.oversizedBehavior;\n\t\tconst maxWidth = this.style.maxWidth!;\n\n\t\tconst truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\n\t\tconst ellipsis = this.style.ellipsis || \"\";\n\t\tlet ellipsisMetrics: TextMetrics;\n\t\t//const wrap = $type.isNumber(maxWidth) && (oversizedBehavior == \"wrap\" || oversizedBehavior == \"wrap-no-break\");\n\n\n\t\t// Reset text info\n\t\tthis._textVisible = true;\n\t\tthis._textInfo = [];\n\t\tthis._textReversed = false;\n\n\t\t// Pre-render\n\t\tcontext.save();\n\t\tghostContext.save();\n\t\tthis._prerender(layer, true);\n\n\t\t// Split up text into lines\n\t\tconst lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\n\t\tlet styleRestored = true;\n\t\tlet totalWidth = 0;\n\n\t\t// Iterate through the lines\n\t\tlet offsetY = 0;\n\t\t$array.each(lines, (line, _index) => {\n\n\t\t\t// Split up line into format/value chunks\n\t\t\tlet chunks = TextFormatter.chunk(line, false, this.style.ignoreFormatting);\n\n\t\t\t// Init line object\n\t\t\tlet lineInfo: ILine = {\n\t\t\t\toffsetY: offsetY,\n\t\t\t\tascent: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttextChunks: []\n\t\t\t};\n\n\t\t\tlet currentStyle: string | undefined;\n\t\t\tlet currentFill: Color | undefined;\n\t\t\tlet currentChunkWidth: number | undefined;\n\n\t\t\t//while(chunk = chunks.shift()) {\n\t\t\t$array.each(chunks, (chunk, _index) => {\n\n\t\t\t\t// Format chunk\n\t\t\t\tif (chunk.type == \"format\") {\n\t\t\t\t\tif (chunk.text == \"[/]\") {\n\t\t\t\t\t\tif (!styleRestored) {\n\t\t\t\t\t\t\tcontext.restore();\n\t\t\t\t\t\t\tghostContext.restore();\n\t\t\t\t\t\t\tstyleRestored = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentFill = undefined;\n\t\t\t\t\t\tcurrentStyle = undefined;\n\t\t\t\t\t\tcurrentChunkWidth = undefined;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet format = TextFormatter.getTextStyle(chunk.text);\n\t\t\t\t\t\tconst fontStyle = this._getFontStyle(format);\n\t\t\t\t\t\tcontext.save();\n\t\t\t\t\t\tghostContext.save();\n\t\t\t\t\t\tcontext.font = fontStyle;\n\t\t\t\t\t\tcurrentStyle = fontStyle;\n\t\t\t\t\t\tif (format.fill) {\n\t\t\t\t\t\t\tcurrentFill = <Color>format.fill;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((<any>format).width) {\n\t\t\t\t\t\t\tcurrentChunkWidth = $type.toNumber((<any>format).width);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyleRestored = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (truncate) {\n\t\t\t\t\t\tellipsisMetrics = this._measureText(ellipsis, context);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Text format\n\t\t\t\telse if (chunk.type == \"value\") {\n\n\t\t\t\t\t// Measure each letter\n\t\t\t\t\tconst chars = chunk.text.match(/./ug) || [];\n\t\t\t\t\tif (rtl) {\n\t\t\t\t\t\tchars.reverse();\n\t\t\t\t\t}\n\t\t\t\t\tfor (let i = 0; i < chars.length; i++) {\n\n\t\t\t\t\t\tconst char = chars[i];\n\n\t\t\t\t\t\t// Measure\n\t\t\t\t\t\tconst metrics = this._measureText(char, context);\n\t\t\t\t\t\tlet chunkWidth = metrics.width;\n\n\t\t\t\t\t\t// Chunk width?\n\t\t\t\t\t\tif (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\n\t\t\t\t\t\t\tchunkWidth = currentChunkWidth;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n\t\t\t\t\t\tif (chunkHeight > lineInfo.height) {\n\t\t\t\t\t\t\tlineInfo.height = chunkHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\n\t\t\t\t\t\t\tlineInfo.ascent = metrics.actualBoundingBoxAscent;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlineInfo.width += chunkWidth;\n\t\t\t\t\t\tlineInfo.left += metrics.actualBoundingBoxLeft;\n\t\t\t\t\t\tlineInfo.right += metrics.actualBoundingBoxRight;\n\t\t\t\t\t\tlineInfo.textChunks.push({\n\t\t\t\t\t\t\tstyle: currentStyle,\n\t\t\t\t\t\t\tfill: currentFill,\n\t\t\t\t\t\t\ttext: char,\n\t\t\t\t\t\t\twidth: chunkWidth,\n\t\t\t\t\t\t\theight: chunkHeight + metrics.actualBoundingBoxDescent,\n\t\t\t\t\t\t\tleft: metrics.actualBoundingBoxLeft,\n\t\t\t\t\t\t\tright: metrics.actualBoundingBoxRight,\n\t\t\t\t\t\t\tascent: metrics.actualBoundingBoxAscent,\n\t\t\t\t\t\t\toffsetX: 0,\n\t\t\t\t\t\t\toffsetY: chunkHeight,\n\t\t\t\t\t\t\ttextDecoration: undefined\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\ttotalWidth += chunkWidth;\n\n\t\t\t\t\t\t// Handle oversized behavior\n\t\t\t\t\t\tif (truncate) {\n\t\t\t\t\t\t\t// Measure ellipsis and check if it fits\n\t\t\t\t\t\t\tif (!ellipsisMetrics) {\n\t\t\t\t\t\t\t\tellipsisMetrics = this._measureText(ellipsis, context);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\n\t\t\t\t\t\t\ttotalWidth += ellipsisWidth;\n\t\t\t\t\t\t\tif ((totalWidth + ellipsisWidth) > maxWidth) {\n\t\t\t\t\t\t\t\tif (lineInfo.textChunks.length == 1) {\n\t\t\t\t\t\t\t\t\tthis._textVisible = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tlineInfo.width += ellipsisWidth;\n\t\t\t\t\t\t\t\t\tlineInfo.left += ellipsisMetrics.actualBoundingBoxLeft;\n\t\t\t\t\t\t\t\t\tlineInfo.right += ellipsisMetrics.actualBoundingBoxRight;\n\t\t\t\t\t\t\t\t\tlineInfo.textChunks.push({\n\t\t\t\t\t\t\t\t\t\tstyle: currentStyle,\n\t\t\t\t\t\t\t\t\t\tfill: currentFill,\n\t\t\t\t\t\t\t\t\t\ttext: ellipsis,\n\t\t\t\t\t\t\t\t\t\twidth: ellipsisWidth,\n\t\t\t\t\t\t\t\t\t\theight: chunkHeight + ellipsisMetrics.actualBoundingBoxDescent,\n\t\t\t\t\t\t\t\t\t\tleft: ellipsisMetrics.actualBoundingBoxLeft,\n\t\t\t\t\t\t\t\t\t\tright: ellipsisMetrics.actualBoundingBoxRight,\n\t\t\t\t\t\t\t\t\t\tascent: ellipsisMetrics.actualBoundingBoxAscent,\n\t\t\t\t\t\t\t\t\t\toffsetX: 0,\n\t\t\t\t\t\t\t\t\t\toffsetY: chunkHeight,\n\t\t\t\t\t\t\t\t\t\ttextDecoration: undefined\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (rtl) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.style.lineHeight instanceof Percent) {\n\t\t\t\tlineInfo.height *= this.style.lineHeight.value;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlineInfo.height *= this.style.lineHeight || 1.2;\n\t\t\t}\n\n\t\t\tthis._textInfo!.push(lineInfo);\n\n\t\t\t//lineInfo.offsetY += lineInfo.ascent;\n\t\t\toffsetY += lineInfo.height;\n\n\n\t\t});\n\n\t\tif (!styleRestored) {\n\t\t\tcontext.restore();\n\t\t\tghostContext.restore();\n\t\t}\n\n\n\t\tif (oversizedBehavior == \"hide\" && (totalWidth > maxWidth)) {\n\t\t\tthis._textVisible = false;\n\t\t}\n\n\t\t// Adjust chunk internal offsets\n\t\t$array.each(this._textInfo, (lineInfo) => {\n\t\t\t$array.each(lineInfo.textChunks, (chunk) => {\n\t\t\t\tchunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);\n\t\t\t});\n\t\t});\n\n\t\tcontext.restore();\n\t\tghostContext.restore();\n\n\t\treturn {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t};\n\t}\n\n}\n\n/**\n * @ignore\n */\nexport class CanvasImage extends CanvasDisplayObject implements IPicture {\n\tpublic width: number | undefined;\n\tpublic height: number | undefined;\n\tpublic image: HTMLImageElement | undefined;\n\tpublic tainted?: boolean;\n\n\tpublic shadowColor?: Color;\n\tpublic shadowBlur?: number;\n\tpublic shadowOffsetX?: number;\n\tpublic shadowOffsetY?: number;\n\tpublic shadowOpacity?: number;\n\n\tprotected _imageMask: HTMLCanvasElement | undefined;\n\n\tconstructor(renderer: CanvasRenderer, image: HTMLImageElement | undefined) {\n\t\tsuper(renderer);\n\t\tthis.image = image;\n\t}\n\n\tprotected _dispose(): void {\n\t\tsuper._dispose();\n\n\t\tif (this._imageMask) {\n\t\t\tclearCanvas(this._imageMask);\n\t\t}\n\t}\n\n\tgetLocalBounds(): IBounds {\n\t\tif (!this._localBounds) {\n\n\n\t\t\tlet w = 0;\n\t\t\tlet h = 0;\n\n\t\t\tif (this.width) {\n\t\t\t\tw = this.width;\n\t\t\t}\n\t\t\tif (this.height) {\n\t\t\t\th = this.height;\n\t\t\t}\n\n\t\t\tthis._localBounds = {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tright: w,\n\t\t\t\tbottom: h\n\t\t\t};\n\n\t\t\tthis._addBounds(this._localBounds);\n\t\t}\n\t\treturn this._localBounds;\n\t}\n\n\tprotected _render(parentLayer: CanvasLayer): void {\n\t\tsuper._render(parentLayer);\n\n\t\tif (this.image) {\n\t\t\tconst layer = this._layer || parentLayer;\n\n\t\t\tif (this.tainted === undefined) {\n\t\t\t\tthis.tainted = isTainted(this.image);\n\t\t\t\tlayer.tainted = true;\n\t\t\t}\n\n\t\t\tif (this.tainted && this._renderer._omitTainted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (layer.dirty) {\n\n\t\t\t\tif (this.shadowColor) {\n\t\t\t\t\tlayer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);\n\t\t\t\t}\n\t\t\t\tif (this.shadowBlur) {\n\t\t\t\t\tlayer.context.shadowBlur = this.shadowBlur;\n\t\t\t\t}\n\t\t\t\tif (this.shadowOffsetX) {\n\t\t\t\t\tlayer.context.shadowOffsetX = this.shadowOffsetX;\n\t\t\t\t}\n\t\t\t\tif (this.shadowOffsetY) {\n\t\t\t\t\tlayer.context.shadowOffsetY = this.shadowOffsetY;\n\t\t\t\t}\n\n\t\t\t\t// TODO should this round ?\n\t\t\t\tconst width = this.width || this.image.naturalWidth;\n\t\t\t\tconst height = this.height || this.image.naturalHeight;\n\n\t\t\t\tlayer.context.drawImage(this.image, 0, 0, width, height);\n\t\t\t}\n\n\t\t\tif (this.interactive && this._isInteractive()) {\n\t\t\t\tconst mask = this._getMask(this.image);\n\n\t\t\t\tthis._renderer._ghostContext.drawImage(mask, 0, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic clear(): void {\n\t\tsuper.clear();\n\t\tthis.image = undefined;\n\t\tthis._imageMask = undefined;\n\t}\n\n\tprotected _getMask(image: HTMLImageElement): HTMLCanvasElement {\n\t\tif (this._imageMask === undefined) {\n\t\t\t// TODO should this round ?\n\t\t\tconst width = this.width || image.naturalWidth;\n\t\t\tconst height = this.height || image.naturalHeight;\n\n\t\t\t// We need to create a second canvas because destination-in clears out the entire canvas\n\t\t\tconst canvas = document.createElement(\"canvas\");\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\n\t\t\tconst context = canvas.getContext(\"2d\")!;\n\n\t\t\tcontext.imageSmoothingEnabled = false;\n\n\t\t\tcontext.fillStyle = this._getColorId();\n\t\t\tcontext.fillRect(0, 0, width, height);\n\n\t\t\tif (!isTainted(image)) {\n\t\t\t\tcontext.globalCompositeOperation = \"destination-in\";\n\t\t\t\tcontext.drawImage(image, 0, 0, width, height);\n\t\t\t}\n\n\t\t\tthis._imageMask = canvas;\n\t\t}\n\n\t\treturn this._imageMask;\n\t}\n\n}\n\n/**\n * @ignore\n */\nexport class CanvasRendererEvent<A> implements IRendererEvent<A> {\n\tpublic id: Id;\n\tpublic simulated: boolean = false;\n\tpublic native: boolean = true;\n\n\tconstructor(public event: A, public point: IPoint, public bbox: DOMRect) {\n\t\tif ($utils.supports(\"touchevents\") && event instanceof Touch) {\n\t\t\tthis.id = event.identifier;\n\n\t\t} else {\n\t\t\tthis.id = null;\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\ninterface Event<Key extends keyof IRendererEvents> {\n\tobject: CanvasDisplayObject;\n\tcontext: unknown;\n\tcallback: (event: IRendererEvents[Key]) => void;\n\tdisposed: boolean;\n}\n\n/**\n * @ignore\n */\ninterface Events<Key extends keyof IRendererEvents> {\n\tdisposer: IDisposer;\n\tcallbacks: Array<Event<Key>>;\n\tdispatching: boolean;\n\tcleanup: boolean;\n}\n\n/**\n * @ignore\n */\nexport class CanvasRenderer extends ArrayDisposer implements IRenderer, IDisposer {\n\tpublic view: HTMLElement = document.createElement(\"div\");\n\tprotected _layerDom: HTMLElement = document.createElement(\"div\");\n\n\tpublic layers: Array<CanvasLayer> = [];\n\tpublic _dirtyLayers: Array<CanvasLayer> = [];\n\tpublic defaultLayer: CanvasLayer = this.getLayer(0);\n\n\tprotected _ghostView: HTMLCanvasElement;\n\tpublic _ghostContext: CanvasRenderingContext2D;\n\n\tprotected _patternCanvas: HTMLCanvasElement = document.createElement(\"canvas\");\n\tprotected _patternContext: CanvasRenderingContext2D = this._patternCanvas.getContext(\"2d\")!;\n\n\tprotected _width: number = 0;\n\tprotected _height: number = 0;\n\n\tprotected _clientWidth: number = 0;\n\tprotected _clientHeight: number = 0;\n\n\tpublic resolution: number;\n\tpublic interactionsEnabled: boolean = true;\n\n\tprotected _listeners: { [key: string]: CounterDisposer } = {};\n\tprotected _events: { [Key in keyof IRendererEvents]?: Events<Key> } = {};\n\n\tprotected _colorId: number = 0;\n\tprotected _colorMap: { [color: string]: CanvasDisplayObject } = {};\n\n\tpublic _forceInteractive: number = 0;\n\tpublic _omitTainted: boolean = false;\n\n\t// TODO this should store the Id as well\n\tpublic _hovering: Set<CanvasDisplayObject> = new Set();\n\tpublic _dragging: Array<{ id: Id, value: CanvasDisplayObject }> = [];\n\tpublic _mousedown: Array<{ id: Id, value: CanvasDisplayObject }> = [];\n\n\tprotected _lastPointerMoveEvent: { events: Array<IPointerEvent>, native: boolean } | undefined;\n\n\tpublic tapToActivate: boolean = false;\n\tpublic tapToActivateTimeout: number = 3000;\n\tpublic _touchActive: boolean = false;\n\tprotected _touchActiveTimeout?: number;\n\n\t/*protected _mouseMoveThrottler: Throttler = new Throttler(() => {\n\t\tthis._dispatchGlobalMousemove(this._lastPointerMoveEvent.event, this._lastPointerMoveEvent.native);\n\t});\n\t*/\n\n\tconstructor(resolution?: number) {\n\t\tsuper();\n\n\t\tif (resolution == null) {\n\t\t\tthis.resolution = window.devicePixelRatio;\n\t\t} else {\n\t\t\tthis.resolution = resolution;\n\t\t}\n\n\t\tthis.view.style.position = \"absolute\";\n\t\tthis.view.appendChild(this._layerDom);\n\n\t\tthis._disposers.push(new Disposer(() => {\n\t\t\t$object.each(this._events, (_key, events) => {\n\t\t\t\tevents.disposer.dispose();\n\t\t\t});\n\n\t\t\t$array.each(this.layers, (layer) => {\n\t\t\t\tclearCanvas(layer.view);\n\n\t\t\t\tif (layer.exportableView) {\n\t\t\t\t\tclearCanvas(layer.exportableView);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tclearCanvas(this._ghostView);\n\t\t\tclearCanvas(this._patternCanvas);\n\t\t}));\n\n\t\t// @todo : do the same for ghost\n\t\tthis._ghostView = document.createElement(\"canvas\");\n\t\tthis._ghostContext = this._ghostView.getContext(\"2d\", { alpha: false, willReadFrequently: true })! as CanvasRenderingContext2D;\n\t\tthis._ghostContext.imageSmoothingEnabled = false;\n\n\t\tthis._ghostView.style.position = \"absolute\";\n\t\tthis._ghostView.style.top = \"0px\";\n\t\tthis._ghostView.style.left = \"0px\";\n\n\t\tthis._disposers.push($utils.addEventListener(this._ghostView, \"click\", (originalEvent: MouseEvent) => {\n\t\t\tconst event = this.getEvent(originalEvent);\n\t\t\tconst target = this._getHitTarget(event.point, event.bbox);\n\t\t\tconsole.debug(target);\n\t\t}));\n\n\t\t// Monitor for possible pixel ratio changes (when page is zoomed)\n\t\tthis._disposers.push($utils.onZoom(() => {\n\t\t\tif (resolution == null) {\n\t\t\t\tthis.resolution = window.devicePixelRatio;\n\t\t\t}\n\t\t}));\n\n\t\t// We need this in order top prevent default touch gestures when dragging\n\t\t// draggable elements\n\t\tif ($utils.supports(\"touchevents\")) {\n\t\t\tconst listener = (ev: any) => {\n\t\t\t\tif (this._dragging.length !== 0) {\n\t\t\t\t\t$array.eachContinue(this._dragging, (item) => {\n\t\t\t\t\t\tif (item.value.shouldCancelTouch()) {\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// If touch down happends, delay touch out\n\t\t\t\tif (this._touchActiveTimeout) {\n\t\t\t\t\tthis._delayTouchDeactivate();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis._disposers.push($utils.addEventListener(window, \"touchstart\", listener, { passive: false }));\n\t\t\tthis._disposers.push($utils.addEventListener(this.view, \"touchstart\", listener, { passive: false }));\n\n\t\t\tthis._disposers.push($utils.addEventListener(this.view, \"touchmove\", () => {\n\t\t\t\t// If touch is moving, delay touch out\n\t\t\t\tif (this._touchActiveTimeout) {\n\t\t\t\t\tthis._delayTouchDeactivate();\n\t\t\t\t}\n\t\t\t}, { passive: true }));\n\n\t\t\tthis._disposers.push($utils.addEventListener(window, \"click\", (_ev: any) => {\n\t\t\t\tthis._touchActive = false;\n\t\t\t}, { passive: true }));\n\n\t\t\tthis._disposers.push($utils.addEventListener(this.view, \"click\", (_ev: any) => {\n\t\t\t\twindow.setTimeout(() => {\n\t\t\t\t\tthis._touchActive = true;\n\t\t\t\t\tthis._delayTouchDeactivate();\n\t\t\t\t}, 100);\n\t\t\t}, { passive: true }));\n\n\t\t}\n\n\t\t// Prevent scrolling of the window when hovering on \"wheelable\" object\n\t\tif ($utils.supports(\"wheelevents\")) {\n\t\t\tthis._disposers.push($utils.addEventListener(this.view, \"wheel\", (ev) => {\n\t\t\t\tlet prevent = false;\n\t\t\t\tthis._hovering.forEach((obj) => {\n\t\t\t\t\tif (obj.wheelable) {\n\t\t\t\t\t\tprevent = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (prevent) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\t\t\t}, { passive: false }));\n\t\t}\n\n\t}\n\n\tprotected _delayTouchDeactivate(): void {\n\t\tif (this._touchActiveTimeout) {\n\t\t\tclearTimeout(this._touchActiveTimeout);\n\t\t}\n\t\tif (this.tapToActivateTimeout > 0) {\n\t\t\tthis._touchActiveTimeout = window.setTimeout(() => {\n\t\t\t\tthis._touchActive = false;\n\t\t\t}, this.tapToActivateTimeout);\n\t\t}\n\t}\n\n\tpublic get debugGhostView(): boolean {\n\t\treturn !!this._ghostView.parentNode;\n\t}\n\n\tpublic set debugGhostView(value: boolean) {\n\t\tif (value) {\n\t\t\tif (!this._ghostView.parentNode) {\n\t\t\t\tthis.view.appendChild(this._ghostView);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (this._ghostView.parentNode) {\n\t\t\t\tthis._ghostView.parentNode.removeChild(this._ghostView);\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateLinearGradient(x1: number, y1: number, x2: number, y2: number): CanvasGradient {\n\t\treturn this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);\n\t}\n\n\tcreateRadialGradient(x1: number, y1: number, radius1: number, x2: number, y2: number, radius2: number): CanvasGradient {\n\t\treturn this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);\n\t}\n\n\tcreatePattern(graphics: CanvasGraphics, background: CanvasGraphics, repetition: string, width: number, height: number): CanvasPattern {\n\t\t// const patternCanvas = document.createElement(\"canvas\");\n\t\t// const patternContext = patternCanvas.getContext(\"2d\")!;\n\t\t// patternCanvas.width = width;\n\t\t// patternCanvas.height = height;\n\t\t// if (fill) {\n\t\t// \tpatternContext.fillStyle = fill.toCSS();\n\t\t// \tpatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\n\t\t// }\n\n\t\t// const layer = {\n\t\t// \tview: patternCanvas,\n\t\t// \tcontext: patternContext,\n\t\t// \tvisible: true,\n\t\t// \torder: 0,\n\t\t// \twidth: width,\n\t\t// \theight: height,\n\t\t// \tdirty: true\n\t\t// };\n\n\t\t// // patternContext.arc(0, 0, 50, 0, .5 * Math.PI);\n\t\t// // patternContext.stroke();\n\n\t\t// image.targetLayer = layer;\n\t\t// image.render(layer);\n\n\t\t//this._layerDom.appendChild(patternCanvas);\n\n\t\tthis._patternCanvas.width = width;\n\t\tthis._patternCanvas.height = height;\n\n\t\tthis._patternContext.clearRect(0, 0, width, height);\n\n\t\t// patternCanvas.style.width = width * this.resolution + \"px\";\n\t\t// patternCanvas.style.height = height * this.resolution + \"px\";\n\n\t\tbackground.renderDetached(this._patternContext);\n\t\tgraphics.renderDetached(this._patternContext);\n\n\t\treturn this._patternContext.createPattern(this._patternCanvas, repetition)!;\n\t}\n\n\tmakeContainer(): CanvasContainer {\n\t\treturn new CanvasContainer(this);\n\t}\n\n\tmakeGraphics(): CanvasGraphics {\n\t\treturn new CanvasGraphics(this);\n\t}\n\n\tmakeText(text: string, style: CanvasTextStyle): CanvasText {\n\t\treturn new CanvasText(this, text, style);\n\t}\n\n\tmakeTextStyle(): CanvasTextStyle {\n\t\treturn new CanvasTextStyle();\n\t}\n\n\tmakeRadialText(text: string, style: CanvasTextStyle): CanvasRadialText {\n\t\treturn new CanvasRadialText(this, text, style);\n\t}\n\n\tmakePicture(image: HTMLImageElement | undefined): CanvasImage {\n\t\treturn new CanvasImage(this, image);\n\t}\n\n\tresize(width: number, height: number): void {\n\t\tthis._clientWidth = width;\n\t\tthis._clientHeight = height;\n\t\tthis._width = Math.floor(width * this.resolution);\n\t\tthis._height = Math.floor(height * this.resolution);\n\n\t\t$array.each(this.layers, (layer) => {\n\t\t\tif (layer) {\n\t\t\t\tlayer.dirty = true;\n\n\t\t\t\tif (layer.width != null) {\n\t\t\t\t\tlayer.view.width = layer.width;\n\t\t\t\t\tlayer.view.style.width = layer.width + \"px\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlayer.view.width = this._width;\n\t\t\t\t\tlayer.view.style.width = width + \"px\";\n\t\t\t\t}\n\n\t\t\t\tif (layer.height != null) {\n\t\t\t\t\tlayer.view.height = layer.height;\n\t\t\t\t\tlayer.view.style.height = layer.height + \"px\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlayer.view.height = this._height;\n\t\t\t\t\tlayer.view.style.height = height + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// @todo: do the same for ghost canvases\n\t\tthis._ghostView.width = this._width;\n\t\tthis._ghostView.height = this._height;\n\t\tthis._ghostView.style.width = width + \"px\";\n\t\tthis._ghostView.style.height = height + \"px\";\n\n\t\tthis.view.style.width = width + \"px\";\n\t\tthis.view.style.height = height + \"px\";\n\t}\n\n\tprivate createDetachedLayer(willReadFrequently: boolean = false): CanvasLayer {\n\t\tconst view = document.createElement(\"canvas\");\n\t\tconst context = view.getContext(\"2d\", { willReadFrequently: willReadFrequently })! as CanvasRenderingContext2D;\n\t\tconst layer = {\n\t\t\tview: view,\n\t\t\tcontext: context,\n\t\t\torder: 0,\n\t\t\tvisible: true,\n\t\t\twidth: undefined,\n\t\t\theight: undefined,\n\t\t\tdirty: true,\n\t\t\ttainted: false\n\t\t};\n\n\t\tview.style.position = \"absolute\";\n\t\tview.style.top = \"0px\";\n\t\tview.style.left = \"0px\";\n\n\t\treturn layer;\n\t}\n\n\tgetLayerByOrder(order: number): CanvasLayer | undefined {\n\t\tconst layers = this.layers;\n\t\tconst length = layers.length;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst layer = layers[i];\n\t\t\tif (layer.order == order) {\n\t\t\t\treturn layer;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetLayer(order: number, visible: boolean = true): CanvasLayer {\n\t\tlet existingLayer = this.getLayerByOrder(order);\n\t\tif (existingLayer) {\n\t\t\treturn existingLayer;\n\t\t}\n\n\t\tconst layer = this.createDetachedLayer(order == 99);\n\t\tlayer.order = order;\n\t\tlayer.visible = visible;\n\n\t\tif (layer.visible && this._width) {\n\t\t\tlayer.view.width = this._width;\n\t\t\tlayer.view.style.width = this._clientWidth + \"px\";\n\t\t\tlayer.view.height = this._height;\n\t\t\tlayer.view.style.height = this._clientHeight + \"px\";\n\t\t}\n\n\t\tconst layers = this.layers;\n\n\t\tlayers.push(layer);\n\n\t\tlayers.sort((a, b) => {\n\t\t\tif (a.order > b.order) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse if (a.order < b.order) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\n\t\tconst length = layers.length;\n\t\tconst layerIndex = $array.indexOf(layers, layer);\n\t\tlet next;\n\n\t\tfor (let i = layerIndex + 1; i < length; i++) {\n\t\t\tif (layers[i].visible) {\n\t\t\t\tnext = layers[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (layer.visible) {\n\t\t\tif (next === undefined) {\n\t\t\t\tthis._layerDom.appendChild(layer.view);\n\n\t\t\t} else {\n\t\t\t\tthis._layerDom.insertBefore(layer.view, next.view);\n\t\t\t}\n\t\t}\n\n\t\treturn layer;\n\t}\n\n\trender(root: CanvasDisplayObject): void {\n\n\t\tthis._dirtyLayers.length = 0;\n\n\t\t$array.each(this.layers, (layer) => {\n\t\t\tif (layer) {\n\t\t\t\tif (layer.dirty && layer.visible) {\n\t\t\t\t\tconst context = layer.context;\n\n\t\t\t\t\tthis._dirtyLayers.push(layer);\n\n\t\t\t\t\tcontext.save();\n\t\t\t\t\tcontext.clearRect(0, 0, this._width, this._height);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._ghostContext.save();\n\t\t//this._ghostContext.clearRect(0, 0, this._width, this._height);\n\t\t//this._ghostContext.beginPath();\n\t\tthis._ghostContext.fillStyle = '#000';\n\t\tthis._ghostContext.fillRect(0, 0, this._width, this._height);\n\n\t\troot.render(this.defaultLayer);\n\n\t\tthis._ghostContext.restore();\n\n\t\t//setTimeout(() => {\n\n\t\t// Remove this after the Chrome bug is fixed:\n\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=1279394\n\t\t$array.each(this.layers, (layer) => {\n\t\t\tif (layer) {\n\t\t\t\tconst context = layer.context;\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(0, 0);\n\t\t\t\tcontext.stroke();\n\t\t\t}\n\t\t});\n\n\t\t$array.each(this._dirtyLayers, (layer) => {\n\t\t\tlayer.context.restore();\n\t\t\tlayer.dirty = false;\n\t\t});\n\t\t//}, 100)\n\n\t\tif (this._hovering.size && this._lastPointerMoveEvent) {\n\t\t\t//this._mouseMoveThrottler.run();\n\t\t\tconst native = this._lastPointerMoveEvent.native;\n\n\t\t\t$array.each(this._lastPointerMoveEvent.events, (event) => {\n\t\t\t\tthis._dispatchGlobalMousemove(event, native);\n\t\t\t});\n\t\t}\n\t}\n\n\tpaintId(obj: CanvasDisplayObject): string {\n\t\tconst id = distributeId(++this._colorId);\n\t\tconst color = Color.fromHex(id).toCSS();\n\t\tthis._colorMap[color] = obj;\n\t\treturn color;\n\t}\n\n\t_removeObject(obj: CanvasDisplayObject): void {\n\t\tif (obj._colorId !== undefined) {\n\t\t\tdelete this._colorMap[obj._colorId];\n\t\t}\n\t}\n\n\t// protected _identifyObjectByColor(colorId: number): CanvasDisplayObject | undefined {\n\t// \treturn this._colorMap[colorId];\n\t// }\n\n\tpublic getEvent<A extends IPointerEvent>(originalEvent: A, adjustPoint: boolean = true): CanvasRendererEvent<A> {\n\t\tconst bbox: DOMRect = adjustPoint ? this.view.getBoundingClientRect() : new DOMRect(0, 0, 0, 0);\n\n\t\treturn new CanvasRendererEvent(\n\t\t\toriginalEvent,\n\t\t\t(originalEvent.clientX || originalEvent.clientY ? {\n\t\t\t\tx: originalEvent.clientX - (originalEvent.clientX ? bbox.left : 0),\n\t\t\t\ty: originalEvent.clientY - (originalEvent.clientY ? bbox.top : 0),\n\t\t\t} : {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t}),\n\t\t\tbbox,\n\t\t);\n\t}\n\n\t_getHitTarget(point: IPoint, bbox: DOMRect): CanvasDisplayObject | undefined | false {\n\t\tif (bbox.width === 0 || bbox.height === 0 || point.x < 0 || point.x > bbox.width || point.y < 0 || point.y > bbox.height) {\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tconst pixel = this._ghostContext.getImageData(\n\t\t\t\t// TODO should this round ?\n\t\t\t\tMath.round((point.x / bbox.width) * this._width),\n\t\t\t\tMath.round((point.y / bbox.height) * this._height),\n\t\t\t\t1,\n\t\t\t\t1\n\t\t\t);\n\n\t\t\tif (pixel.data[0] === 0 && pixel.data[1] === 0 && pixel.data[2] === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst colorId = Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();\n\t\t\tconst hit = this._colorMap[colorId];\n\n\t\t\treturn hit;\n\t\t}\n\t}\n\n\t_withEvents<Key extends keyof IRendererEvents>(key: Key, f: (events: Events<Key>) => void): void {\n\t\tconst events = this._events[key] as Events<Key> | undefined;\n\n\t\tif (events !== undefined) {\n\t\t\tevents.dispatching = true;\n\n\t\t\ttry {\n\t\t\t\tf(events);\n\n\t\t\t} finally {\n\t\t\t\tevents.dispatching = false;\n\n\t\t\t\tif (events.cleanup) {\n\t\t\t\t\tevents.cleanup = false;\n\n\t\t\t\t\t$array.keepIf(events.callbacks, (callback) => {\n\t\t\t\t\t\treturn !callback.disposed;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (events.callbacks.length === 0) {\n\t\t\t\t\t\tevents.disposer.dispose();\n\t\t\t\t\t\tdelete this._events[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_dispatchEventAll<Key extends keyof IRendererEvents>(key: Key, event: IRendererEvents[Key]): void {\n\t\tif (!this.interactionsEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._withEvents(key, (events) => {\n\t\t\t$array.each(events.callbacks, (callback) => {\n\t\t\t\tif (!callback.disposed) {\n\t\t\t\t\tcallback.callback.call(callback.context, event);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t_dispatchEvent<Key extends keyof IRendererEvents>(key: Key, target: CanvasDisplayObject, event: IRendererEvents[Key]): boolean {\n\t\tif (!this.interactionsEnabled) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet dispatched = false;\n\n\t\tthis._withEvents(key, (events) => {\n\t\t\t$array.each(events.callbacks, (callback) => {\n\t\t\t\tif (!callback.disposed && callback.object === target) {\n\t\t\t\t\tcallback.callback.call(callback.context, event);\n\t\t\t\t\tdispatched = true;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn dispatched;\n\t}\n\n\t_dispatchMousedown(originalEvent: IPointerEvent): void {\n\n\t\tconst button = (<PointerEvent>originalEvent).button;\n\t\tif (button != 0 && button != 2 && button != 1 && button !== undefined) {\n\t\t\t// Ignore non-primary mouse buttons\n\t\t\treturn;\n\t\t}\n\n\t\tconst event = this.getEvent(originalEvent);\n\t\tconst target = this._getHitTarget(event.point, event.bbox);\n\n\n\t\tif (target) {\n\t\t\tconst id = event.id;\n\n\t\t\tlet dragged = false;\n\n\t\t\teachTargets(target, (obj) => {\n\t\t\t\tconst info = { id: id, value: obj };\n\n\t\t\t\tthis._mousedown.push(info);\n\n\t\t\t\tif (!dragged && this._dispatchEvent(\"pointerdown\", obj, event)) {\n\t\t\t\t\t// Only dispatch the first element which matches\n\t\t\t\t\tdragged = true;\n\n\t\t\t\t\tconst has = this._dragging.some((x) => {\n\t\t\t\t\t\treturn x.value === obj && x.id === id;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!has) {\n\t\t\t\t\t\tthis._dragging.push(info);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatchGlobalMousemove(originalEvent: IPointerEvent, native: boolean): void {\n\t\tconst event = this.getEvent(originalEvent);\n\n\t\tconst target = this._getHitTarget(event.point, event.bbox);\n\t\tevent.native = native;\n\n\t\tif (target) {\n\t\t\tthis._hovering.forEach((obj) => {\n\t\t\t\tif (!obj.contains(target)) {\n\t\t\t\t\tthis._hovering.delete(obj);\n\t\t\t\t\tif (obj.cursorOverStyle) {\n\t\t\t\t\t\t$utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle!);\n\t\t\t\t\t}\n\t\t\t\t\tthis._dispatchEvent(\"pointerout\", obj, event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (event.native) {\n\t\t\t\teachTargets(target, (obj) => {\n\t\t\t\t\tif (!this._hovering.has(obj)) {\n\t\t\t\t\t\tthis._hovering.add(obj);\n\t\t\t\t\t\tif (obj.cursorOverStyle) {\n\t\t\t\t\t\t\tobj._replacedCursorStyle = $utils.getStyle(document.body, \"cursor\");\n\t\t\t\t\t\t\t$utils.setStyle(document.body, \"cursor\", obj.cursorOverStyle);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._dispatchEvent(\"pointerover\", obj, event);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//} else if (target === false) {\n\t\t} else {\n\t\t\tthis._hovering.forEach((obj) => {\n\t\t\t\tif (obj.cursorOverStyle) {\n\t\t\t\t\t$utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle!);\n\t\t\t\t}\n\t\t\t\tthis._dispatchEvent(\"pointerout\", obj, event);\n\t\t\t});\n\n\t\t\tthis._hovering.clear();\n\t\t}\n\t\tthis._dispatchEventAll(\"globalpointermove\", event);\n\t}\n\n\t_dispatchGlobalMouseup(originalEvent: IPointerEvent, native: boolean): void {\n\t\tconst event = this.getEvent(originalEvent);\n\t\tevent.native = native;\n\t\t//const target = this._getHitTarget(event.point);\n\t\tthis._dispatchEventAll(\"globalpointerup\", event);\n\t}\n\n\t_dispatchDragMove(originalEvent: IPointerEvent): void {\n\t\tif (this._dragging.length !== 0) {\n\t\t\tconst event = this.getEvent(originalEvent);\n\t\t\tconst id = event.id;\n\n\t\t\tthis._dragging.forEach((obj) => {\n\t\t\t\tif (obj.id === id) {\n\t\t\t\t\tthis._dispatchEvent(\"pointermove\", obj.value, event);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatchDragEnd(originalEvent: IPointerEvent): void {\n\t\tconst button = (<PointerEvent>originalEvent).button;\n\t\tlet clickevent: \"click\" | \"rightclick\" | \"middleclick\";\n\t\tif (button == 0 || button === undefined) {\n\t\t\tclickevent = \"click\";\n\t\t}\n\t\telse if (button == 2) {\n\t\t\tclickevent = \"rightclick\";\n\t\t}\n\t\telse if (button == 1) {\n\t\t\tclickevent = \"middleclick\";\n\t\t}\n\t\telse {\n\t\t\t// Ignore non-primary mouse buttons\n\t\t\treturn;\n\t\t}\n\n\t\tconst event = this.getEvent(originalEvent);\n\t\tconst id = event.id;\n\n\t\tif (this._mousedown.length !== 0) {\n\t\t\tconst target = this._getHitTarget(event.point, event.bbox);\n\n\t\t\tif (target) {\n\t\t\t\tthis._mousedown.forEach((obj) => {\n\t\t\t\t\tif (obj.id === id && obj.value.contains(target)) {\n\t\t\t\t\t\tthis._dispatchEvent(clickevent, obj.value, event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._mousedown.length = 0;\n\t\t}\n\n\t\tif (this._dragging.length !== 0) {\n\t\t\tthis._dragging.forEach((obj) => {\n\t\t\t\tif (obj.id === id) {\n\t\t\t\t\tthis._dispatchEvent(\"pointerup\", obj.value, event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._dragging.length = 0;\n\t\t}\n\t}\n\n\t_dispatchDoubleClick(originalEvent: IPointerEvent): void {\n\t\tconst event = this.getEvent(originalEvent);\n\t\tconst target = this._getHitTarget(event.point, event.bbox);\n\n\t\tif (target) {\n\t\t\teachTargets(target, (obj) => {\n\t\t\t\tif (this._dispatchEvent(\"dblclick\", obj, event)) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatchWheel(originalEvent: WheelEvent): void {\n\t\tconst event = this.getEvent(originalEvent);\n\t\tconst target = this._getHitTarget(event.point, event.bbox);\n\n\t\tif (target) {\n\t\t\teachTargets(target, (obj) => {\n\t\t\t\tif (this._dispatchEvent(\"wheel\", obj, event)) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t_makeSharedEvent(key: string, f: () => IDisposer): IDisposer {\n\t\tif (this._listeners[key] === undefined) {\n\t\t\tconst listener = f();\n\n\t\t\tthis._listeners[key] = new CounterDisposer(() => {\n\t\t\t\tdelete this._listeners[key];\n\t\t\t\tlistener.dispose();\n\t\t\t});\n\t\t}\n\n\t\treturn this._listeners[key].increment();\n\t}\n\n\t_onPointerEvent(name: string, f: (event: Array<IPointerEvent>, native: boolean) => void): IDisposer {\n\t\tlet native = false;\n\t\tlet timer: number | null = null;\n\n\t\tfunction clear() {\n\t\t\ttimer = null;\n\t\t\tnative = false;\n\t\t}\n\n\t\treturn new MultiDisposer([\n\t\t\tnew Disposer(() => {\n\t\t\t\tif (timer !== null) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\n\t\t\t\tclear();\n\t\t\t}),\n\n\t\t\t$utils.addEventListener(this.view, $utils.getRendererEvent(name), (_) => {\n\t\t\t\tnative = true;\n\n\t\t\t\tif (timer !== null) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\n\t\t\t\ttimer = window.setTimeout(clear, 0);\n\t\t\t}),\n\n\t\t\tonPointerEvent(window, name, (ev) => {\n\t\t\t\tif (timer !== null) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = null;\n\t\t\t\t}\n\n\t\t\t\tf(ev, native);\n\n\t\t\t\tnative = false;\n\t\t\t}),\n\t\t]);\n\t}\n\n\t// This ensures that only a single DOM event is added (e.g. only a single mousemove event listener)\n\t_initEvent(key: keyof IRendererEvents): IDisposer | undefined {\n\t\tswitch (key) {\n\t\t\tcase \"globalpointermove\":\n\t\t\tcase \"pointerover\":\n\t\t\tcase \"pointerout\":\n\t\t\t\treturn this._makeSharedEvent(\"pointermove\", () => {\n\t\t\t\t\tconst listener = (events: Array<IPointerEvent>, native: boolean) => {\n\t\t\t\t\t\tthis._lastPointerMoveEvent = { events, native };\n\n\t\t\t\t\t\t$array.each(events, (event) => {\n\t\t\t\t\t\t\tthis._dispatchGlobalMousemove(event, native);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\treturn new MultiDisposer([\n\t\t\t\t\t\tthis._onPointerEvent(\"pointerdown\", listener),\n\t\t\t\t\t\tthis._onPointerEvent(\"pointermove\", listener),\n\t\t\t\t\t]);\n\t\t\t\t});\n\t\t\tcase \"globalpointerup\":\n\t\t\t\treturn this._makeSharedEvent(\"pointerup\", () => {\n\t\t\t\t\tvar mouseup = this._onPointerEvent(\"pointerup\", (events, native) => {\n\t\t\t\t\t\t$array.each(events, (event) => {\n\t\t\t\t\t\t\tthis._dispatchGlobalMouseup(event, native);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis._lastPointerMoveEvent = { events, native };\n\t\t\t\t\t});\n\n\t\t\t\t\tvar pointercancel = this._onPointerEvent(\"pointercancel\", (events, native) => {\n\t\t\t\t\t\t$array.each(events, (event) => {\n\t\t\t\t\t\t\tthis._dispatchGlobalMouseup(event, native);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis._lastPointerMoveEvent = { events, native };\n\t\t\t\t\t});\n\n\t\t\t\t\treturn new Disposer(() => {\n\t\t\t\t\t\tmouseup.dispose();\n\t\t\t\t\t\tpointercancel.dispose();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tcase \"click\":\n\t\t\tcase \"rightclick\":\n\t\t\tcase \"middleclick\":\n\t\t\tcase \"pointerdown\":\n\t\t\t/*\n\t\t\t\treturn this._makeSharedEvent(\"pointerdown\", () => {\n\t\t\t\t\treturn this._onPointerEvent(\"pointerdown\", (event, native) => {\n\t\t\t\t\t\tthis._lastPointerMoveEvent = { event, native };\n\t\t\t\t\t\tthis._dispatchMousedown(event)\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t*/\n\t\t\tcase \"pointermove\":\n\t\t\tcase \"pointerup\":\n\t\t\t\treturn this._makeSharedEvent(\"pointerdown\", () => {\n\t\t\t\t\t//const throttler = new Throttler();\n\n\t\t\t\t\tconst mousedown = onPointerEvent(this.view, \"pointerdown\", (events) => {\n\t\t\t\t\t\t$array.each(events, (ev) => {\n\t\t\t\t\t\t\tthis._dispatchMousedown(ev);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// TODO handle throttling properly for multitouch\n\t\t\t\t\tconst mousemove = this._onPointerEvent(\"pointermove\", (ev: Array<IPointerEvent>) => {\n\t\t\t\t\t\t//throttler.throttle(() => {\n\t\t\t\t\t\t$array.each(ev, (ev) => {\n\t\t\t\t\t\t\tthis._dispatchDragMove(ev);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//});\n\t\t\t\t\t});\n\n\t\t\t\t\tconst mouseup = this._onPointerEvent(\"pointerup\", (ev: Array<IPointerEvent>) => {\n\t\t\t\t\t\t$array.each(ev, (ev) => {\n\t\t\t\t\t\t\tthis._dispatchDragEnd(ev);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tconst pointercancel = this._onPointerEvent(\"pointercancel\", (ev: Array<IPointerEvent>) => {\n\t\t\t\t\t\t$array.each(ev, (ev) => {\n\t\t\t\t\t\t\tthis._dispatchDragEnd(ev);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\treturn new Disposer(() => {\n\t\t\t\t\t\tmousedown.dispose();\n\t\t\t\t\t\tmousemove.dispose();\n\t\t\t\t\t\tmouseup.dispose();\n\t\t\t\t\t\tpointercancel.dispose();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tcase \"dblclick\":\n\t\t\t\treturn this._makeSharedEvent(\"dblclick\", () => {\n\t\t\t\t\treturn this._onPointerEvent(\"dblclick\", (ev) => {\n\t\t\t\t\t\t$array.each(ev, (ev) => {\n\t\t\t\t\t\t\tthis._dispatchDoubleClick(ev);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tcase \"wheel\":\n\t\t\t\treturn this._makeSharedEvent(\"wheel\", () => {\n\t\t\t\t\treturn $utils.addEventListener(window, $utils.getRendererEvent(\"wheel\"), (event: WheelEvent) => {\n\t\t\t\t\t\tthis._dispatchWheel(event);\n\t\t\t\t\t}, { passive: false });\n\t\t\t\t});\n\t\t}\n\t}\n\n\t_addEvent<C, Key extends keyof IRendererEvents>(object: CanvasDisplayObject, key: Key, callback: (this: C, event: IRendererEvents[Key]) => void, context?: C): IDisposer {\n\t\tlet events: Events<Key> | undefined = this._events[key] as any;\n\n\t\tif (events === undefined) {\n\t\t\tevents = this._events[key] = {\n\t\t\t\tdisposer: this._initEvent(key)!,\n\t\t\t\tcallbacks: [],\n\t\t\t\tdispatching: false,\n\t\t\t\tcleanup: false,\n\t\t\t};\n\t\t}\n\n\t\tconst listener = { object, context, callback, disposed: false };\n\n\t\tevents!.callbacks.push(listener);\n\n\t\treturn new Disposer(() => {\n\t\t\tlistener.disposed = true;\n\n\t\t\tif (events!.dispatching) {\n\t\t\t\tevents!.cleanup = true;\n\n\t\t\t} else {\n\t\t\t\t$array.removeFirst(events!.callbacks, listener);\n\n\t\t\t\tif (events!.callbacks.length === 0) {\n\t\t\t\t\tevents!.disposer.dispose();\n\t\t\t\t\tdelete this._events[key];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getCanvas(root: CanvasDisplayObject, options?: ICanvasOptions): HTMLCanvasElement {\n\n\t\t// Make sure everything is rendered\n\t\tthis.render(root);\n\n\t\tif (!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tlet scale: number = this.resolution;\n\n\t\t// Check if we need to scale\n\t\tif (options.minWidth && (options.minWidth > this._width)) {\n\t\t\tlet minScale = options.minWidth / this._width;\n\t\t\tif (minScale > scale) {\n\t\t\t\tscale = minScale * this.resolution;\n\t\t\t}\n\t\t}\n\n\t\tif (options.minHeight && (options.minHeight > this._height)) {\n\t\t\tlet minScale = options.minHeight / this._height;\n\t\t\tif (minScale > scale) {\n\t\t\t\tscale = minScale * this.resolution;\n\t\t\t}\n\t\t}\n\n\t\tif (options.maxWidth && (options.maxWidth < this._width)) {\n\t\t\tlet maxScale = options.maxWidth / this._width;\n\t\t\tif (maxScale < scale) {\n\t\t\t\tscale = maxScale * this.resolution;\n\t\t\t}\n\t\t}\n\n\t\tif (options.maxHeight && (options.maxHeight > this._height)) {\n\t\t\tlet maxScale = options.maxHeight / this._height;\n\t\t\tif (maxScale < scale) {\n\t\t\t\tscale = maxScale * this.resolution;\n\t\t\t}\n\t\t}\n\n\t\t// Check if we need to compensate for pixel ratio\n\t\tif (options.maintainPixelRatio) {\n\t\t\tscale /= this.resolution;\n\t\t}\n\n\t\t// Init list canvases to remove from DOM after export\n\t\tconst canvases: HTMLCanvasElement[] = [];\n\n\t\t// Set up new canvas for export\n\t\tlet forceRender = false;\n\t\tlet canvasWidth = this._width;\n\t\tlet canvasHeight = this._height;\n\t\tconst canvas = document.createElement(\"canvas\");\n\t\tif (scale != this.resolution) {\n\t\t\tforceRender = true;\n\t\t\tcanvasWidth = this._width * scale / this.resolution;\n\t\t\tcanvasHeight = this._height * scale / this.resolution;\n\t\t}\n\n\t\tcanvas.width = canvasWidth;\n\t\tcanvas.height = canvasHeight;\n\n\t\t// Add to DOM so it inherits CSS\n\t\tcanvas.style.position = \"fixed\";\n\t\tcanvas.style.top = \"-10000px\";\n\t\tthis.view.appendChild(canvas);\n\t\tcanvases.push(canvas);\n\n\t\t// Context\n\t\tconst context = canvas.getContext(\"2d\")!;\n\n\t\tlet width = 0;\n\t\tlet height = 0;\n\t\tlet needRerender = false;\n\n\t\t$array.each(this.layers, (layer) => {\n\t\t\tif (layer && layer.visible) {\n\t\t\t\tif (layer.tainted || forceRender) {\n\t\t\t\t\tneedRerender = true;\n\n\t\t\t\t\tlayer.exportableView = layer.view;\n\t\t\t\t\tlayer.exportableContext = layer.context;\n\n\t\t\t\t\tlayer.view = document.createElement(\"canvas\");\n\n\t\t\t\t\t// Add to DOM so it inherits CSS\n\t\t\t\t\tlayer.view.style.position = \"fixed\";\n\t\t\t\t\tlayer.view.style.top = \"-10000px\";\n\t\t\t\t\tthis.view.appendChild(layer.view);\n\t\t\t\t\tcanvases.push(layer.view);\n\n\t\t\t\t\tlayer.view.width = canvasWidth;\n\t\t\t\t\tlayer.view.height = canvasHeight;\n\n\t\t\t\t\tlayer.context = layer.view.getContext(\"2d\")!;\n\n\t\t\t\t\tlayer.dirty = true;\n\t\t\t\t\tlayer.scale = scale;\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (needRerender) {\n\t\t\tthis._omitTainted = true;\n\t\t\tthis.render(root);\n\t\t\tthis._omitTainted = false;\n\t\t}\n\n\t\t$array.each(this.layers, (layer) => {\n\t\t\tif (layer && layer.visible) {\n\n\t\t\t\t// Layer is fine. Just plop it into our target canvas\n\t\t\t\tcontext.drawImage(layer.view, 0, 0);\n\n\t\t\t\t// Restore layer original canvas\n\t\t\t\tif (layer.exportableView) {\n\t\t\t\t\tlayer.view = layer.exportableView;\n\t\t\t\t\tlayer.exportableView = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (layer.exportableContext) {\n\t\t\t\t\tlayer.context = layer.exportableContext;\n\t\t\t\t\tlayer.exportableContext = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (width < layer.view.clientWidth) {\n\t\t\t\t\twidth = layer.view.clientWidth;\n\t\t\t\t}\n\t\t\t\tif (height < layer.view.clientHeight) {\n\t\t\t\t\theight = layer.view.clientHeight;\n\t\t\t\t}\n\n\t\t\t\tlayer.scale = undefined;\n\t\t\t}\n\t\t});\n\n\t\tcanvas.style.width = width + \"px\";\n\t\tcanvas.style.height = height + \"px\";\n\n\t\t$array.each(canvases, (canvas) => {\n\t\t\tcanvas.style.position = \"\";\n\t\t\tcanvas.style.top = \"\";\n\t\t\tthis.view.removeChild(canvas);\n\t\t})\n\n\t\treturn canvas;\n\t}\n\n}\n\n/**\n * @ignore\n */\nexport interface CanvasLayer extends ILayer {\n\tview: HTMLCanvasElement;\n\tcontext: CanvasRenderingContext2D;\n\ttainted?: boolean;\n\texportableView?: HTMLCanvasElement;\n\texportableContext?: CanvasRenderingContext2D;\n\tscale?: number;\n}\n","import type { IAnimation } from \"./util/Animation\";\nimport type { Entity } from \"./util/Entity\";\nimport type { Sprite } from \"./render/Sprite\";\nimport type { Theme } from \"./Theme\";\nimport type { IPoint } from \"./util/IPoint\";\nimport type { IRenderer, IPointerEvent } from \"./render/backend/Renderer\";\nimport type { Timezone } from \"./util/Timezone\";\n\nimport { Container } from \"./render/Container\";\nimport { Text } from \"./render/Text\";\nimport { HorizontalLayout } from \"./render/HorizontalLayout\";\nimport { VerticalLayout } from \"./render/VerticalLayout\";\nimport { GridLayout } from \"./render/GridLayout\";\nimport { IDisposer, Disposer } from \"./util/Disposer\";\nimport { ResizeSensor } from \"./util/ResizeSensor\";\nimport { InterfaceColors } from \"./util/InterfaceColors\";\nimport { Graphics } from \"./render/Graphics\";\nimport { Rectangle } from \"./render/Rectangle\";\nimport { Tooltip } from \"./render/Tooltip\";\nimport { NumberFormatter } from \"./util/NumberFormatter\";\nimport { DateFormatter } from \"./util/DateFormatter\";\nimport { DurationFormatter } from \"./util/DurationFormatter\";\nimport { ILocale, Language } from \"./util/Language\";\nimport { Events, EventDispatcher } from \"./util/EventDispatcher\";\nimport { DefaultTheme } from \"../themes/DefaultTheme\";\nimport { CanvasRenderer } from \"./render/backend/CanvasRenderer\";\nimport { p100, percent } from \"./util/Percent\";\nimport { color } from \"./util/Color\";\nimport { populateString } from \"./util/PopulateString\";\nimport { registry } from \"./Registry\";\n\nimport * as $order from \"./util/Order\";\nimport * as $array from \"./util/Array\";\nimport * as $object from \"./util/Object\";\nimport * as $utils from \"./util/Utils\";\nimport * as $type from \"./util/Type\";\n\n\nimport en from \"../../locales/en\";\n\n\nfunction rAF(fps: number | undefined, callback: (currentTime: number) => void): void {\n\tif (fps == null) {\n\t\trequestAnimationFrame(callback);\n\n\t} else {\n\t\tsetTimeout(() => {\n\t\t\trequestAnimationFrame(callback);\n\t\t}, 1000 / fps);\n\t}\n}\n\n\n/**\n * @ignore\n */\ninterface IParent extends Entity {\n\t_prepareChildren(): void;\n\t_updateChildren(): void;\n}\n\ninterface IBounds extends Entity {\n\tdepth(): number;\n\t_updateBounds(): void;\n}\n\n\nexport interface IRootEvents {\n\tframestarted: {\n\t\ttimestamp: number;\n\t};\n\tframeended: {\n\t\ttimestamp: number;\n\t};\n}\n\n\nexport interface IRootSettings {\n\n\t/**\n\t * Indicates whether chart should use \"safe\" resolution on some memory-limiting\n\t * platforms such as Safari.\n\t *\n\t * @default true\n\t */\n\tuseSafeResolution?: boolean;\n\n\t/**\n\t * Allows defining margins around chart area for tooltips to go outside the\n\t * chart itself.\n\t *\n\t * @since 5.2.24\n\t */\n\ttooltipContainerBounds?: { top: number, left: number, right: number, bottom: number };\n}\n\n\n// TODO implement Disposer\n/**\n * Root element of the chart.\n *\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\n */\nexport class Root implements IDisposer {\n\n\t/**\n\t * A reference to original chart container (div element).\n\t */\n\tpublic dom: HTMLElement;\n\tpublic _inner: HTMLElement;\n\n\tprotected _isDirty: boolean = false;\n\tprotected _isDirtyParents: boolean = false;\n\tprotected _dirty: { [id: number]: Entity } = {};\n\tprotected _dirtyParents: { [id: number]: IParent } = {};\n\tprotected _dirtyBounds: { [id: number]: IBounds } = {};\n\tprotected _dirtyPositions: { [id: number]: Sprite } = {};\n\n\tprotected _ticker: ((currentTime: number) => void) | null = null;\n\tprotected _tickers: Array<(currentTime: number) => void> = [];\n\n\t/**\n\t * Root's event dispatcher.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\n\t */\n\tpublic events: EventDispatcher<Events<this, IRootEvents>> = new EventDispatcher();\n\n\t/**\n\t * @ignore\n\t * @todo needs description\n\t */\n\tpublic animationTime: number | null = null;\n\n\tprivate _animations: Array<IAnimation> = [];\n\n\tpublic _renderer: IRenderer;\n\n\tpublic _rootContainer!: Container;\n\n\t/**\n\t * Main content container.\n\t */\n\tpublic container!: Container;\n\n\t/**\n\t * A [[Container]] used to display tooltips in.\n\t */\n\tpublic tooltipContainer!: Container\n\n\tpublic _tooltip!: Tooltip;\n\n\t// Locale-related\n\n\t/**\n\t * @ignore\n\t */\n\tpublic language: Language = Language.new(this, {});\n\n\t/**\n\t * Locale used by the chart.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\n\t */\n\tpublic locale: ILocale = en;\n\n\t// Date-time related\n\n\t/**\n\t * Use UTC when formatting date/time.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#UTC_and_time_zones} for more info\n\t */\n\tpublic utc: boolean = false;\n\n\t/**\n\t * If set, will format date/time in specific time zone.\n\t *\n\t * The value should be named time zone, e.g.:\n\t * `\"America/Vancouver\"`, `\"Australia/Sydney\"`, `\"UTC\"`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Time_zone} for more info\n\t * @since 5.1.0\n\t */\n\tpublic timezone?: Timezone;\n\n\t/**\n\t * The maximum FPS that the Root will run at.\n\t *\n\t * If `undefined` it will run at the highest FPS.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Performance} for more info\n\t */\n\tpublic fps: number | undefined;\n\n\t/**\n\t * Number formatter.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\n\t */\n\tpublic numberFormatter: NumberFormatter = NumberFormatter.new(this, {});\n\n\t/**\n\t * Date/time formatter.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\n\t */\n\tpublic dateFormatter: DateFormatter = DateFormatter.new(this, {});\n\n\t/**\n\t * Duration formatter.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\n\t */\n\tpublic durationFormatter: DurationFormatter = DurationFormatter.new(this, {});\n\n\n\t// Accessibility\n\n\t/**\n\t * Global tab index for using for the whole chart\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\n\t */\n\tpublic tabindex: number = 0;\n\n\t//@todo maybe make this better\n\tprotected _tabindexes: Sprite[] = [];\n\n\tprotected _focusElementDirty: boolean = false;\n\tprotected _focusElementContainer: HTMLDivElement | undefined;\n\tprotected _focusedSprite: Sprite | undefined;\n\tprotected _isShift: boolean | undefined;\n\tprotected _keyboardDragPoint: IPoint | undefined;\n\tprotected _tooltipElementContainer: HTMLDivElement | undefined;\n\tprotected _readerAlertElement: HTMLDivElement | undefined;\n\n\tpublic _logo?: Container;\n\n\tpublic _tooltipDiv: HTMLDivElement | undefined;\n\n\t/**\n\t * Used for dynamically-created CSS and JavaScript with strict source policies.\n\t */\n\tpublic nonce?: string;\n\n\t/**\n\t * Special color set to be used for various controls.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\n\t */\n\tpublic interfaceColors: InterfaceColors;\n\n\t/**\n\t * An instance of vertical layout object that can be used to set `layout` setting\n\t * of a [[Container]].\n\t *\n\t * @default VerticalLayout.new()\n\t */\n\tpublic verticalLayout: VerticalLayout = VerticalLayout.new(this, {});\n\n\t/**\n\t * An instance of horizontal layout object that can be used to set `layout` setting\n\t * of a [[Container]].\n\t *\n\t * @default HorizontalLayout.new()\n\t */\n\tpublic horizontalLayout: VerticalLayout = HorizontalLayout.new(this, {});\n\n\t/**\n\t * An instance of grid layout object that can be used to set `layout` setting\n\t * of a [[Container]].\n\t *\n\t * @default VerticalLayout.new()\n\t */\n\tpublic gridLayout: VerticalLayout = GridLayout.new(this, {});\n\n\t/**\n\t * Indicates whether chart should resized automatically when parent container\n\t * width and/or height changes.\n\t *\n\t * If disabled (`autoResize = false`) you can make the chart resize manually\n\t * by calling root element's `resize()` method.\n\t */\n\tpublic autoResize: boolean = true;\n\n\tprotected _fontHash: string = \"\";\n\n\tprotected _isDisposed: boolean = false;\n\tprotected _disposers: Array<IDisposer> = [];\n\n\tprotected _resizeSensorDisposer?: IDisposer;\n\n\tpublic _tooltips: Array<Tooltip> = [];\n\n\tprotected _htmlElementContainer: HTMLDivElement | undefined;\n\tprotected _htmlEnabledContainers: Container[] = [];\n\n\tpublic tooltipRoot?: Root;\n\n\tprotected constructor(id: string | HTMLElement, settings: IRootSettings = {}, isReal: boolean) {\n\n\t\tif (!isReal) {\n\t\t\tthrow new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\n\t\t}\n\n\t\tif (settings.useSafeResolution == null) {\n\t\t\tsettings.useSafeResolution = true;\n\t\t}\n\n\t\tlet resolution;\n\n\t\tif (settings.useSafeResolution) {\n\t\t\tresolution = $utils.getSafeResolution();\n\t\t}\n\n\t\tthis._renderer = new CanvasRenderer(resolution);\n\n\t\tlet dom: HTMLElement | null;\n\n\t\tif (id instanceof HTMLElement) {\n\t\t\tdom = id;\n\t\t}\n\t\telse {\n\t\t\tdom = document.getElementById(id);\n\t\t}\n\n\t\t$array.each(registry.rootElements, (root) => {\n\t\t\tif (root.dom === dom) {\n\t\t\t\tthrow new Error(\"You cannot have multiple Roots on the same DOM node\");\n\t\t\t}\n\t\t});\n\n\t\tthis.interfaceColors = InterfaceColors.new(this, {});\n\n\t\tif (dom === null) {\n\t\t\tthrow new Error(\"Could not find HTML element with id `\" + id + \"`\");\n\t\t}\n\n\t\tthis.dom = dom;\n\n\t\tlet inner: HTMLDivElement = document.createElement(\"div\");\n\t\tinner.style.position = \"relative\";\n\t\tinner.style.height = \"100%\";\n\t\tdom.appendChild(inner);\n\n\t\tconst tooltipContainerBounds = settings.tooltipContainerBounds;\n\t\tif (tooltipContainerBounds) {\n\t\t\tlet tooltipDiv: HTMLDivElement = document.createElement(\"div\");\n\t\t\t$utils.setInteractive(tooltipDiv, false);\n\n\t\t\tlet tooltipDivStyle = tooltipDiv.style;\n\t\t\ttooltipDivStyle.position = \"absolute\";\n\t\t\ttooltipDivStyle.top = -tooltipContainerBounds.top + \"px\";\n\t\t\ttooltipDivStyle.left = -tooltipContainerBounds.left + \"px\";\n\t\t\ttooltipDivStyle.width = \"calc(100% + \" + (tooltipContainerBounds.left + tooltipContainerBounds.right) + \"px)\";\n\t\t\ttooltipDivStyle.height = \"calc(100% + \" + (tooltipContainerBounds.top + tooltipContainerBounds.bottom) + \"px)\";\n\t\t\ttooltipDivStyle.zIndex = \"1\";\n\t\t\tinner.appendChild(tooltipDiv);\n\n\t\t\tthis.tooltipRoot = new Root(tooltipDiv, {}, true);\n\t\t\tthis.tooltipRoot._init();\n\t\t\tthis.tooltipRoot.tooltipContainer.setAll({ x: tooltipContainerBounds.left, y: tooltipContainerBounds.top });\n\t\t}\n\n\t\tthis._inner = inner;\n\n\t\tthis._updateComputedStyles();\n\n\t\tregistry.rootElements.push(this);\n\t}\n\n\n\n\n\tpublic static new(id: string | HTMLElement, settings?: IRootSettings): Root {\n\t\tconst root = new Root(id, settings, true);\n\t\troot._init();\n\t\treturn root;\n\t}\n\n\tpublic moveDOM(id: string | HTMLElement): void {\n\t\tlet dom: HTMLElement | null;\n\n\t\tif (id instanceof HTMLElement) {\n\t\t\tdom = id;\n\t\t}\n\t\telse {\n\t\t\tdom = document.getElementById(id);\n\t\t}\n\n\t\tif (dom) {\n\t\t\twhile (this.dom.childNodes.length > 0) {\n\t\t\t\tdom.appendChild(this.dom.childNodes[0]);\n\t\t\t}\n\t\t\tthis.dom = dom;\n\t\t\tthis._initResizeSensor();\n\t\t\tthis.resize();\n\t\t}\n\n\t}\n\n\n\tprotected _handleLogo(): void {\n\t\tif (this._logo) {\n\t\t\tconst w = this.dom.offsetWidth;\n\t\t\tconst h = this.dom.offsetHeight;\n\t\t\tif ((w <= 150) || (h <= 60)) {\n\t\t\t\tthis._logo.hide();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._logo.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _showBranding(): void {\n\t\tif (!this._logo) {\n\t\t\tconst logo = this.tooltipContainer.children.push(Container.new(this, {\n\t\t\t\tinteractive: true,\n\t\t\t\tinteractiveChildren: false,\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tsetStateOnChildren: true,\n\t\t\t\tpaddingTop: 9,\n\t\t\t\tpaddingRight: 9,\n\t\t\t\tpaddingBottom: 9,\n\t\t\t\tpaddingLeft: 9,\n\t\t\t\tscale: .6,\n\t\t\t\ty: percent(100),\n\t\t\t\tcenterY: p100,\n\t\t\t\ttooltipText: \"Created using amCharts 5\",\n\t\t\t\ttooltipX: p100,\n\t\t\t\tcursorOverStyle: \"pointer\",\n\t\t\t\tbackground: Rectangle.new(this, {\n\t\t\t\t\tfill: color(0x474758),\n\t\t\t\t\tfillOpacity: 0,\n\t\t\t\t\ttooltipY: 5\n\t\t\t\t})\n\t\t\t}));\n\n\t\t\tlet tooltipRoot = this.tooltipRoot;\n\t\t\tif (!tooltipRoot) {\n\t\t\t\ttooltipRoot = this;\n\t\t\t}\n\n\t\t\tconst tooltip = Tooltip.new(tooltipRoot, {\n\t\t\t\tpointerOrientation: \"horizontal\",\n\t\t\t\tpaddingTop: 4,\n\t\t\t\tpaddingRight: 7,\n\t\t\t\tpaddingBottom: 4,\n\t\t\t\tpaddingLeft: 7\n\t\t\t});\n\t\t\ttooltip.label.setAll({\n\t\t\t\tfontSize: 12\n\t\t\t});\n\t\t\ttooltip.get(\"background\")!.setAll({\n\t\t\t\tfill: this.interfaceColors.get(\"background\"),\n\t\t\t\tstroke: this.interfaceColors.get(\"grid\"),\n\t\t\t\tstrokeOpacity: 0.3\n\t\t\t})\n\t\t\tlogo.set(\"tooltip\", tooltip);\n\n\t\t\tlogo.events.on(\"click\", () => {\n\t\t\t\twindow.open(\"https://www.amcharts.com/\", \"_blank\");\n\t\t\t});\n\n\t\t\tlogo.states.create(\"hover\", {});\n\n\t\t\tconst m = logo.children.push(Graphics.new(this, {\n\t\t\t\tstroke: color(0xcccccc),\n\t\t\t\tstrokeWidth: 3,\n\t\t\t\tsvgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\n\t\t\t}));\n\n\t\t\tm.states.create(\"hover\", { stroke: color(0x3CABFF) });\n\n\t\t\tconst a = logo.children.push(Graphics.new(this, {\n\t\t\t\tstroke: color(0x888888),\n\t\t\t\tstrokeWidth: 3,\n\t\t\t\tsvgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\n\t\t\t}));\n\n\t\t\ta.states.create(\"hover\", { stroke: color(0x474758) });\n\n\t\t\t//logo.set(\"tooltip\", this._tooltip);\n\t\t\t//logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\n\t\t\tthis._logo = logo;\n\n\t\t\tthis._handleLogo();\n\t\t}\n\t}\n\n\tprotected _init(): void {\n\t\tconst renderer = this._renderer;\n\t\tconst rect = this.dom.getBoundingClientRect();\n\t\tconst width = Math.floor(rect.width);\n\t\tconst height = Math.floor(rect.height);\n\t\tconst rootContainer = Container.new(this, { visible: true, width, height });\n\t\tthis._rootContainer = rootContainer;\n\t\tthis._rootContainer._defaultThemes.push(DefaultTheme.new(this));\n\n\t\tconst container = rootContainer.children.push(Container.new(this, { visible: true, width: p100, height: p100 }));\n\t\tthis.container = container;\n\n\t\trenderer.resize(width, height);\n\n\t\t//@todo: better appendChild - refer\n\t\tthis._inner.appendChild(renderer.view);\n\n\t\t// TODO: TMP TMP TMP for testing only, remove\n\t\t//document.body.appendChild((<any>renderer)._ghostView);\n\n\t\tthis._initResizeSensor();\n\n\t\t// HTML content holder\n\t\tthis._htmlElementContainer = document.createElement(\"div\");\n\t\tthis._htmlElementContainer.className = \"am5-html-container\";\n\t\tthis._htmlElementContainer.style.position = \"absolute\";\n\t\tthis._htmlElementContainer.style.pointerEvents = \"none\";\n\t\tthis._htmlElementContainer.style.overflow = \"hidden\";\n\t\tthis._inner.appendChild(this._htmlElementContainer);\n\n\t\t// Create element which is used to make announcements to screen reader\n\t\tconst readerAlertElement = document.createElement(\"div\");\n\t\treaderAlertElement.className = \"am5-reader-container\";\n\t\treaderAlertElement.setAttribute(\"role\", \"alert\");\n\t\treaderAlertElement.style.zIndex = \"-100000\";\n\t\treaderAlertElement.style.opacity = \"0\";\n\t\treaderAlertElement.style.position = \"absolute\";\n\t\treaderAlertElement.style.top = \"0\";\n\t\tthis._readerAlertElement = readerAlertElement;\n\t\tthis._inner.appendChild(this._readerAlertElement);\n\n\t\tconst focusElementContainer = document.createElement(\"div\");\n\t\tfocusElementContainer.className = \"am5-focus-container\";\n\t\tfocusElementContainer.style.position = \"absolute\";\n\t\tfocusElementContainer.style.pointerEvents = \"none\";\n\t\tfocusElementContainer.style.top = \"0px\";\n\t\tfocusElementContainer.style.left = \"0px\";\n\t\tfocusElementContainer.style.overflow = \"hidden\";\n\t\tfocusElementContainer.style.width = width + \"px\";\n\t\tfocusElementContainer.style.height = height + \"px\";\n\n\t\tfocusElementContainer.setAttribute(\"role\", \"application\");\n\n\t\t$utils.setInteractive(focusElementContainer, false);\n\t\tthis._focusElementContainer = focusElementContainer;\n\t\tthis._inner.appendChild(this._focusElementContainer);\n\n\t\tthis._tooltipElementContainer = document.createElement(\"div\");\n\t\tthis._tooltipElementContainer.className = \"am5-tooltip-container\";\n\t\tthis._inner.appendChild(this._tooltipElementContainer);\n\n\t\t// Add keyboard events for accessibility, e.g. simulating drag with arrow\n\t\t// keys and click with ENTER\n\t\tif ($utils.supports(\"keyboardevents\")) {\n\n\t\t\tthis._disposers.push($utils.addEventListener(window, \"keydown\", (ev: KeyboardEvent) => {\n\t\t\t\tif (ev.keyCode == 16) {\n\t\t\t\t\tthis._isShift = true;\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis._disposers.push($utils.addEventListener(window, \"keyup\", (ev: KeyboardEvent) => {\n\t\t\t\tif (ev.keyCode == 16) {\n\t\t\t\t\tthis._isShift = false;\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis._disposers.push($utils.addEventListener(focusElementContainer, \"keydown\", (ev: KeyboardEvent) => {\n\t\t\t\tconst focusedSprite = this._focusedSprite;\n\t\t\t\tif (focusedSprite) {\n\t\t\t\t\tif (ev.keyCode == 27) {\n\t\t\t\t\t\t// ESC pressed - lose current focus\n\t\t\t\t\t\t$utils.blur();\n\t\t\t\t\t\tthis._focusedSprite = undefined;\n\t\t\t\t\t}\n\t\t\t\t\tlet dragOffsetX = 0;\n\t\t\t\t\tlet dragOffsetY = 0;\n\t\t\t\t\t// TODO: figure out if using bogus MouseEvent is fine, or it will\n\t\t\t\t\t// fail on some platforms\n\t\t\t\t\tswitch (ev.keyCode) {\n\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\tconst downEvent = renderer.getEvent(new MouseEvent(\"click\"));\n\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"click\", {\n\t\t\t\t\t\t\t\ttype: \"click\",\n\t\t\t\t\t\t\t\toriginalEvent: downEvent.event,\n\t\t\t\t\t\t\t\tpoint: downEvent.point,\n\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\tdragOffsetX = -6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\tdragOffsetX = 6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\t\tdragOffsetY = -6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\tdragOffsetY = 6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dragOffsetX != 0 || dragOffsetY != 0) {\n\t\t\t\t\t\tev.preventDefault();\n\n\t\t\t\t\t\tif (!focusedSprite.isDragging()) {\n\t\t\t\t\t\t\t// Start dragging\n\t\t\t\t\t\t\tthis._keyboardDragPoint = {\n\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\n\t\t\t\t\t\t\t\tclientX: 0,\n\t\t\t\t\t\t\t\tclientY: 0\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\tif (focusedSprite.events.isEnabled(\"pointerdown\")) {\n\t\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"pointerdown\", {\n\t\t\t\t\t\t\t\t\ttype: \"pointerdown\",\n\t\t\t\t\t\t\t\t\toriginalEvent: downEvent.event,\n\t\t\t\t\t\t\t\t\tpoint: downEvent.point,\n\t\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// Move focus marker\n\t\t\t\t\t\t\t//this._positionFocusElement(focusedSprite);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Move incrementally\n\t\t\t\t\t\tconst dragPoint = this._keyboardDragPoint!;\n\t\t\t\t\t\tdragPoint.x += dragOffsetX;\n\t\t\t\t\t\tdragPoint.y += dragOffsetY;\n\t\t\t\t\t\tconst moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\n\t\t\t\t\t\t\tclientX: dragPoint.x,\n\t\t\t\t\t\t\tclientY: dragPoint.y\n\t\t\t\t\t\t}), false);\n\n\t\t\t\t\t\tif (focusedSprite.events.isEnabled(\"globalpointermove\")) {\n\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"globalpointermove\", {\n\t\t\t\t\t\t\t\ttype: \"globalpointermove\",\n\t\t\t\t\t\t\t\toriginalEvent: moveEvent.event,\n\t\t\t\t\t\t\t\tpoint: moveEvent.point,\n\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis._disposers.push($utils.addEventListener(focusElementContainer, \"keyup\", (ev: KeyboardEvent) => {\n\t\t\t\tif (this._focusedSprite) {\n\t\t\t\t\tconst focusedSprite = this._focusedSprite;\n\t\t\t\t\tconst keyCode = ev.keyCode;\n\t\t\t\t\tswitch (keyCode) {\n\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\tif (focusedSprite.isDragging()) {\n\t\t\t\t\t\t\t\t// Simulate drag stop\n\t\t\t\t\t\t\t\tconst dragPoint = this._keyboardDragPoint!;\n\t\t\t\t\t\t\t\tconst upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\n\t\t\t\t\t\t\t\t\tclientX: dragPoint.x,\n\t\t\t\t\t\t\t\t\tclientY: dragPoint.y\n\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\tif (focusedSprite.events.isEnabled(\"globalpointerup\")) {\n\t\t\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"globalpointerup\", {\n\t\t\t\t\t\t\t\t\t\ttype: \"globalpointerup\",\n\t\t\t\t\t\t\t\t\t\toriginalEvent: upEvent.event,\n\t\t\t\t\t\t\t\t\t\tpoint: upEvent.point,\n\t\t\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//this._positionFocusElement(focusedSprite);\n\t\t\t\t\t\t\t\tthis._keyboardDragPoint = undefined;\n\t\t\t\t\t\t\t\t// @todo dispatch mouseup event instead of calling dragStop?\n\t\t\t\t\t\t\t\t// this._dispatchEvent(\"globalpointerup\", target, upEvent);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (focusedSprite.get(\"focusableGroup\")) {\n\t\t\t\t\t\t\t\t// Find next item in focusable group\n\t\t\t\t\t\t\t\tconst group = focusedSprite.get(\"focusableGroup\");\n\t\t\t\t\t\t\t\tconst items = this._tabindexes.filter(item => item.get(\"focusableGroup\") == group);\n\t\t\t\t\t\t\t\tlet index = items.indexOf(focusedSprite);\n\t\t\t\t\t\t\t\tconst lastIndex = items.length - 1;\n\t\t\t\t\t\t\t\tindex += (keyCode == 39 || keyCode == 40) ? 1 : -1;\n\t\t\t\t\t\t\t\tif (index < 0) {\n\t\t\t\t\t\t\t\t\tindex = lastIndex;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (index > lastIndex) {\n\t\t\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$utils.focus(items[index].getPrivate(\"focusElement\")!.dom);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tthis._startTicker();\n\t\tthis.setThemes([]);\n\n\t\tthis._addTooltip();\n\n\t\tif (!this._hasLicense()) {\n\t\t\tthis._showBranding();\n\t\t}\n\t}\n\n\tprivate _initResizeSensor(): void {\n\t\tif (this._resizeSensorDisposer) {\n\t\t\tthis._resizeSensorDisposer.dispose();\n\t\t}\n\t\tthis._resizeSensorDisposer = new ResizeSensor(this.dom, () => {\n\t\t\tif (this.autoResize) {\n\t\t\t\tthis.resize();\n\t\t\t}\n\t\t});\n\t\tthis._disposers.push(this._resizeSensorDisposer);\n\t}\n\n\t/**\n\t * If automatic resizing of char is disabled (`root.autoResize = false`), it\n\t * can be resized manually by calling this method.\n\t */\n\tpublic resize(): void {\n\t\tconst dom = this.dom;\n\t\tconst rect = dom.getBoundingClientRect();\n\t\tconst w = Math.floor(rect.width);\n\t\tconst h = Math.floor(rect.height);\n\t\tif (w > 0 && h > 0) {\n\t\t\tconst htmlElementContainer = this._htmlElementContainer!;\n\t\t\thtmlElementContainer.style.width = w + \"px\";\n\t\t\thtmlElementContainer.style.height = h + \"px\";\n\n\t\t\tconst focusElementContainer = this._focusElementContainer!;\n\t\t\tfocusElementContainer.style.width = w + \"px\";\n\t\t\tfocusElementContainer.style.height = h + \"px\";\n\n\t\t\tthis._renderer.resize(w, h);\n\n\t\t\tconst rootContainer = this._rootContainer;\n\n\t\t\trootContainer.setPrivate(\"width\", w);\n\t\t\trootContainer.setPrivate(\"height\", h);\n\t\t\tthis._render();\n\t\t\tthis._handleLogo();\n\t\t}\n\t}\n\n\tprivate _render() {\n\t\tthis._renderer.render(this._rootContainer._display);\n\n\t\tif (this._focusElementDirty) {\n\t\t\tthis._updateCurrentFocus();\n\t\t\tthis._focusElementDirty = false;\n\t\t}\n\t}\n\n\tprivate _runTickers(currentTime: number) {\n\t\t$array.each(this._tickers, (f) => {\n\t\t\tf(currentTime);\n\t\t});\n\t}\n\n\tprivate _runAnimations(currentTime: number) {\n\t\t$array.keepIf(this._animations, (animation) => {\n\t\t\treturn animation._runAnimation(currentTime);\n\t\t});\n\t}\n\n\tprivate _runDirties() {\n\t\t//console.log(\"tick **************************************************************\");\n\t\tlet allParents: { [id: number]: IParent } = {};\n\n\t\twhile (this._isDirtyParents) {\n\t\t\t// This must be before calling _prepareChildren\n\t\t\tthis._isDirtyParents = false;\n\n\t\t\t$object.keys(this._dirtyParents).forEach((key) => {\n\t\t\t\tconst parent = this._dirtyParents[key];\n\n\t\t\t\tdelete this._dirtyParents[key];\n\n\t\t\t\tif (!parent.isDisposed()) {\n\t\t\t\t\tallParents[parent.uid] = parent;\n\t\t\t\t\tparent._prepareChildren();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$object.keys(allParents).forEach((key) => {\n\t\t\tallParents[key]._updateChildren();\n\t\t});\n\n\t\tconst objects: Array<Entity> = [];\n\n\t\t//\t\tconsole.log(\"_beforeChanged\")\n\t\t$object.keys(this._dirty).forEach((key) => {\n\t\t\tconst entity = this._dirty[key];\n\n\t\t\tif (entity.isDisposed()) {\n\t\t\t\tdelete this._dirty[entity.uid];\n\n\t\t\t} else {\n\t\t\t\tobjects.push(entity);\n\t\t\t\tentity._beforeChanged();\n\t\t\t}\n\t\t});\n\n\t\t//\t\tconsole.log(\"_changed\")\n\t\tobjects.forEach((entity) => {\n\t\t\tentity._changed();\n\t\t\tdelete this._dirty[entity.uid];\n\t\t\tentity._clearDirty();\n\t\t});\n\n\t\tthis._isDirty = false;\n\n\t\tconst depths: { [id: number]: number } = {};\n\t\tconst bounds: Array<IBounds> = [];\n\n\t\t$object.keys(this._dirtyBounds).forEach((key) => {\n\t\t\tconst entity = this._dirtyBounds[key];\n\n\t\t\tdelete this._dirtyBounds[key];\n\n\t\t\tif (!entity.isDisposed()) {\n\t\t\t\tdepths[entity.uid] = entity.depth();\n\t\t\t\tbounds.push(entity);\n\t\t\t}\n\t\t});\n\n\t\t// High depth -> low depth\n\t\tbounds.sort((x, y) => {\n\t\t\treturn $order.compare(depths[y.uid], depths[x.uid]);\n\t\t});\n\n\t\t//\t\tconsole.log(\"_updateBounds\")\n\t\tbounds.forEach((entity) => {\n\t\t\tentity._updateBounds();\n\t\t});\n\n\t\t//\t\tconsole.log(\"_updatePosition\")\n\t\tconst dirtyPositions = this._dirtyPositions;\n\t\t$object.keys(dirtyPositions).forEach((key) => {\n\t\t\tconst sprite = dirtyPositions[key];\n\n\t\t\tdelete dirtyPositions[key];\n\n\t\t\tif (!sprite.isDisposed()) {\n\t\t\t\tsprite._updatePosition();\n\t\t\t}\n\t\t});\n\n\t\t//\t\tconsole.log(\"_afterChanged\")\n\t\tobjects.forEach((entity) => {\n\t\t\tentity._afterChanged();\n\t\t});\n\n\t}\n\n\tprivate _renderFrame(currentTime: number): boolean {\n\t\tif (this.events.isEnabled(\"framestarted\")) {\n\t\t\tthis.events.dispatch(\"framestarted\", {\n\t\t\t\ttype: \"framestarted\",\n\t\t\t\ttarget: this,\n\t\t\t\ttimestamp: currentTime,\n\t\t\t});\n\t\t}\n\n\t\tthis._checkComputedStyles();\n\t\tthis._runTickers(currentTime);\n\t\tthis._runAnimations(currentTime);\n\t\tthis._runDirties();\n\t\tthis._render();\n\t\tthis._positionHTMLElements();\n\n\t\tif (this.events.isEnabled(\"frameended\")) {\n\t\t\tthis.events.dispatch(\"frameended\", {\n\t\t\t\ttype: \"frameended\",\n\t\t\t\ttarget: this,\n\t\t\t\ttimestamp: currentTime,\n\t\t\t});\n\t\t}\n\n\n\t\treturn this._tickers.length === 0 &&\n\t\t\tthis._animations.length === 0 &&\n\t\t\t!this._isDirty;\n\t}\n\n\tprivate _runTicker(currentTime: number) {\n\t\tif (!this.isDisposed()) {\n\t\t\tthis.animationTime = currentTime;\n\n\t\t\tconst done = this._renderFrame(currentTime);\n\n\t\t\t// No more work to do\n\t\t\tif (done) {\n\t\t\t\tthis._ticker = null;\n\t\t\t\tthis.animationTime = null;\n\n\t\t\t} else {\n\t\t\t\trAF(this.fps, this._ticker!);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _runTickerNow() {\n\t\tif (!this.isDisposed()) {\n\t\t\tfor (; ;) {\n\t\t\t\tconst currentTime = performance.now();\n\n\t\t\t\tthis.animationTime = currentTime;\n\n\t\t\t\tconst done = this._renderFrame(currentTime);\n\n\t\t\t\tif (done) {\n\t\t\t\t\tthis.animationTime = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _startTicker() {\n\t\tif (this._ticker === null) {\n\t\t\tthis.animationTime = null;\n\n\t\t\tthis._ticker = (currentTime) => {\n\t\t\t\tthis._runTicker(currentTime);\n\t\t\t};\n\n\t\t\trAF(this.fps, this._ticker!);\n\t\t}\n\t}\n\n\tpublic _addDirtyEntity(entity: Entity) {\n\t\tif (this._dirty[entity.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._dirty[entity.uid] = entity;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addDirtyParent(parent: IParent) {\n\t\tif (this._dirtyParents[parent.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._isDirtyParents = true;\n\t\t\tthis._dirtyParents[parent.uid] = parent;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addDirtyBounds(entity: IBounds) {\n\t\tif (this._dirtyBounds[entity.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._dirtyBounds[entity.uid] = entity;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addDirtyPosition(sprite: Sprite) {\n\t\tif (this._dirtyPositions[sprite.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._dirtyPositions[sprite.uid] = sprite;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addAnimation(animation: IAnimation) {\n\t\t// TODO use numeric id instead\n\t\tif (this._animations.indexOf(animation) === -1) {\n\t\t\tthis._animations.push(animation);\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _markDirty() {\n\t\tthis._isDirty = true;\n\t}\n\n\tpublic _markDirtyRedraw() {\n\t\tthis.events.once(\"frameended\", () => {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._startTicker();\n\t\t})\n\t}\n\n\tpublic eachFrame(f: (currentTime: number) => void): IDisposer {\n\t\tthis._tickers.push(f);\n\t\tthis._startTicker();\n\n\t\treturn new Disposer(() => {\n\t\t\t$array.removeFirst(this._tickers, f);\n\t\t});\n\t}\n\n\tpublic markDirtyGlobal(container?: Container): void {\n\t\tif (!container) {\n\t\t\tcontainer = this.container;\n\t\t}\n\t\tconsole.log(this.width());\n\t\tcontainer.walkChildren((child) => {\n\t\t\tif (child instanceof Container) {\n\t\t\t\tthis.markDirtyGlobal(child);\n\t\t\t}\n\t\t\tchild.markDirty();\n\t\t\tchild.markDirtyBounds();\n\t\t});\n\t}\n\n\t/**\n\t * Returns width of the target container, in pixels.\n\t *\n\t * @return Width\n\t */\n\tpublic width(): number {\n\t\t// TODO make this more efficient, maybe just return the renderer's width ?\n\t\treturn Math.floor(this.dom.getBoundingClientRect().width);\n\t}\n\n\t/**\n\t * Returns height of the target container, in pixels.\n\t *\n\t * @return Height\n\t */\n\tpublic height(): number {\n\t\t// TODO make this more efficient, maybe just return the renderer's height ?\n\t\treturn Math.floor(this.dom.getBoundingClientRect().height);\n\t}\n\n\t/**\n\t * Disposes root and all the content in it.\n\t */\n\tpublic dispose(): void {\n\t\tif (!this._isDisposed) {\n\t\t\tthis._isDisposed = true;\n\n\t\t\tthis._rootContainer.dispose();\n\t\t\tthis._renderer.dispose();\n\t\t\tthis.horizontalLayout.dispose();\n\t\t\tthis.verticalLayout.dispose();\n\t\t\tthis.interfaceColors.dispose();\n\n\t\t\t$array.each(this._disposers, (x) => {\n\t\t\t\tx.dispose();\n\t\t\t});\n\n\t\t\tif (this._inner) {\n\t\t\t\t$utils.removeElement(this._inner);\n\t\t\t}\n\n\t\t\tvar tooltipRoot = this.tooltipRoot;\n\t\t\tif (tooltipRoot) {\n\t\t\t\ttooltipRoot.dispose();\n\t\t\t}\n\n\t\t\t$array.remove(registry.rootElements, this);\n\t\t}\n\t}\n\n\t/**\n\t * Returns `true` if root element is disposed.\n\t *\n\t * @return Disposed?\n\t */\n\tpublic isDisposed(): boolean {\n\t\treturn this._isDisposed;\n\t}\n\n\t/**\n\t * Triggers screen reader read out a message.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\n\t * @param  text  Alert text\n\t */\n\tpublic readerAlert(text: string): void {\n\t\tthis._readerAlertElement!.innerHTML = $utils.stripTags(text);\n\t}\n\n\t/**\n\t * Sets themes to be used for the chart.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\n\t * @param  themes  A list of themes\n\t */\n\tpublic setThemes(themes: Array<Theme>): void {\n\t\tthis._rootContainer.set(\"themes\", themes);\n\n\t\tconst tooltipRoot = this.tooltipRoot;\n\t\tif (tooltipRoot) {\n\t\t\ttooltipRoot._rootContainer.set(\"themes\", themes);\n\t\t\ttooltipRoot.tooltipContainer._applyThemes();\n\t\t}\n\n\t\t// otherwise new themes are not applied\n\t\tconst tooltipContainer = this.tooltipContainer;\n\t\tif (tooltipContainer) {\n\t\t\ttooltipContainer._applyThemes();\n\t\t}\n\n\t\t// @todo review this\n\t\tconst interfaceColors = this.interfaceColors;\n\t\tif (interfaceColors) {\n\t\t\tinterfaceColors._applyThemes();\n\t\t}\n\n\n\t}\n\n\tprotected _addTooltip() {\n\t\tif (!this.tooltipContainer) {\n\t\t\tconst tooltipContainer = this._rootContainer.children.push(Container.new(this, { position: \"absolute\", isMeasured: false, width: p100, height: p100, layer: 30 }));\n\t\t\tthis.tooltipContainer = tooltipContainer;\n\n\t\t\tlet tooltipRoot = this.tooltipRoot;\n\t\t\tif (!tooltipRoot) {\n\t\t\t\ttooltipRoot = this;\n\t\t\t}\n\n\t\t\tconst tooltip = Tooltip.new(tooltipRoot, {});\n\t\t\tthis.container.set(\"tooltip\", tooltip);\n\t\t\ttooltip.hide(0);\n\t\t\tthis._tooltip = tooltip;\n\t\t}\n\t}\n\n\t/**\n\t * Accesibility\n\t */\n\n\tpublic _registerTabindexOrder(target: Sprite): void {\n\t\tif (target.get(\"focusable\")) {\n\t\t\t$array.pushOne(this._tabindexes, target);\n\t\t}\n\t\telse {\n\t\t\t$array.remove(this._tabindexes, target);\n\t\t}\n\t\tthis._invalidateTabindexes();\n\t}\n\n\tpublic _unregisterTabindexOrder(target: Sprite): void {\n\t\t$array.remove(this._tabindexes, target);\n\t\tthis._invalidateTabindexes();\n\t}\n\n\tpublic _invalidateTabindexes(): void {\n\n\t\tthis._tabindexes.sort((a: Sprite, b: Sprite) => {\n\t\t\tconst aindex = a.get(\"tabindexOrder\", 0);\n\t\t\tconst bindex = b.get(\"tabindexOrder\", 0);\n\t\t\tif (aindex == bindex) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse if (aindex > bindex) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t});\n\n\t\tconst groups: Array<string | number> = [];\n\t\t$array.each(this._tabindexes, (item, index) => {\n\t\t\tif (!item.getPrivate(\"focusElement\")) {\n\t\t\t\tthis._makeFocusElement(index, item);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._moveFocusElement(index, item);\n\t\t\t}\n\t\t\tconst group = item.get(\"focusableGroup\");\n\t\t\tif (group) {\n\t\t\t\tif (groups.indexOf(group) !== -1) {\n\t\t\t\t\t// Non-first element in the group, make it not directly focusable\n\t\t\t\t\titem.getPrivate(\"focusElement\")!.dom.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tgroups.push(group);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\tpublic _updateCurrentFocus(): void {\n\t\tif (this._focusedSprite) {\n\t\t\tthis._decorateFocusElement(this._focusedSprite);\n\t\t\tthis._positionFocusElement(this._focusedSprite);\n\t\t}\n\t}\n\n\tpublic _decorateFocusElement(target: Sprite, focusElement?: HTMLDivElement): void {\n\n\t\t// Decorate with proper accessibility attributes\n\t\tif (!focusElement) {\n\t\t\tfocusElement = target.getPrivate(\"focusElement\")!.dom;\n\t\t}\n\n\t\tif (!focusElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (target.get(\"visible\") && target.get(\"role\") != \"tooltip\" && !target.isHidden()) {\n\t\t\tif (focusElement.getAttribute(\"tabindex\") != \"-1\") {\n\t\t\t\tfocusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"tabindex\")\n\t\t}\n\n\t\tconst role = target.get(\"role\");\n\t\tif (role) {\n\t\t\tfocusElement.setAttribute(\"role\", role);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"role\");\n\t\t}\n\n\t\tconst ariaLabel = target.get(\"ariaLabel\");\n\t\tif (ariaLabel) {\n\t\t\tconst label = populateString(target, ariaLabel);\n\t\t\tfocusElement.setAttribute(\"aria-label\", label);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-label\");\n\t\t}\n\n\t\tconst ariaLive = target.get(\"ariaLive\");\n\t\tif (ariaLive) {\n\t\t\tfocusElement.setAttribute(\"aria-live\", ariaLive);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-live\");\n\t\t}\n\n\t\tconst ariaChecked = target.get(\"ariaChecked\");\n\t\tif (ariaChecked != null) {\n\t\t\tfocusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-checked\");\n\t\t}\n\n\t\tif (target.get(\"ariaHidden\")) {\n\t\t\tfocusElement.setAttribute(\"aria-hidden\", \"hidden\");\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-hidden\");\n\t\t}\n\n\t\tconst ariaOrientation = target.get(\"ariaOrientation\");\n\t\tif (ariaOrientation) {\n\t\t\tfocusElement.setAttribute(\"aria-orientation\", ariaOrientation);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-orientation\");\n\t\t}\n\n\t\tconst ariaValueNow = target.get(\"ariaValueNow\");\n\t\tif (ariaValueNow) {\n\t\t\tfocusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-valuenow\");\n\t\t}\n\n\t\tconst ariaValueMin = target.get(\"ariaValueMin\");\n\t\tif (ariaValueMin) {\n\t\t\tfocusElement.setAttribute(\"aria-valuemin\", ariaValueMin);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-valuemin\");\n\t\t}\n\n\t\tconst ariaValueMax = target.get(\"ariaValueMax\");\n\t\tif (ariaValueMax) {\n\t\t\tfocusElement.setAttribute(\"aria-valuemax\", ariaValueMax);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-valuemax\");\n\t\t}\n\n\t\tconst ariaValueText = target.get(\"ariaValueText\");\n\t\tif (ariaValueText) {\n\t\t\tfocusElement.setAttribute(\"aria-valuetext\", ariaValueText);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-valuetext\");\n\t\t}\n\n\t\tconst ariaControls = target.get(\"ariaControls\");\n\t\tif (ariaControls) {\n\t\t\tfocusElement.setAttribute(\"aria-controls\", ariaControls);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-controls\");\n\t\t}\n\t}\n\n\tpublic _makeFocusElement(index: number, target: Sprite): void {\n\n\t\tif (target.getPrivate(\"focusElement\")) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Init\n\t\tconst focusElement = document.createElement(\"div\");\n\t\tif (target.get(\"role\") != \"tooltip\") {\n\t\t\tfocusElement.tabIndex = this.tabindex;\n\t\t}\n\t\tfocusElement.style.position = \"absolute\";\n\t\t$utils.setInteractive(focusElement, false);\n\n\t\tconst disposers: Array<IDisposer> = [];\n\n\t\ttarget.setPrivate(\"focusElement\", {\n\t\t\tdom: focusElement,\n\t\t\tdisposers,\n\t\t});\n\n\t\tthis._decorateFocusElement(target);\n\n\t\tdisposers.push($utils.addEventListener(focusElement, \"focus\", (ev: FocusEvent) => {\n\t\t\tthis._handleFocus(ev, index);\n\t\t}));\n\n\t\tdisposers.push($utils.addEventListener(focusElement, \"blur\", (ev: FocusEvent) => {\n\t\t\tthis._handleBlur(ev, index);\n\t\t}));\n\n\t\tthis._moveFocusElement(index, target);\n\n\t}\n\n\tpublic _removeFocusElement(target: Sprite): void {\n\t\t$array.remove(this._tabindexes, target);\n\t\tconst focusElement = target.getPrivate(\"focusElement\");\n\t\tif (focusElement) {\n\t\t\tconst container = this._focusElementContainer!;\n\t\t\tcontainer.removeChild(focusElement.dom);\n\t\t\t$array.each(focusElement.disposers, (x) => {\n\t\t\t\tx.dispose();\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic _hideFocusElement(target: Sprite): void {\n\t\tconst focusElement = target.getPrivate(\"focusElement\")!;\n\t\tfocusElement.dom.style.display = \"none\";\n\t}\n\n\tprotected _moveFocusElement(index: number, target: Sprite): void {\n\n\t\t// Get container\n\t\tconst container = this._focusElementContainer!;\n\t\tconst focusElement = target.getPrivate(\"focusElement\")!.dom;\n\n\t\tif (focusElement === this._focusElementContainer!.children[index]) {\n\t\t\t// Nothing to do\n\t\t\treturn;\n\t\t}\n\n\t\tconst next = this._focusElementContainer!.children[index + 1];\n\t\tif (next) {\n\t\t\tcontainer.insertBefore(focusElement, next);\n\t\t}\n\t\telse {\n\t\t\tcontainer.append(focusElement);\n\t\t}\n\t}\n\n\tprotected _positionFocusElement(target: Sprite): void {\n\t\tconst bounds = target.globalBounds();\n\n\t\tconst width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\n\t\tconst height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\n\n\t\tconst focusElement = target.getPrivate(\"focusElement\")!.dom;\n\t\tfocusElement.style.top = (bounds.top - 2) + \"px\";\n\t\tfocusElement.style.left = (bounds.left - 2) + \"px\";\n\t\tfocusElement.style.width = (width + 4) + \"px\";\n\t\tfocusElement.style.height = (height + 4) + \"px\";\n\n\t}\n\n\tprotected _handleFocus(ev: FocusEvent, index: number): void {\n\t\t// Get element\n\t\tconst focused = this._tabindexes[index];\n\n\t\t// Jump over hidden elements\n\t\tif (!focused.isVisibleDeep()) {\n\t\t\tthis._focusNext(<HTMLDivElement>ev.target, this._isShift ? -1 : 1);\n\t\t\treturn;\n\t\t}\n\n\t\t// Size and position\n\t\tthis._positionFocusElement(focused);\n\t\t//this._decorateFocusElement(focused);\n\n\t\tthis._focusedSprite = focused;\n\n\t\tif (focused.events.isEnabled(\"focus\")) {\n\t\t\tfocused.events.dispatch(\"focus\", {\n\t\t\t\ttype: \"focus\",\n\t\t\t\toriginalEvent: ev,\n\t\t\t\ttarget: focused\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _focusNext(el: HTMLDivElement, direction: 1 | -1): void {\n\t\tvar focusableElements = Array.from(document.querySelectorAll([\n\t\t\t'a[href]',\n\t\t\t'area[href]',\n\t\t\t'button:not([disabled])',\n\t\t\t'details',\n\t\t\t'input:not([disabled])',\n\t\t\t'iframe:not([disabled])',\n\t\t\t'select:not([disabled])',\n\t\t\t'textarea:not([disabled])',\n\t\t\t'[contentEditable=\"\"]',\n\t\t\t'[contentEditable=\"true\"]',\n\t\t\t'[contentEditable=\"TRUE\"]',\n\t\t\t'[tabindex]:not([tabindex^=\"-\"])',\n\t\t\t//':not([disabled])'\n\t\t].join(',')));\n\n\t\tlet index = focusableElements.indexOf(el) + direction;\n\n\t\tif (index < 0) {\n\t\t\tindex = focusableElements.length - 1;\n\t\t}\n\t\telse if (index >= focusableElements.length) {\n\t\t\tindex = 0;\n\t\t}\n\n\t\t(<HTMLElement>focusableElements[index]).focus();\n\t}\n\n\tprotected _handleBlur(ev: FocusEvent, _index: number): void {\n\t\tconst focused = this._focusedSprite;\n\t\tif (focused && focused.events.isEnabled(\"blur\")) {\n\t\t\tfocused.events.dispatch(\"blur\", {\n\t\t\t\ttype: \"blur\",\n\t\t\t\toriginalEvent: ev,\n\t\t\t\ttarget: focused\n\t\t\t});\n\t\t}\n\t\tthis._focusedSprite = undefined;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTooltip(target: Text): void {\n\t\tconst text = $utils.stripTags(target._getText());\n\t\tlet tooltipElement = target.getPrivate(\"tooltipElement\");\n\t\tif (target.get(\"role\") == \"tooltip\" && text != \"\") {\n\t\t\tif (!tooltipElement) {\n\t\t\t\ttooltipElement = this._makeTooltipElement(target);\n\t\t\t}\n\t\t\tif (tooltipElement.innerHTML != text) {\n\t\t\t\ttooltipElement.innerHTML = text!;\n\t\t\t}\n\t\t}\n\t\telse if (tooltipElement) {\n\t\t\ttooltipElement.remove();\n\t\t\ttarget.removePrivate(\"tooltipElement\");\n\t\t}\n\t}\n\n\tpublic _makeTooltipElement(target: Text): HTMLDivElement {\n\t\tconst container = this._tooltipElementContainer!;\n\t\tconst tooltipElement = document.createElement(\"div\");\n\t\ttooltipElement.style.position = \"absolute\";\n\t\ttooltipElement.style.top = \"-1000000px\";\n\t\ttooltipElement.style.opacity = \"0.0000001\";\n\n\t\t$utils.setInteractive(tooltipElement, false);\n\n\t\tthis._decorateFocusElement(target, tooltipElement);\n\t\tcontainer.append(tooltipElement);\n\t\ttarget.setPrivate(\"tooltipElement\", tooltipElement);\n\t\treturn tooltipElement;\n\t}\n\n\tpublic _invalidateAccessibility(target: Sprite): void {\n\t\tthis._focusElementDirty = true;\n\t\tconst focusElement = target.getPrivate(\"focusElement\");\n\t\tif (target.get(\"focusable\")) {\n\t\t\tif (focusElement) {\n\t\t\t\tthis._decorateFocusElement(target);\n\t\t\t\tthis._positionFocusElement(target);\n\t\t\t}\n\t\t\t// else {\n\t\t\t// \tthis._renderer._makeFocusElement(0, this);\n\t\t\t// }\n\t\t}\n\t\telse if (focusElement) {\n\t\t\tthis._removeFocusElement(target);\n\t\t}\n\t\t//this.updateCurrentFocus();\n\t}\n\n\t/**\n\t * Returns `true` if `target` is currently focused.\n\t *\n\t * @param   target  Target\n\t * @return          Focused?\n\t */\n\tpublic focused(target: Sprite): boolean {\n\t\treturn this._focusedSprite === target;\n\t}\n\n\t/**\n\t * Converts document coordinates to coordinates withing root element.\n\t *\n\t * @param   point  Document point\n\t * @return         Root point\n\t */\n\tpublic documentPointToRoot(point: IPoint): IPoint {\n\t\tconst bbox = this.dom.getBoundingClientRect();\n\t\treturn {\n\t\t\tx: point.x - bbox.left,\n\t\t\ty: point.y - bbox.top\n\t\t};\n\t}\n\n\t/**\n\t * Converts root coordinates to document\n\t *\n\t * @param   point  Document point\n\t * @return         Root point\n\t */\n\tpublic rootPointToDocument(point: IPoint): IPoint {\n\t\tconst bbox = this.dom.getBoundingClientRect();\n\t\treturn {\n\t\t\tx: point.x + bbox.left,\n\t\t\ty: point.y + bbox.top\n\t\t};\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic addDisposer<T extends IDisposer>(disposer: T): T {\n\t\tthis._disposers.push(disposer);\n\t\treturn disposer;\n\t}\n\n\tprotected _updateComputedStyles(): boolean {\n\t\tconst styles = window.getComputedStyle(this.dom);\n\t\tlet fontHash = \"\";\n\t\t$object.each(styles, (key, val) => {\n\t\t\tif ($type.isString(key) && key.match(/^font/)) {\n\t\t\t\tfontHash += val;\n\t\t\t}\n\t\t})\n\t\tconst changed = fontHash != this._fontHash;\n\t\tif (changed) {\n\t\t\tthis._fontHash = fontHash;\n\t\t}\n\t\treturn changed;\n\t}\n\n\tprotected _checkComputedStyles(): void {\n\t\tif (this._updateComputedStyles()) {\n\t\t\tthis._invalidateLabelBounds(this.container);\n\t\t}\n\t}\n\n\tprotected _invalidateLabelBounds(target: Sprite): void {\n\t\tif (target instanceof Container) {\n\t\t\ttarget.children.each((child) => {\n\t\t\t\tthis._invalidateLabelBounds(child);\n\t\t\t});\n\t\t}\n\t\telse if (target instanceof Text) {\n\t\t\ttarget.markDirtyBounds();\n\t\t}\n\t}\n\n\t/**\n\t * To all the clever heads out there. Yes, we did not make any attempts to\n\t * scramble this.\n\t *\n\t * This is a part of a tool meant for our users to manage their commercial\n\t * licenses for removal of amCharts branding from charts.\n\t *\n\t * The only legit way to do so is to purchase a commercial license for amCharts:\n\t * https://www.amcharts.com/online-store/\n\t *\n\t * Removing or altering this code, or disabling amCharts branding in any other\n\t * way is against the license and thus illegal.\n\t */\n\tprotected _hasLicense(): boolean {\n\t\tfor (let i = 0; i < registry.licenses.length; i++) {\n\t\t\tif (registry.licenses[i].match(/^AM5C.{5,}/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic _licenseApplied(): void {\n\t\tif (this._logo) {\n\t\t\tthis._logo.set(\"forceHidden\", true);\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic get debugGhostView(): boolean {\n\t\treturn this._renderer.debugGhostView;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic set debugGhostView(value: boolean) {\n\t\tthis._renderer.debugGhostView = value;\n\t}\n\n\t/**\n\t * Set this to `true` if you need chart to require first a tap onto it before\n\t * touch gesture related functionality like zoom/pan is turned on.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\n\t * @default false\n\t * @since 5.2.9\n\t * @param  value  Needs a tap to activate touch functions\n\t */\n\tpublic set tapToActivate(value: boolean) {\n\t\tthis._renderer.tapToActivate = value;\n\t}\n\n\t/**\n\t * @return Needs a tap to activate touch functions\n\t */\n\tpublic get tapToActivate(): boolean {\n\t\treturn this._renderer.tapToActivate;\n\t}\n\n\t/**\n\t * If `tapToActivate` is set to `true`, this setting will determine number\n\t * of milliseconds the chart will stay \"active\", before releasing the\n\t * controls back to the page.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\n\t * @default 3000\n\t * @since 5.2.9\n\t * @param  value  Timeout\n\t */\n\tpublic set tapToActivateTimeout(value: number) {\n\t\tthis._renderer.tapToActivateTimeout = value;\n\t}\n\n\t/**\n\t * @return Timeout\n\t */\n\tpublic get tapToActivateTimeout(): number {\n\t\treturn this._renderer.tapToActivateTimeout;\n\t}\n\n\tpublic _makeHTMLElement(target: Container): HTMLDivElement {\n\n\t\t// Get container\n\t\tconst container = this._htmlElementContainer!;\n\n\t\t// Init\n\t\tconst htmlElement = document.createElement(\"div\");\n\t\ttarget.setPrivate(\"htmlElement\", htmlElement);\n\n\t\t//htmlElement.tabIndex = this.tabindex;\n\t\thtmlElement.style.position = \"absolute\";\n\t\thtmlElement.style.overflow = \"auto\";\n\t\thtmlElement.style.boxSizing = \"border-box\";\n\t\t$utils.setInteractive(htmlElement, true);\n\n\t\t// Translate events\n\t\tif (target.events.isEnabled(\"click\")) {\n\t\t\tthis._disposers.push($utils.addEventListener<PointerEvent | MouseEvent>(htmlElement, \"click\", (ev: IPointerEvent) => {\n\t\t\t\tconst downEvent = this._renderer.getEvent(ev);\n\t\t\t\ttarget.events.dispatch(\"click\", {\n\t\t\t\t\ttype: \"click\",\n\t\t\t\t\toriginalEvent: downEvent.event,\n\t\t\t\t\tpoint: downEvent.point,\n\t\t\t\t\tsimulated: false,\n\t\t\t\t\ttarget: target\n\t\t\t\t});\n\t\t\t}));\n\t\t}\n\n\t\tthis._positionHTMLElement(target);\n\n\t\tcontainer.append(htmlElement);\n\n\t\t$array.pushOne(this._htmlEnabledContainers, target);\n\n\t\treturn htmlElement;\n\t}\n\n\tpublic _positionHTMLElements(): void {\n\t\t$array.each(this._htmlEnabledContainers, (target) => {\n\t\t\tthis._positionHTMLElement(target);\n\t\t});\n\t}\n\n\tpublic _positionHTMLElement(target: Container): void {\n\t\tconst htmlElement = target.getPrivate(\"htmlElement\");\n\t\tif (htmlElement) {\n\n\t\t\t// Translate settings\n\t\t\tconst visualSettings = [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\", \"minWidth\", \"minHeight\", \"maxWidth\", \"maxHeight\"];\n\t\t\t$array.each(visualSettings, (setting: any) => {\n\t\t\t\tconst value = target.get(setting);\n\t\t\t\tif (value) {\n\t\t\t\t\thtmlElement.style[setting] = value + \"px\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\thtmlElement.style[setting] = \"\";\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Deal with opacity\n\t\t\tconst opacity = target.compositeOpacity();\n\t\t\tsetTimeout(() => {\n\t\t\t\thtmlElement.style.opacity = opacity + \"\";\n\t\t\t}, 10);\n\n\t\t\tconst visible = target.isVisibleDeep();\n\t\t\tif (visible) {\n\t\t\t\thtmlElement.style.display = \"block\";\n\t\t\t}\n\n\t\t\t// Deal with position\n\t\t\tconst bounds = target.globalBounds();\n\t\t\thtmlElement.style.top = (bounds.top) + \"px\";\n\t\t\thtmlElement.style.left = (bounds.left) + \"px\";\n\n\t\t\t// Use width/height if those are set\n\t\t\tconst width = target.get(\"width\");\n\t\t\tconst height = target.get(\"height\");\n\n\t\t\tlet w: number = 0;\n\t\t\tlet h: number = 0;\n\n\t\t\tif (width) {\n\t\t\t\tw = target.width();\n\t\t\t}\n\n\t\t\tif (height) {\n\t\t\t\th = target.height();\n\t\t\t}\n\n\t\t\tif (!width || !height) {\n\t\t\t\thtmlElement.style.width = \"\";\n\t\t\t\thtmlElement.style.height = \"\";\n\t\t\t\tconst bbox = htmlElement.getBoundingClientRect();\n\t\t\t\tw = bbox.width;\n\t\t\t\th = bbox.height;\n\n\t\t\t\ttarget._adjustedLocalBounds = { left: 0, right: 0, top: 0, bottom: 0 };\n\t\t\t\ttarget.setPrivate(\"minWidth\", w);\n\t\t\t\ttarget.setPrivate(\"minHeight\", h);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttarget.removePrivate(\"minWidth\");\n\t\t\t\ttarget.removePrivate(\"minHeight\");\n\t\t\t}\n\n\t\t\tif (w > 0) {\n\t\t\t\thtmlElement.style.minWidth = (w) + \"px\";\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\thtmlElement.style.minHeight = (h) + \"px\";\n\t\t\t}\n\n\t\t\t// Hide or show\n\t\t\tif (!visible || opacity == 0) {\n\t\t\t\thtmlElement.style.display = \"none\";\n\t\t\t}\n\n\t\t}\n\t}\n\n\tpublic _setHTMLContent(target: Container, html: string): void {\n\t\tlet htmlElement = target.getPrivate(\"htmlElement\");\n\t\tif (!htmlElement) {\n\t\t\thtmlElement = this._makeHTMLElement(target);\n\t\t}\n\t\tif (htmlElement.innerHTML != html) {\n\t\t\thtmlElement.innerHTML = html;\n\t\t}\n\t}\n\n\tpublic _removeHTMLContent(target: Container): void {\n\t\tlet htmlElement = target.getPrivate(\"htmlElement\");\n\t\tif (htmlElement) {\n\t\t\tthis._htmlElementContainer!.removeChild(htmlElement);\n\t\t}\n\t\t$array.remove(this._htmlEnabledContainers, target);\n\t}\n}\n","import type { Entity } from \"./util/Entity\";\nimport { Template } from \"./util/Template\";\nimport type { Root } from \"./Root\";\nimport type { IClasses } from \"./Classes\";\nimport * as $order from \"./util/Order\";\nimport * as $array from \"./util/Array\";\n\nexport interface IRule<A extends Entity> {\n\ttags: Array<string>;\n\ttemplate: Template<A>;\n}\n\n/**\n * A base class for an amCharts theme.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\n * @important\n */\nexport class Theme {\n\n\tprotected _root!: Root;\n\n\t/**\n\t * Use this method to create an instance of this class.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\n\t * @param   root      Root element\n\t * @param   settings  Settings\n\t * @param   template  Template\n\t * @return            Instantiated object\n\t */\n\tstatic new<T extends typeof Theme>(this: T, root: Root): InstanceType<T> {\n\t\tconst x = (new this(root, true)) as InstanceType<T>;\n\t\tx.setupDefaultRules();\n\t\treturn x;\n\t}\n\n\tconstructor(root: Root, isReal:boolean) {\n\t\tthis._root = root;\n\t\tif (!isReal) {\n\t\t\tthrow new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\n\t\t}\n\t}\n\n\tprotected setupDefaultRules(): void {}\n\n\tprotected _rules: { [type: string]: Array<IRule<Entity>>; } = {};\n\n\t/**\n\t * Looks up the rules for a specific theme class.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\n\t * @param   themeClass Theme class\n\t * @return             Array<IRule<A>>\n\t */\n\tpublic _lookupRules<A extends Entity>(themeClass: string): Array<IRule<A>> | undefined {\n\t\treturn this._rules[themeClass] as unknown as Array<IRule<A>> | undefined;\n\t}\n\n\t/**\n\t * Creates a [[Template]] for specific theme class and tags.\n\t *\n\t * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\n\t * type checks.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\n\t * @param   themeClass Theme class\n\t * @param   themeTags  Theme tags\n\t * @return             Template\n\t */\n\tpublic ruleRaw<A extends Entity>(themeClass: string, themeTags: Array<string> = []): Template<A> {\n\t\tlet rules = this._rules[themeClass];\n\n\t\tif (!rules) {\n\t\t\trules = this._rules[themeClass] = [];\n\t\t}\n\n\t\tthemeTags.sort($order.compare);\n\n\t\tconst { index, found } = $array.getSortedIndex(rules, (x) => {\n\t\t\tconst order = $order.compare(x.tags.length, themeTags.length);\n\n\t\t\tif (order === 0) {\n\t\t\t\treturn $order.compareArray(x.tags, themeTags, $order.compare);\n\n\t\t\t} else {\n\t\t\t\treturn order;\n\t\t\t}\n\t\t});\n\n\t\tif (found) {\n\t\t\treturn rules[index].template as Template<A>;\n\n\t\t} else {\n\t\t\tconst template = Template.new<A>({});\n\n\t\t\trules.splice(index, 0, {\n\t\t\t\ttags: themeTags,\n\t\t\t\ttemplate,\n\t\t\t});\n\n\t\t\treturn template;\n\t\t}\n\t}\n\n\t/**\n\t * Creates a [[Template]] for specific theme class and tags.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\n\t * @param   themeClass Theme class\n\t * @param   themeTags  Theme tags\n\t * @return             Template\n\t */\n\tpublic rule<K extends keyof IClasses>(themeClass: K, themeTags: Array<string> = []): Template<IClasses[K]> {\n\t\treturn this.ruleRaw(themeClass, themeTags) as Template<IClasses[K]>;\n\t}\n}\n","import { Entity, IEntitySettings, IEntityPrivate } from \"../../core/util/Entity\";\nimport type { Sprite } from \"../../core/render/Sprite\";\nimport type { Series } from \"../../core/render/Series\";\n\nexport interface IBulletSettings extends IEntitySettings {\n\n\t/**\n\t * Horizontal location within target element.\n\t *\n\t * 0 - left, 1 - right, or anything inbetweeen.\n\t */\n\tlocationX?: number;\n\n\t/**\n\t * Vertical location within target element.\n\t *\n\t * 0 - top, 1 - bottom, or anything inbetweeen.\n\t */\n\tlocationY?: number;\n\n\t/**\n\t * A visual element of the bullet.\n\t */\n\tsprite: Sprite;\n\n\t/**\n\t * If set to `true`, the bullet will redraw its `sprite` element whenever\n\t * anything in its parent series changes.\n\t *\n\t * @default false\n\t */\n\tdynamic?: boolean;\n\n\t/**\n\t * If set to `true`, the bullet will be automatically rotated to face\n\t * direction of line it is attached to.\n\t *\n\t * NOTE: Works only in  [[Flow]] and [[MapPointSeries]] (when [[MapPoint]] is\n\t * attached to a [[MapLine]]).\n\t *\n\t * @default false\n\t */\n\tautoRotate?: boolean;\n\n\t/**\n\t * If `autoRotate` is set to `true`, value of `autoRotateAngle` will be added\n\t * to the automatically-calculated angle.\n\t */\n\tautoRotateAngle?: number;\n\n}\n\nexport interface IBulletPrivate extends IEntityPrivate {\n\thidden?:boolean;\n}\n\n/**\n * A universal placeholder for bullet elements.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\n */\nexport class Bullet extends Entity {\n\tpublic static className: string = \"Bullet\";\n\tpublic static classNames: Array<string> = Entity.classNames.concat([Bullet.className]);\n\n\tdeclare public _settings: IBulletSettings;\n\tdeclare public _privateSettings: IBulletPrivate;\n\n\t// used by MapPolygons where one data item can have multiple bullets of the same kind\n\tpublic _index?: number;\n\n\t/**\n\t * Target series object if it's a bullet for series.\n\t */\n\tpublic series: Series | undefined;\n\n\tprotected _afterNew() {\n\t\t// Applying themes because bullet will not have parent\n\t\tsuper._afterNewApplyThemes();\n\t}\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"sprite\")) {\n\t\t\tconst sprite = this.get(\"sprite\");\n\t\t\tif (sprite) {\n\t\t\t\tsprite.setAll({ position: \"absolute\", role: \"figure\" });\n\t\t\t\tthis._disposers.push(sprite);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"locationX\") || this.isDirty(\"locationY\")) {\n\t\t\tif (this.series) {\n\t\t\t\tthis.series._positionBullet(this);\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { Label } from \"../render/Label\";\nimport type { Graphics } from \"../render/Graphics\";\n\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\nimport { Container, IContainerPrivate, IContainerSettings } from \"./Container\";\n\nimport * as $utils from \"../../core/util/Utils\";\n\nexport interface IButtonSettings extends IContainerSettings {\n\n\t/**\n\t * A [[Label]] element for the button to show as a label.\n\t */\n\tlabel?: Label;\n\n\t/**\n\t * A [[Graphics]] element for the button to show as icon.\n\t */\n\ticon?: Graphics;\n\n}\n\nexport interface IButtonPrivate extends IContainerPrivate {\n}\n\n/**\n * Draws an interactive button.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\n * @important\n */\nexport class Button extends Container {\n\tprotected _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"button\"]);\n\n\t\tsuper._afterNew();\n\n\t\tif (!this._settings.background) {\n\t\t\tthis.set(\"background\", RoundedRectangle.new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(this._settings.themeTags, [\"background\"])\n\t\t\t}));\n\t\t}\n\t}\n\n\tdeclare public _settings: IButtonSettings;\n\tdeclare public _privateSettings: IButtonPrivate;\n\n\tpublic static className: string = \"Button\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Button.className]);\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"icon\")) {\n\t\t\tconst previous = this._prevSettings.icon;\n\t\t\tconst icon = this.get(\"icon\")!;\n\t\t\tif (icon !== previous) {\n\t\t\t\tthis._disposeProperty(\"icon\");\n\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\t\t\t\tif (icon) {\n\t\t\t\t\tthis.children.push(icon);\n\t\t\t\t}\n\n\t\t\t\tthis._prevSettings.icon = icon;\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"label\")) {\n\t\t\tconst previous = this._prevSettings.label;\n\t\t\tconst label = this.get(\"label\")!;\n\t\t\tif (label !== previous) {\n\t\t\t\tthis._disposeProperty(\"label\");\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\n\t\t\t\tif (label) {\n\t\t\t\t\tthis.children.push(label);\n\t\t\t\t}\n\n\t\t\t\tthis._prevSettings.label = label;\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Container, IContainerSettings, IContainerPrivate, IContainerEvents } from \"../../core/render/Container\";\nimport { p100 } from \"../../core/util/Percent\";\n\nexport interface IChartSettings extends IContainerSettings {\n}\n\nexport interface IChartPrivate extends IContainerPrivate {\n}\n\nexport interface IChartEvents extends IContainerEvents {\n}\n\n/**\n * A base class for all charts.\n */\nexport abstract class Chart extends Container {\n\tpublic static className: string = \"Chart\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Chart.className]);\n\n\tdeclare public _settings: IChartSettings;\n\tdeclare public _privateSettings: IChartPrivate;\n\tdeclare public _events: IChartEvents;\n\n\t/**\n\t * A [[Container]] chart places its elements in.\n\t * \n\t * @default Container.new()\n\t */\n\tpublic readonly chartContainer: Container = this.children.push(Container.new(this._root, { width: p100, height: p100, interactiveChildren: false }));\n\n\t/**\n\t * A [[Container]] chart places its bullets in.\n\t * \n\t * @default Container.new()\n\t */\n\tpublic readonly bulletsContainer: Container = Container.new(this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 });\n\n}","import { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"./Graphics\";\n\nexport interface ICircleSettings extends IGraphicsSettings {\n\n\t/**\n\t * Circle radius in pixels.\n\t */\n\tradius?: number;\n\n}\n\nexport interface ICirclePrivate extends IGraphicsPrivate {\n}\n\n/**\n * Draws a circle.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class Circle extends Graphics {\n\n\tdeclare public _settings: ICircleSettings;\n\tdeclare public _privateSettings: ICirclePrivate;\n\n\tpublic static className: string = \"Circle\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([Circle.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"radius\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this._clear) {\n\t\t\tthis._display.drawCircle(0, 0, this.get(\"radius\", 10));\n\t\t}\n\t}\n}\n","import { Settings } from \"../util/Entity\";\nimport { Container, IContainerSettings, IContainerPrivate, IContainerEvents } from \"./Container\";\nimport { ListData } from \"../util/Data\";\nimport * as $array from \"../util/Array\";\nimport * as $object from \"../util/Object\";\nimport type * as $ease from \"../util/Ease\";\nimport type { Bullet } from \"./Bullet\";\n\n/**\n * A base element that holds data bit (data item) for any [[Component]].\n */\nexport class DataItem<P extends IComponentDataItem> extends Settings {\n\tdeclare public _settings: P;\n\n\t/**\n\t * A data item's owener [[Component]].\n\t */\n\tpublic component: Component;\n\n\t/**\n\t * A reference to actual item in source data this item is based on.\n\t */\n\tpublic dataContext: unknown;\n\n\t/**\n\t * @todo requires description\n\t */\n\tpublic bullets: Array<Bullet> | undefined;\n\n\t/**\n\t * A set of \"open\" values.\n\t */\n\tpublic open: { [index: string]: any } | undefined;\n\n\t/**\n\t * A set of \"close\" values.\n\t */\n\tpublic close: { [index: string]: any } | undefined;\n\n\tconstructor(component: Component, dataContext: unknown, settings: P) {\n\t\tsuper(settings);\n\n\t\tthis.dataContext = dataContext;\n\t\tthis.component = component;\n\t\tthis._settings.visible = true;\n\t\tthis._checkDirty();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirty(): void {\n\t\tthis.component.markDirtyValues(this);\n\t}\n\n\tpublic _startAnimation(): void {\n\t\tthis.component._root._addAnimation(this);\n\t}\n\n\tprotected _animationTime(): number | null {\n\t\treturn this.component._root.animationTime;\n\t}\n\n\tprotected _dispose() {\n\t\tif (this.component) {\n\t\t\tthis.component.disposeDataItem(this);\n\t\t}\n\t\tsuper._dispose();\n\t}\n\n\t/**\n\t * Shows a data item that's currently hidden.\n\t */\n\tpublic show(duration?: number) {\n\t\tthis.setRaw(\"visible\", true);\n\t\tif (this.component) {\n\t\t\tthis.component.showDataItem(this, duration);\n\t\t}\n\t}\n\n\t/**\n\t * Hides a data item that's currently visible.\n\t */\n\tpublic hide(duration?: number) {\n\t\tthis.setRaw(\"visible\", false);\n\t\tif (this.component) {\n\t\t\tthis.component.hideDataItem(this, duration);\n\t\t}\n\t}\n\n\tpublic isHidden() {\n\t\treturn !this.get(\"visible\");\n\t}\n}\n\n\nexport interface IComponentDataItem {\n\tvisible?: boolean;\n}\n\nexport interface IComponentSettings extends IContainerSettings {\n\n\t/**\n\t * A duration of the animation from one setting value to another, in\n\t * milliseconds.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_data_values} for more info\n\t */\n\tinterpolationDuration?: number;\n\n\t/**\n\t * Easing function to use for cross setting value animations.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Easing_functions} for more info\n\t */\n\tinterpolationEasing?: $ease.Easing;\n\n}\n\nexport interface IComponentPrivate extends IContainerPrivate {\n}\n\nexport interface IComponentEvents extends IContainerEvents {\n\tdatavalidated: {}\n}\n\n/**\n * A base class for elements that make use of data.\n */\nexport abstract class Component extends Container {\n\tpublic static className: string = \"Component\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Component.className]);\n\n\tdeclare public _settings: IComponentSettings;\n\tdeclare public _privateSettings: IComponentPrivate;\n\tdeclare public _dataItemSettings: IComponentDataItem;\n\tdeclare public _events: IComponentEvents;\n\n\tprotected _data: ListData<unknown> = new ListData();\n\n\tprotected _dataItems: Array<DataItem<this[\"_dataItemSettings\"]>> = [];\n\n\tpublic _mainDataItems = this._dataItems;\n\n\tprotected valueFields: Array<string> = [];\n\tprotected fields: Array<string> = [\"id\"];\n\n\tprotected _valueFields!: Array<string>;\n\tprotected _valueFieldsF!: { [index: string]: { fieldKey: string, workingKey: string } };\n\n\tprotected _fields!: Array<string>;\n\tprotected _fieldsF!: { [index: string]: string };\n\n\tpublic _valuesDirty: boolean = false;\n\n\tprotected _dataChanged: boolean = false;\n\n\tprotected _dataGrouped = false;\n\n\t/**\n\t * Indicates if the component has already been initialized.\n\t */\n\tpublic inited: boolean = false;\n\n\t/**\n\t * Component's data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\n\t */\n\tpublic set data(data: ListData<unknown>) {\n\t\tdata.incrementRef();\n\t\tthis._data.decrementRef();\n\t\tthis._data = data;\n\t}\n\n\t/**\n\t * @return  Data\n\t */\n\tpublic get data(): ListData<unknown> {\n\t\treturn this._data;\n\t}\n\n\tprotected _dispose() {\n\t\tsuper._dispose();\n\t\tthis._data.decrementRef();\n\t}\n\n\tprotected _onDataClear() {\n\n\t}\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis._data.incrementRef();\n\t\tthis._updateFields();\n\n\t\tthis._disposers.push(this.data.events.onAll((change) => {\n\t\t\tconst dataItems = this._mainDataItems;\n\t\t\tthis.markDirtyValues();\n\t\t\tthis._markDirtyGroup();\n\t\t\tthis._dataChanged = true;\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(dataItems, (dataItem) => {\n\t\t\t\t\tdataItem.dispose();\n\t\t\t\t});\n\n\t\t\t\tdataItems.length = 0;\n\t\t\t\tthis._onDataClear();\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tconst dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\n\t\t\t\tdataItems.push(dataItem);\n\t\t\t\tthis.processDataItem(dataItem);\n\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.index];\n\t\t\t\tconst properties = this._makeDataItem(change.newValue);\n\n\t\t\t\t$object.keys(properties).forEach((key) => {\n\t\t\t\t\tdataItem.animate({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\tto: properties[key],\n\t\t\t\t\t\tduration: this.get(\"interpolationDuration\", 0),\n\t\t\t\t\t\teasing: this.get(\"interpolationEasing\"),\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdataItem.dataContext = change.newValue;\n\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tconst dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\n\t\t\t\tdataItems.splice(change.index, 0, dataItem);\n\t\t\t\tthis.processDataItem(dataItem);\n\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.index];\n\t\t\t\tdataItem.dispose();\n\t\t\t\tdataItems.splice(change.index, 1);\n\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.oldIndex];\n\t\t\t\tdataItems.splice(change.oldIndex, 1);\n\t\t\t\tdataItems.splice(change.newIndex, 0, dataItem);\n\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IStreamEvent type\");\n\t\t\t}\n\n\t\t\tthis._afterDataChange();\n\t\t}));\n\t}\n\n\tprotected _updateFields() {\n\t\tif (this.valueFields) {\n\t\t\tthis._valueFields = [];\n\t\t\tthis._valueFieldsF = {};\n\n\t\t\t$array.each(this.valueFields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._valueFields.push(<any>key);\n\t\t\t\t\tthis._valueFieldsF[key as string] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.fields) {\n\t\t\tthis._fields = [];\n\t\t\tthis._fieldsF = {};\n\n\t\t\t$array.each(this.fields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._fields.push(<any>key);\n\t\t\t\t\tthis._fieldsF[key as string] = key + \"Field\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * A list of component's data items.\n\t *\n\t * @return  Data items\n\t */\n\tpublic get dataItems(): Array<DataItem<this[\"_dataItemSettings\"]>> {\n\t\treturn this._dataItems;\n\t}\n\n\tprotected processDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) { }\n\n\n\tpublic _makeDataItem(data: unknown): this[\"_dataItemSettings\"] {\n\t\t//const output: this[\"_dataItemSettings\"] = {};\n\t\tconst output: any = {}; // temporary to solve error\n\t\tif (this._valueFields) {\n\t\t\t$array.each(this._valueFields, (key) => {\n\t\t\t\tconst field = this.get(<any>(this._valueFieldsF[key].fieldKey));\n\t\t\t\toutput[key] = (data as any)[field];\n\n\t\t\t\toutput[this._valueFieldsF[key].workingKey] = output[key];\n\t\t\t});\n\t\t}\n\t\tif (this._fields) {\n\t\t\t$array.each(this._fields, (key) => {\n\t\t\t\tconst field = this.get(<any>(this._fieldsF[key]));\n\t\t\t\toutput[key] = (data as any)[field];\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeDataItem(data: this[\"_dataItemSettings\"]): DataItem<this[\"_dataItemSettings\"]> {\n\t\tlet dataItem = new DataItem(this, undefined, data);\n\t\tthis.processDataItem(dataItem);\n\t\treturn dataItem;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic pushDataItem(data: this[\"_dataItemSettings\"]): DataItem<this[\"_dataItemSettings\"]> {\n\t\tconst dataItem = this.makeDataItem(data);\n\t\tthis._mainDataItems.push(dataItem);\n\t\treturn dataItem;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\t\n\t}\n\n\t/**\n\t * Shows component's data item.\n\t *\n\t * @param   dataItem   Data item\n\t * @param   _duration  Animation duration in milliseconds\n\t * @return             Promise\n\t */\n\tpublic async showDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, _duration?: number): Promise<void> {\n\t\tdataItem.set(\"visible\", true);\n\t}\n\n\t/**\n\t * Hides component's data item.\n\t *\n\t * @param   dataItem   Data item\n\t * @param   _duration  Animation duration in milliseconds\n\t * @return             Promise\n\t */\n\tpublic async hideDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, _duration?: number): Promise<void> {\n\t\tdataItem.set(\"visible\", false);\n\t}\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._valuesDirty = false;\n\t}\n\n\tprotected _afterDataChange() {\n\n\t}\n\n\tpublic _afterChanged() {\n\t\tsuper._afterChanged();\n\t\tif (this._dataChanged) {\n\t\t\tconst type = \"datavalidated\";\n\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this });\n\t\t\t}\n\t\t\tthis._dataChanged = false;\n\t\t}\n\n\t\tthis.inited = true;\n\t}\n\n\t/**\n\t * Forces a repaint of the element which relies on data.\n\t *\n\t * @since 5.0.21\n\t */\n\tpublic markDirtyValues(_dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tthis.markDirty();\n\t\tthis._valuesDirty = true;\n\t}\n\n\tpublic _markDirtyGroup() {\n\t\tthis._dataGrouped = false;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirtySize() {\n\t\tthis._sizeDirty = true;\n\t\tthis.markDirty();\n\t}\n\n}\n","import { List } from \"./List\";\nimport type { IDisposer } from \"./Disposer\";\nimport type { Container } from \"../render/Container\";\nimport type { Sprite } from \"../render/Sprite\";\nimport * as $array from \"./Array\";\n\n/**\n * A version of [[List]] to hold children of the [[Container]].\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\n */\nexport class Children<A extends Sprite> extends List<A> implements IDisposer {\n\tprivate _disposed: boolean = false;\n\tprivate _container: Container;\n\tprivate _events: IDisposer;\n\n\tpublic constructor(container: Container) {\n\t\tsuper();\n\n\t\tthis._container = container;\n\n\t\tthis._events = this.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(change.oldValues, (x) => {\n\t\t\t\t\tthis._onRemoved(x);\n\t\t\t\t});\n\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tthis._onInserted(change.newValue);\n\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tthis._onRemoved(change.oldValue);\n\t\t\t\tthis._onInserted(change.newValue, change.index);\n\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tthis._onInserted(change.newValue, change.index);\n\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._onRemoved(change.oldValue);\n\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tthis._onRemoved(change.value);\n\t\t\t\tthis._onInserted(change.value, change.newIndex);\n\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IListEvent type\");\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _onInserted(child: A, index?: number) {\n\t\tchild._setParent(this._container, true);\n\t\tconst childrenDisplay = this._container._childrenDisplay;\n\t\tif (index === undefined) {\n\t\t\tchildrenDisplay.addChild(child._display);\n\n\t\t} else {\n\t\t\tchildrenDisplay.addChildAt(child._display, index);\n\t\t}\n\t}\n\n\tprotected _onRemoved(child: A) {\n\t\tthis._container._childrenDisplay.removeChild(child._display);\n\t\tthis._container.markDirtyBounds();\n\t\tthis._container.markDirty();\n\t}\n\n\t/**\n\t * Returns `true` if obejct is disposed.\n\t */\n\tpublic isDisposed(): boolean {\n\t\treturn this._disposed;\n\t}\n\n\t/**\n\t * Permanently dispose this object.\n\t */\n\tpublic dispose() {\n\t\tif (!this._disposed) {\n\t\t\tthis._disposed = true;\n\n\t\t\tthis._events.dispose();\n\n\t\t\t$array.each(this.values, (child) => {\n\t\t\t\tchild.dispose();\n\t\t\t});\n\t\t}\n\t}\n}\n","import type { Graphics } from \"./Graphics\";\nimport type { Layout } from \"./Layout\";\nimport type { IContainer } from \"./backend/Renderer\";\nimport type { IBounds } from \"../util/IBounds\";\nimport type { Scrollbar } from \"./Scrollbar\";\nimport type { DataItem, IComponentDataItem } from \"./Component\";\n\nimport { Children } from \"../util/Children\";\nimport { Percent } from \"../util/Percent\";\nimport { Sprite, ISpriteSettings, ISpritePrivate, ISpriteEvents } from \"./Sprite\";\nimport { Rectangle } from \"./Rectangle\";\nimport { HorizontalLayout } from \"./HorizontalLayout\";\nimport { VerticalLayout } from \"./VerticalLayout\";\nimport { GridLayout } from \"./GridLayout\";\nimport { populateString } from \"../util/PopulateString\";\nimport type { IDisposer } from \"../util/Disposer\";\n\nimport * as $array from \"../util/Array\";\nimport * as $type from \"../util/Type\";\nimport * as $utils from \"../util/Utils\";\n\nexport interface IContainerSettings extends ISpriteSettings {\n\n\t/**\n\t * Left padding in pixels.\n\t */\n\tpaddingLeft?: number;\n\n\t/**\n\t * Right padding in pixels.\n\t */\n\tpaddingRight?: number;\n\n\t/**\n\t * Top padding in pixels.\n\t */\n\tpaddingTop?: number;\n\n\t/**\n\t * Bottom padding in pixels.\n\t */\n\tpaddingBottom?: number;\n\n\t/**\n\t * Background element.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/containers/#Background} for more info\n\t */\n\tbackground?: Graphics;\n\n\t/**\n\t * A method to layout\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/containers/#Layout} for more info\n\t */\n\tlayout?: Layout | null;\n\n\t/**\n\t * An element to use as a container's mask (clipping region).\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/containers/#Masks} for more info\n\t */\n\tmask?: Graphics | null;\n\n\t/**\n\t * If set to `true` all content going outside the bounds of the container\n\t * will be clipped.\n\t */\n\tmaskContent?: boolean;\n\n\t/**\n\t * If set to `true` all descendants - not just direct children, but every\n\t * element in it - will become \"interactive\".\n\t */\n\tinteractiveChildren?: boolean;\n\n\t/**\n\t * If set to `true`, applying a state on a container will also apply the same\n\t * state on its children.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/containers/#States} for more info\n\t */\n\tsetStateOnChildren?: boolean;\n\n\t/**\n\t * Setting this to an instance of [[Scrollbar]] will enable vertical\n\t * scrolling of content if it does not fit into the Container.\n\t * \n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/containers/#Scrollbar} for more info\n\t */\n\tverticalScrollbar?: Scrollbar;\n\n\t/**\n\t * If set to `true` its children will be laid out in opposite order.\n\t *\n\t * @since 5.1.1\n\t */\n\treverseChildren?: boolean;\n\n\t/**\n\t * HTML content of the container.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/html-content/} for more info\n\t * @since 5.2.11\n\t */\n\thtml?: string;\n\n}\n\nexport interface IContainerEvents extends ISpriteEvents {\n}\n\nexport interface IContainerPrivate extends ISpritePrivate {\n\n\t/**\n\t * A `<div>` element used for HTML content of the `Container`.\n\t */\n\thtmlElement?: HTMLDivElement;\n\n}\n\nexport interface IContainerEvents extends ISpriteEvents {\n}\n\n/**\n * A basic element that can have child elements, maintain their layout, and\n * have a background.\n *\n * It can have any [[Sprite]] element as a child, from very basic shapes, to\n * full-fledged charts.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\n * @important\n */\nexport class Container extends Sprite {\n\n\tdeclare public _settings: IContainerSettings;\n\tdeclare public _privateSettings: IContainerPrivate;\n\tdeclare public _events: IContainerEvents;\n\n\tpublic _display: IContainer = this._root._renderer.makeContainer();\n\n\tpublic _childrenDisplay: IContainer = this._root._renderer.makeContainer();\n\n\t/**\n\t * List of Container's child elements.\n\t */\n\tpublic children: Children<Sprite> = new Children(this);\n\n\tpublic _percentageSizeChildren: Array<Sprite> = [];\n\tpublic _percentagePositionChildren: Array<Sprite> = [];\n\n\tpublic static className: string = \"Container\";\n\tpublic static classNames: Array<string> = Sprite.classNames.concat([Container.className]);\n\n\tpublic _prevWidth: number = 0;\n\tpublic _prevHeight: number = 0;\n\n\tprotected _contentWidth: number = 0;\n\tprotected _contentHeight: number = 0;\n\n\tprotected _contentMask: Rectangle | undefined;\n\n\tprotected _vsbd0: IDisposer | undefined;\n\tprotected _vsbd1: IDisposer | undefined;\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\t\tthis._display.addChild(this._childrenDisplay);\n\t}\n\n\tprotected _dispose() {\n\t\t$array.eachReverse(this.allChildren(), (child) => {\n\t\t\tchild.dispose();\n\t\t});\n\n\t\tif (this.getPrivate(\"htmlElement\")) {\n\t\t\tthis._root._removeHTMLContent(this);\n\t\t}\n\n\t\tsuper._dispose();\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this.isDirty(\"interactiveChildren\")) {\n\t\t\tthis._display.interactiveChildren = this.get(\"interactiveChildren\", false);\n\t\t}\n\n\t\tif (this.isDirty(\"layout\")) {\n\t\t\tthis._prevWidth = 0;\n\t\t\tthis._prevHeight = 0;\n\t\t\tthis.markDirtyBounds();\n\t\t\tif (this._prevSettings.layout) {\n\t\t\t\tthis.children.each((child) => {\n\t\t\t\t\tchild.removePrivate(\"x\");\n\t\t\t\t\tchild.removePrivate(\"y\");\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"paddingTop\") || this.isDirty(\"paddingBottom\") || this.isDirty(\"paddingLeft\") || this.isDirty(\"paddingRight\")) {\n\t\t\tthis.children.each((child) => {\n\t\t\t\tchild.markDirtyPosition();\n\t\t\t})\n\t\t}\n\n\t\tif (this.isDirty(\"maskContent\")) {\n\n\t\t\tconst childrenDisplay = this._childrenDisplay;\n\n\t\t\tlet contentMask = this._contentMask;\n\t\t\tif (this.get(\"maskContent\")) {\n\t\t\t\tif (!contentMask) {\n\t\t\t\t\tcontentMask = Rectangle.new(this._root, {\n\t\t\t\t\t\twidth: this.width() + .5,\n\t\t\t\t\t\theight: this.height() + .5\n\t\t\t\t\t});\n\t\t\t\t\tthis._contentMask = contentMask;\n\t\t\t\t\tchildrenDisplay.addChildAt(contentMask._display, 0);\n\t\t\t\t\tchildrenDisplay.mask = contentMask._display;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (contentMask) {\n\t\t\t\t\tchildrenDisplay.removeChild(contentMask._display);\n\t\t\t\t\tchildrenDisplay.mask = null;\t\t\t\t\t\n\t\t\t\t\tcontentMask.dispose();\n\t\t\t\t\tthis._contentMask = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _updateSize() {\n\t\tsuper._updateSize();\n\n\t\t$array.each(this._percentageSizeChildren, (child) => {\n\t\t\tchild._updateSize();\n\t\t});\n\n\t\t$array.each(this._percentagePositionChildren, (child) => {\n\t\t\tchild.markDirtyPosition();\n\t\t\tchild._updateSize();\n\t\t});\n\n\t\tthis.updateBackground();\n\t}\n\n\tprotected updateBackground() {\n\t\tconst background = this.get(\"background\");\n\t\tlet bounds = this._localBounds;\n\n\t\tif (bounds && !this.isHidden()) {\n\t\t\tlet x = bounds.left;\n\t\t\tlet y = bounds.top;\n\t\t\tlet w = bounds.right - x;\n\t\t\tlet h = bounds.bottom - y;\n\n\t\t\tlet maxWidth = this.get(\"maxWidth\");\n\t\t\tlet maxHeight = this.get(\"maxHeight\");\n\n\t\t\tif (maxHeight) {\n\t\t\t\tif (h > maxHeight) {\n\t\t\t\t\th = maxHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (maxWidth) {\n\t\t\t\tif (w > maxWidth) {\n\t\t\t\t\tw = maxWidth;\n\t\t\t\t}\n\t\t\t}\t\t\t\n\n\t\t\tlet width = this.width();\n\t\t\tlet height = this.height();\n\n\t\t\tif (background) {\n\t\t\t\tbackground.setAll({ width: w, height: h, x: x, y: y });\n\t\t\t\tif (this._display.interactive) {\n\t\t\t\t\tbackground._display.interactive = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst contentMask = this._contentMask;\n\t\t\tif (contentMask) {\n\t\t\t\tcontentMask.setAll({ width:width + .5, height:height + .5 });\n\t\t\t}\n\n\t\t\tconst verticalScrollbar = this.get(\"verticalScrollbar\")!;\n\t\t\tif (verticalScrollbar) {\n\t\t\t\tverticalScrollbar.set(\"height\", height);\n\t\t\t\tverticalScrollbar.set(\"x\", width - verticalScrollbar.width() - verticalScrollbar.get(\"marginRight\", 0));\n\t\t\t\tverticalScrollbar.set(\"end\", verticalScrollbar.get(\"start\", 0) + height / this._contentHeight);\n\n\t\t\t\tconst bg = verticalScrollbar.get(\"background\");\n\t\t\t\tif (bg) {\n\t\t\t\t\tbg.setAll({ width: verticalScrollbar.width(), height: height })\n\t\t\t\t}\n\n\t\t\t\tlet visible = true;\n\t\t\t\tif (this._contentHeight <= height) {\n\t\t\t\t\tvisible = false;\n\t\t\t\t}\n\t\t\t\tverticalScrollbar.setPrivate(\"visible\", visible);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _applyThemes(): boolean {\n\t\tif (super._applyThemes()) {\n\t\t\tthis.eachChildren((child) => {\n\t\t\t\tchild._applyThemes();\n\t\t\t});\n\n\t\t\treturn true;\n\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic _applyState(name: string): void {\n\t\tsuper._applyState(name);\n\n\t\tif (this.get(\"setStateOnChildren\")) {\n\t\t\tthis.eachChildren((child) => {\n\t\t\t\tchild.states.apply(name);\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic _applyStateAnimated(name: string, duration?: number): void {\n\t\tsuper._applyStateAnimated(name, duration);\n\n\t\tif (this.get(\"setStateOnChildren\")) {\n\t\t\tthis.eachChildren((child) => {\n\t\t\t\tchild.states.applyAnimate(name, duration);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Returns container's inner width (width without padding) in pixels.\n\t *\n\t * @return Inner width (px)\n\t */\n\tpublic innerWidth(): number {\n\t\treturn this.width() - this.get(\"paddingRight\", 0) - this.get(\"paddingLeft\", 0);\n\t}\n\n\t/**\n\t * Returns container's inner height (height without padding) in pixels.\n\t *\n\t * @return Inner height (px)\n\t */\n\tpublic innerHeight(): number {\n\t\treturn this.height() - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0);\n\t}\n\n\tprotected _getBounds() {\n\n\t\tlet width = this.get(\"width\");\n\t\tlet height = this.get(\"height\");\n\t\tlet pWidth = this.getPrivate(\"width\");\n\t\tlet pHeight = this.getPrivate(\"height\");\n\n\t\tlet bounds: IBounds = {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: this.width(),\n\t\t\tbottom: this.height(),\n\t\t};\n\n\t\tlet layout = this.get(\"layout\");\n\t\tlet horizontal = false;\n\t\tlet vertical = false;\n\t\tif (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\n\t\t\thorizontal = true;\n\t\t}\n\n\t\tif (layout instanceof VerticalLayout) {\n\t\t\tvertical = true;\n\t\t}\n\n\t\tif ((width != null || pWidth != null) && (height != null || pHeight != null) && !this.get(\"verticalScrollbar\")) {\n\t\t\t// void\n\t\t}\n\t\telse {\n\t\t\tlet m = Number.MAX_VALUE;\n\n\t\t\tlet l = m;\n\t\t\tlet r = -m;\n\t\t\tlet t = m;\n\t\t\tlet b = -m;\n\n\t\t\tconst paddingLeft = this.get(\"paddingLeft\", 0);\n\t\t\tconst paddingTop = this.get(\"paddingTop\", 0);\n\t\t\tconst paddingRight = this.get(\"paddingRight\", 0);\n\t\t\tconst paddingBottom = this.get(\"paddingBottom\", 0);\n\n\t\t\tthis.children.each((child) => {\n\t\t\t\tif (child.get(\"position\") != \"absolute\" && child.get(\"isMeasured\")) {\n\t\t\t\t\tlet childBounds = child.adjustedLocalBounds();\n\t\t\t\t\tlet childX = child.x();\n\t\t\t\t\tlet childY = child.y();\n\t\t\t\t\tlet cl = childX + childBounds.left;\n\t\t\t\t\tlet cr = childX + childBounds.right;\n\t\t\t\t\tlet ct = childY + childBounds.top;\n\t\t\t\t\tlet cb = childY + childBounds.bottom;\n\n\t\t\t\t\tif (horizontal) {\n\t\t\t\t\t\tcl -= child.get(\"marginLeft\", 0);\n\t\t\t\t\t\tcr += child.get(\"marginRight\", 0);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (vertical) {\n\t\t\t\t\t\tct -= child.get(\"marginTop\", 0);\n\t\t\t\t\t\tcb += child.get(\"marginBottom\", 0);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (cl < l) {\n\t\t\t\t\t\tl = cl;\n\t\t\t\t\t}\n\t\t\t\t\tif (cr > r) {\n\t\t\t\t\t\tr = cr;\n\t\t\t\t\t}\n\t\t\t\t\tif (ct < t) {\n\t\t\t\t\t\tt = ct;\n\t\t\t\t\t}\n\t\t\t\t\tif (cb > b) {\n\t\t\t\t\t\tb = cb;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (l == m) {\n\t\t\t\tl = 0;\n\t\t\t}\n\n\t\t\tif (r == -m) {\n\t\t\t\tr = 0;\n\t\t\t}\n\n\t\t\tif (t == m) {\n\t\t\t\tt = 0;\n\t\t\t}\n\n\t\t\tif (b == -m) {\n\t\t\t\tb = 0;\n\t\t\t}\n\n\t\t\tbounds.left = l - paddingLeft;\n\t\t\tbounds.top = t - paddingTop;\n\t\t\tbounds.right = r + paddingRight;\n\t\t\tbounds.bottom = b + paddingBottom;\n\t\t}\n\n\t\tthis._contentWidth = bounds.right - bounds.left;\n\t\tthis._contentHeight = bounds.bottom - bounds.top;\n\n\t\tif ($type.isNumber(width)) {\n\t\t\tbounds.left = 0;\n\t\t\tbounds.right = width;\n\t\t}\n\n\t\tif ($type.isNumber(pWidth)) {\n\t\t\tbounds.left = 0;\n\t\t\tbounds.right = pWidth;\n\t\t}\n\n\t\tif ($type.isNumber(height)) {\n\t\t\tbounds.top = 0;\n\t\t\tbounds.bottom = height;\n\t\t}\n\n\t\tif ($type.isNumber(pHeight)) {\n\t\t\tbounds.top = 0;\n\t\t\tbounds.bottom = pHeight;\n\t\t}\n\n\t\tthis._localBounds = bounds;\n\t}\n\n\tpublic _updateBounds() {\n\t\tconst layout = this.get(\"layout\");\n\n\t\tif (layout) {\n\t\t\tlayout.updateContainer(this);\n\t\t}\n\n\t\tsuper._updateBounds();\n\n\t\tthis.updateBackground();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirty(): void {\n\t\tsuper.markDirty();\n\t\tthis._root._addDirtyParent(this);\n\t}\n\n\tpublic _prepareChildren() {\n\t\tconst innerWidth = this.innerWidth();\n\t\tconst innerHeight = this.innerHeight();\n\n\t\tif (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {\n\t\t\tlet layout = this.get(\"layout\");\n\t\t\tlet horizontal = false;\n\t\t\tlet vertical = false;\n\t\t\tif (layout) {\n\t\t\t\tif (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\n\t\t\t\t\thorizontal = true;\n\t\t\t\t}\n\t\t\t\tif (layout instanceof VerticalLayout) {\n\t\t\t\t\tvertical = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$array.each(this._percentageSizeChildren, (child) => {\n\t\t\t\tif (!horizontal) {\n\t\t\t\t\tlet width = child.get(\"width\");\n\t\t\t\t\tif (width instanceof Percent) {\n\t\t\t\t\t\tchild.setPrivate(\"width\", width.value * innerWidth);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!vertical) {\n\t\t\t\t\tlet height = child.get(\"height\");\n\t\t\t\t\tif (height instanceof Percent) {\n\t\t\t\t\t\tchild.setPrivate(\"height\", height.value * innerHeight);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t$array.each(this._percentagePositionChildren, (child) => {\n\t\t\t\tchild.markDirtyPosition();\n\t\t\t\tchild.markDirtyBounds();\n\t\t\t})\n\n\t\t\tthis._prevWidth = innerWidth;\n\t\t\tthis._prevHeight = innerHeight;\n\n\t\t\tthis._sizeDirty = true;\n\t\t\tthis.updateBackground();\n\t\t}\n\n\t\tthis._handleStates();\n\t}\n\n\tpublic _updateChildren() {\n\n\t\tif(this.isDirty(\"html\")){\n\t\t\tconst html = this.get(\"html\");\n\t\t\tif (html && html !== \"\") {\n\t\t\t\tthis._root._setHTMLContent(this, populateString(this, this.get(\"html\", \"\")));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._root._removeHTMLContent(this);\n\t\t\t}\n\t\t\tthis._root._positionHTMLElement(this);\n\t\t}\t\t\n\n\t\tif (this.isDirty(\"verticalScrollbar\")) {\n\t\t\tconst verticalScrollbar = this.get(\"verticalScrollbar\")!;\n\t\t\tif (verticalScrollbar) {\n\t\t\t\tverticalScrollbar._setParent(this);\n\t\t\t\tverticalScrollbar.children.removeValue(verticalScrollbar.startGrip);\n\t\t\t\tverticalScrollbar.children.removeValue(verticalScrollbar.endGrip);\n\n\t\t\t\tthis.set(\"maskContent\", true);\n\t\t\t\tthis.set(\"paddingRight\", verticalScrollbar.width() + verticalScrollbar.get(\"marginRight\", 0) + verticalScrollbar.get(\"marginLeft\", 0));\n\n\t\t\t\tlet background = this.get(\"background\");\n\n\t\t\t\tif (!background) {\n\t\t\t\t\tbackground = this.set(\"background\", Rectangle.new(this._root, {\n\t\t\t\t\t\tthemeTags: [\"background\"],\n\t\t\t\t\t\tfillOpacity: 0,\n\t\t\t\t\t\tfill: this._root.interfaceColors.get(\"alternativeBackground\")\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tthis._vsbd0 = this.events.on(\"wheel\", (event) => {\n\t\t\t\t\tconst wheelEvent = event.originalEvent;\n\n\t\t\t\t\t// Ignore wheel event if it is happening on a non-chart element, e.g. if\n\t\t\t\t\t// some page element is over the chart.\n\t\t\t\t\tif ($utils.isLocalEvent(wheelEvent, this)) {\n\t\t\t\t\t\twheelEvent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst shiftY = wheelEvent.deltaY / 5000;\n\t\t\t\t\tconst start = verticalScrollbar.get(\"start\", 0);\n\t\t\t\t\tconst end = verticalScrollbar.get(\"end\", 1);\n\t\t\t\t\tif (start + shiftY > 0 && end + shiftY < 1) {\n\t\t\t\t\t\tverticalScrollbar.set(\"start\", start + shiftY);\n\t\t\t\t\t\tverticalScrollbar.set(\"end\", end + shiftY);\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tthis._disposers.push(this._vsbd0);\n\n\t\t\t\tthis._vsbd1 = verticalScrollbar.events.on(\"rangechanged\", () => {\n\t\t\t\t\tlet h = this._contentHeight;\n\t\t\t\t\tconst childrenDisplay = this._childrenDisplay;\n\t\t\t\t\tconst contentMask = this._contentMask;\n\n\t\t\t\t\tchildrenDisplay.y = -verticalScrollbar.get(\"start\") * h;\n\t\t\t\t\tchildrenDisplay.markDirtyLayer();\n\n\t\t\t\t\tif (contentMask) {\n\t\t\t\t\t\tcontentMask._display.y = -childrenDisplay.y;\n\t\t\t\t\t\tchildrenDisplay.mask = contentMask._display;\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tthis._disposers.push(this._vsbd1);\n\n\t\t\t\tthis._display.addChild(verticalScrollbar._display);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst previous = this._prevSettings.verticalScrollbar\n\t\t\t\tif (previous) {\n\t\t\t\t\tthis._display.removeChild(previous._display);\n\t\t\t\t\tif (this._vsbd0) {\n\t\t\t\t\t\tthis._vsbd0.dispose();\n\t\t\t\t\t}\n\t\t\t\t\tif (this._vsbd1) {\n\t\t\t\t\t\tthis._vsbd1.dispose();\n\t\t\t\t\t}\n\t\t\t\t\tconst childrenDisplay = this._childrenDisplay;\n\t\t\t\t\tchildrenDisplay.y = 0;\n\n\t\t\t\t\tthis.setPrivate(\"height\", undefined);\n\t\t\t\t\tthis.set(\"maskContent\", false);\n\t\t\t\t\tthis.set(\"paddingRight\", undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"background\")) {\n\t\t\t// TODO maybe this should dispose ?\n\t\t\tconst previous = this._prevSettings[\"background\"];\n\t\t\tif (previous) {\n\t\t\t\tthis._display.removeChild(previous._display);\n\t\t\t}\n\n\t\t\tconst background = this.get(\"background\");\n\t\t\tif (background instanceof Sprite) {\n\t\t\t\tbackground.set(\"isMeasured\", false);\n\t\t\t\tbackground._setParent(this);\n\t\t\t\tthis._display.addChildAt(background._display, 0);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"mask\")) {\n\n\t\t\tconst mask = this.get(\"mask\");\n\n\t\t\tconst previous = this._prevSettings[\"mask\"];\n\t\t\tif (previous) {\n\t\t\t\tthis._display.removeChild(previous._display);\n\t\t\t\tif (previous != mask) {\n\t\t\t\t\tprevious.dispose();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mask) {\n\t\t\t\tvar parent = mask.parent;\n\t\t\t\tif (parent) {\n\t\t\t\t\tparent.children.removeValue(mask);\n\t\t\t\t}\n\n\t\t\t\tmask._setParent(this);\n\t\t\t\tthis._display.addChildAt(mask._display, 0);\n\t\t\t\tthis._childrenDisplay.mask = mask._display;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _processTemplateField(): void {\n\t\tsuper._processTemplateField();\n\t\tthis.children.each((child) => {\n\t\t\tchild._processTemplateField();\n\t\t})\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic walkChildren(f: (child: Sprite) => void): void {\n\t\tthis.children.each((child) => {\n\t\t\tif (child instanceof Container) {\n\t\t\t\tchild.walkChildren(f);\n\t\t\t}\n\t\t\tf(child);\n\t\t});\n\t}\n\n\tpublic eachChildren(f: (child: Sprite) => void): void {\n\t\tconst background = this.get(\"background\");\n\t\tif (background) {\n\t\t\tf(background);\n\t\t}\n\n\t\tconst verticalScrollbar = this.get(\"verticalScrollbar\");\n\t\tif (verticalScrollbar) {\n\t\t\tf(verticalScrollbar);\n\t\t}\n\n\t\tconst mask = this.get(\"mask\");\n\t\tif (mask) {\n\t\t\tf(mask);\n\t\t}\n\n\t\tthis.children.values.forEach((child) => {\n\t\t\tf(child);\n\t\t});\n\t}\n\n\tpublic allChildren(): Array<Sprite> {\n\t\tconst output: Array<Sprite> = [];\n\n\t\tthis.eachChildren((x) => {\n\t\t\toutput.push(x);\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tpublic _setDataItem(dataItem?: DataItem<IComponentDataItem>): void {\n\t\tconst updated = (dataItem !== this._dataItem);\n\t\tsuper._setDataItem(dataItem);\n\t\tconst html = this.get(\"html\", \"\");\n\t\tif (html && html !== \"\" && updated) {\n\t\t\tthis._root._setHTMLContent(this, populateString(this, html));\n\t\t}\n\t}\n}","import { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"./Graphics\";\r\n\r\nexport interface IEllipseSettings extends IGraphicsSettings {\r\n\r\n\t/**\r\n\t * The ellipse's major-axis radius. Must be non-negative.\r\n\t */\r\n\r\n\tradiusX: number\r\n\r\n\t/**\r\n\t * The ellipse's minor-axis radius. Must be non-negative.\r\n\t */\r\n\tradiusY: number\r\n}\r\n\r\nexport interface IEllipsePrivate extends IGraphicsPrivate {\r\n}\r\n\r\n/**\r\n * Draws a Ellipse.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nexport class Ellipse extends Graphics {\r\n\r\n\tdeclare public _settings: IEllipseSettings;\r\n\tdeclare public _privateSettings: IEllipsePrivate;\r\n\r\n\tpublic static className: string = \"Ellipse\";\r\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([Ellipse.className]);\r\n\r\n\tpublic _beforeChanged() {\r\n\t\tsuper._beforeChanged();\r\n\r\n\t\tif (this.isDirty(\"radiusX\") || this.isDirty(\"radiusY\") || this.isDirty(\"rotation\")) {\r\n\t\t\tthis._clear = true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _changed() {\r\n\t\tsuper._changed();\r\n\r\n\t\tif (this._clear) {\r\n\t\t\tthis._display.drawEllipse(0, 0, Math.abs(this.get(\"radiusX\")), Math.abs(this.get(\"radiusY\")));\r\n\t\t}\r\n\t}\r\n}\r\n","import type { Color } from \"../util/Color\";\nimport type { Pattern } from \"../render/patterns/Pattern\";\nimport type { Gradient } from \"../render/gradients/Gradient\";\n\nimport { PicturePattern } from \"../render/patterns/PicturePattern\";\nimport { ISpriteSettings, ISpritePrivate, ISpriteEvents, Sprite } from \"./Sprite\";\nimport { IGraphics, BlendMode } from \"./backend/Renderer\";\n\nimport * as $type from \"../util/Type\";\nimport * as $array from \"../util/Array\";\n\n\nexport const visualSettings = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeWidth\", \"strokeOpacity\", \"fillPattern\", \"strokePattern\", \"fillGradient\", \"strokeGradient\", \"strokeDasharray\", \"strokeDashoffset\"];\n\nexport interface IGraphicsSettings extends ISpriteSettings {\n\n\t/**\n\t * Fill color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more information\n\t */\n\tfill?: Color;\n\n\t/**\n\t * Stroke (border or line) color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more information\n\t */\n\tstroke?: Color;\n\n\t/**\n\t * Fill pattern.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more information\n\t */\n\tfillPattern?: Pattern;\n\n\t/**\n\t * Stroke (border or line) pattern.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more information\n\t */\n\tstrokePattern?: Pattern;\n\n\t/**\n\t * Fill gradient.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/gradients/} for more information\n\t */\n\tfillGradient?: Gradient;\n\n\t/**\n\t * Stroke (border or line) gradient.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/gradients/} for more information\n\t */\n\tstrokeGradient?: Gradient;\n\n\t/**\n\t * Stroke (border or line) dash settings.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Dashed_lines} for more information\n\t */\n\tstrokeDasharray?: number[] | number;\n\n\t/**\n\t * Stroke (border or line) dash offset.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Dashed_lines} for more information\n\t */\n\tstrokeDashoffset?: number;\n\n\t/**\n\t * Opacity of the fill. 0 - fully transparent; 1 - fully opaque.\n\t */\n\tfillOpacity?: number;\n\n\t/**\n\t * Opacity of the stroke (border or line). 0 - fully transparent; 1 - fully opaque.\n\t */\n\tstrokeOpacity?: number;\n\n\t/**\n\t * Width of the stroke (border or line) in pixels.\n\t */\n\tstrokeWidth?: number;\n\n\t/**\n\t * Indicates if stroke of a Graphics should stay the same when it's scale changes. Note, this doesn't take into account parent container scale changes.\n\t * @default false\n\t */\n\tnonScalingStroke?: boolean;\n\n\t/**\n\t * Drawing function.\n\t *\n\t * Must use renderer (`display` parameter) methods to draw.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/#Custom_draw_functions} for more info\n\t */\n\tdraw?: (display: IGraphics, graphics: Graphics) => void;\n\n\t/**\n\t * Rendering mode.\n\t *\n\t * @default BlendMode.NORMAL (\"source-over\")\n\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation} for more information\n\t * @ignore\n\t */\n\tblendMode?: BlendMode;\n\n\t/**\n\t * Draw a shape using an SVG path.\n\t *\n\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths} for more information\n\t */\n\tsvgPath?: string;\n\n\t/**\n\t * Color of the element's shadow.\n\t *\n\t * For this to work at least one of the following needs to be set as well:\n\t * `shadowBlur`, `shadowOffsetX`, `shadowOffsetY`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowColor?: Color | null;\n\n\t/**\n\t * Blurriness of the the shadow.\n\t *\n\t * The bigger the number, the more blurry shadow will be.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowBlur?: number;\n\n\t/**\n\t * Horizontal shadow offset in pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOffsetX?: number;\n\n\t/**\n\t * Vertical shadow offset in pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOffsetY?: number;\n\n\t/**\n\t * Opacity of the shadow (0-1).\n\t *\n\t * If not set, will use the same as `fillOpacity` of the element.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOpacity?: number;\n\n\t/**\n\t * A method to be used on anchor points (joints) of the multi-point line.\n\t *\n\t * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineJoin} for more info\n\t * @default \"miter\"\n\t * @since 5.2.10\n\t */\n\tlineJoin?: \"miter\" | \"round\" | \"bevel\";\n\n}\n\nexport interface IGraphicsPrivate extends ISpritePrivate {\n}\n\nexport interface IGraphicsEvents extends ISpriteEvents {\n}\n\n/**\n * Base class used for drawing shapes.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class Graphics extends Sprite {\n\n\tdeclare public _settings: IGraphicsSettings;\n\tdeclare public _privateSettings: IGraphicsPrivate;\n\tdeclare public _events: IGraphicsEvents;\n\n\tpublic _display: IGraphics = this._root._renderer.makeGraphics();\n\n\tprotected _clear = false;\n\n\tpublic static className: string = \"Graphics\";\n\tpublic static classNames: Array<string> = Sprite.classNames.concat([Graphics.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"draw\") || this.isDirty(\"svgPath\")) {\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\n\t\tif (this.isDirty(\"fill\") || this.isDirty(\"stroke\") || this.isDirty(\"visible\") || this.isDirty(\"forceHidden\") || this.isDirty(\"scale\") || this.isDirty(\"fillGradient\") || this.isDirty(\"strokeGradient\") || this.isDirty(\"fillPattern\") || this.isDirty(\"strokePattern\") || this.isDirty(\"fillOpacity\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"draw\") || this.isDirty(\"blendMode\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"svgPath\") || this.isDirty(\"lineJoin\") || this.isDirty(\"shadowColor\") || this.isDirty(\"shadowBlur\") || this.isDirty(\"shadowOffsetX\") || this.isDirty(\"shadowOffsetY\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\n\t\tif (this.isDirty(\"fillGradient\")) {\n\t\t\tconst gradient = this.get(\"fillGradient\");\n\t\t\tif (gradient) {\n\t\t\t\tthis._display.isMeasured = true;\n\t\t\t\tconst gradientTarget = gradient.get(\"target\");\n\t\t\t\tif (gradientTarget) {\n\t\t\t\t\tthis._disposers.push(gradientTarget.events.on(\"boundschanged\", () => {\n\t\t\t\t\t\tthis._markDirtyKey(\"fill\");\n\t\t\t\t\t}))\n\t\t\t\t\tthis._disposers.push(\n\t\t\t\t\t\tgradientTarget.events.on(\"positionchanged\", () => {\n\t\t\t\t\t\t\tthis._markDirtyKey(\"fill\");\n\t\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"strokeGradient\")) {\n\t\t\tconst gradient = this.get(\"strokeGradient\");\n\t\t\tif (gradient) {\n\t\t\t\tthis._display.isMeasured = true;\n\t\t\t\tconst gradientTarget = gradient.get(\"target\");\n\t\t\t\tif (gradientTarget) {\n\t\t\t\t\tthis._disposers.push(\n\t\t\t\t\t\tgradientTarget.events.on(\"boundschanged\", () => {\n\t\t\t\t\t\t\tthis._markDirtyKey(\"stroke\");\n\t\t\t\t\t\t}))\n\t\t\t\t\tthis._disposers.push(\n\t\t\t\t\t\tgradientTarget.events.on(\"positionchanged\", () => {\n\t\t\t\t\t\t\tthis._markDirtyKey(\"stroke\");\n\t\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this._clear) {\n\t\t\tthis.markDirtyBounds();\n\t\t\tthis.markDirtyLayer();\n\t\t\tthis._display.clear();\n\n\t\t\tlet strokeDasharray = this.get(\"strokeDasharray\");\n\t\t\tif ($type.isNumber(strokeDasharray)) {\n\t\t\t\tif (strokeDasharray < 0.5) {\n\t\t\t\t\tstrokeDasharray = [0];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstrokeDasharray = [strokeDasharray]\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._display.setLineDash(strokeDasharray as number[]);\n\n\t\t\tconst strokeDashoffset = this.get(\"strokeDashoffset\");\n\t\t\tif (strokeDashoffset) {\n\t\t\t\tthis._display.setLineDashOffset(strokeDashoffset);\n\t\t\t}\n\n\t\t\tconst blendMode = this.get(\"blendMode\", BlendMode.NORMAL);\n\t\t\tthis._display.blendMode = blendMode;\n\n\t\t\tconst draw = this.get(\"draw\");\n\t\t\tif (draw) {\n\t\t\t\tdraw(this._display, this);\n\t\t\t}\n\n\t\t\tconst svgPath = this.get(\"svgPath\");\n\t\t\tif (svgPath != null) {\n\t\t\t\tthis._display.svgPath(svgPath!);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _afterChanged() {\n\t\tsuper._afterChanged();\n\n\t\tif (this._clear) {\n\t\t\tconst fill = this.get(\"fill\");\n\t\t\tconst fillGradient = this.get(\"fillGradient\");\n\t\t\tconst fillPattern = this.get(\"fillPattern\");\n\t\t\tconst fillOpacity = this.get(\"fillOpacity\");\n\n\t\t\tconst stroke = this.get(\"stroke\");\n\t\t\tconst strokeGradient = this.get(\"strokeGradient\");\n\t\t\tconst strokePattern = this.get(\"strokePattern\");\n\n\t\t\tconst shadowColor = this.get(\"shadowColor\");\n\t\t\tconst shadowBlur = this.get(\"shadowBlur\");\n\t\t\tconst shadowOffsetX = this.get(\"shadowOffsetX\");\n\t\t\tconst shadowOffsetY = this.get(\"shadowOffsetY\");\n\t\t\tconst shadowOpacity = this.get(\"shadowOpacity\");\n\n\t\t\t//const bounds = this._display.getLocalBounds();\n\n\t\t\tif (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) {\n\t\t\t\tthis._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);\n\t\t\t}\n\n\t\t\tif (fillPattern) {\n\t\t\t\tlet changed = false;\n\t\t\t\tif (fill && (!fillPattern.get(\"fill\") || fillPattern.get(\"fillInherited\"))) {\n\t\t\t\t\tfillPattern.set(\"fill\", fill);\n\t\t\t\t\tfillPattern.set(\"fillInherited\", true)\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t\tif (stroke && (!fillPattern.get(\"color\") || fillPattern.get(\"colorInherited\"))) {\n\t\t\t\t\tfillPattern.set(\"color\", stroke);\n\t\t\t\t\tfillPattern.set(\"colorInherited\", true)\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t\tif (changed) {\n\t\t\t\t\t// @todo: is this OK?\n\t\t\t\t\tfillPattern._changed();\n\t\t\t\t}\n\t\t\t\tconst pattern = fillPattern.pattern;\n\t\t\t\tif (pattern) {\n\t\t\t\t\tthis._display.beginFill(pattern, fillOpacity);\n\t\t\t\t\tthis._display.endFill();\n\n\t\t\t\t\tif (fillPattern instanceof PicturePattern) {\n\t\t\t\t\t\tfillPattern.events.once(\"loaded\", () => {\n\t\t\t\t\t\t\tthis._clear = true;\n\t\t\t\t\t\t\tthis.markDirty();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (fillGradient) {\n\t\t\t\tif (fill) {\n\t\t\t\t\tconst stops = fillGradient.get(\"stops\", []);\n\t\t\t\t\tif (stops.length) {\n\t\t\t\t\t\t$array.each(stops, (stop: any) => {\n\t\t\t\t\t\t\tif ((!stop.color || stop.colorInherited) && fill) {\n\t\t\t\t\t\t\t\tstop.color = fill;\n\t\t\t\t\t\t\t\tstop.colorInherited = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (stop.opacity == null || stop.opacityInherited) {\n\t\t\t\t\t\t\t\tstop.opacity = fillOpacity;\n\t\t\t\t\t\t\t\tstop.opacityInherited = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst gradient = fillGradient.getFill(this);\n\t\t\t\tif (gradient) {\n\t\t\t\t\tthis._display.beginFill(gradient, fillOpacity);\n\t\t\t\t\tthis._display.endFill();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (fill) {\n\t\t\t\tthis._display.beginFill(fill, fillOpacity);\n\t\t\t\tthis._display.endFill();\n\t\t\t}\n\n\t\t\tif (stroke || strokeGradient || strokePattern) {\n\t\t\t\tconst strokeOpacity = this.get(\"strokeOpacity\");\n\t\t\t\tlet strokeWidth = this.get(\"strokeWidth\", 1);\n\n\t\t\t\tif (this.get(\"nonScalingStroke\")) {\n\t\t\t\t\tstrokeWidth = strokeWidth / this.get(\"scale\", 1)\n\t\t\t\t}\n\t\t\t\tconst lineJoin = this.get(\"lineJoin\");\n\n\t\t\t\tif (strokePattern) {\n\t\t\t\t\tlet changed = false;\n\t\t\t\t\tif (stroke && (!strokePattern.get(\"color\") || strokePattern.get(\"colorInherited\"))) {\n\t\t\t\t\t\tstrokePattern.set(\"color\", stroke);\n\t\t\t\t\t\tstrokePattern.set(\"colorInherited\", true);\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (changed) {\n\t\t\t\t\t\t// @todo: is this OK?\n\t\t\t\t\t\tstrokePattern._changed();\n\t\t\t\t\t}\n\t\t\t\t\tconst pattern = strokePattern.pattern;\n\t\t\t\t\tif (pattern) {\n\t\t\t\t\t\tthis._display.lineStyle(strokeWidth, pattern, strokeOpacity, lineJoin);\n\t\t\t\t\t\tthis._display.endStroke();\n\n\t\t\t\t\t\tif (strokePattern instanceof PicturePattern) {\n\t\t\t\t\t\t\tstrokePattern.events.once(\"loaded\", () => {\n\t\t\t\t\t\t\t\tthis._clear = true;\n\t\t\t\t\t\t\t\tthis.markDirty();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (strokeGradient) {\n\n\t\t\t\t\tconst stops = strokeGradient.get(\"stops\", []);\n\t\t\t\t\tif (stops.length) {\n\t\t\t\t\t\t$array.each(stops, (stop: any) => {\n\t\t\t\t\t\t\tif ((!stop.color || stop.colorInherited) && stroke) {\n\t\t\t\t\t\t\t\tstop.color = stroke;\n\t\t\t\t\t\t\t\tstop.colorInherited = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (stop.opacity == null || stop.opacityInherited) {\n\t\t\t\t\t\t\t\tstop.opacity = strokeOpacity;\n\t\t\t\t\t\t\t\tstop.opacityInherited = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tconst gradient = strokeGradient.getFill(this);\n\t\t\t\t\tif (gradient) {\n\t\t\t\t\t\tthis._display.lineStyle(strokeWidth, gradient, strokeOpacity, lineJoin);\n\t\t\t\t\t\tthis._display.endStroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (stroke) {\n\t\t\t\t\tthis._display.lineStyle(strokeWidth, stroke, strokeOpacity, lineJoin);\n\t\t\t\t\tthis._display.endStroke();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\tthis._clear = false;\n\t}\n\n}\n","import { Layout, ILayoutSettings, ILayoutPrivate, eachChildren } from \"./Layout\";\nimport * as $array from \"../util/Array\";\nimport * as $math from \"../util/Math\";\nimport type { Container } from \"./Container\";\n\n\nexport interface IGridLayoutSettings extends ILayoutSettings {\n\n\t/**\n\t * If set to `true` all columns in the grid will be equal width.\n\t *\n\t * @default false\n\t */\n\tfixedWidthGrid?: boolean;\n\n\t/**\n\t * Maximum number of columns in the grid.\n\t */\n\tmaxColumns?: number;\n\n}\n\nexport interface IGridLayoutPrivate extends ILayoutPrivate {\n}\n\n/**\n * A grid children layout for [[Container]].\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\n */\nexport class GridLayout extends Layout {\n\n\tpublic static className: string = \"GridLayout\";\n\tpublic static classNames: Array<string> = Layout.classNames.concat([GridLayout.className]);\n\n\tdeclare public _settings: IGridLayoutSettings;\n\tdeclare public _privateSettings: IGridLayoutPrivate;\n\n\n\tprotected _afterNew() {\n\t\tthis._setRawDefault(\"maxColumns\", Number.MAX_VALUE);\n\t\tsuper._afterNew();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateContainer(container: Container): void {\n\t\tlet paddingLeft = container.get(\"paddingLeft\", 0);\n\t\tlet paddingRight = container.get(\"paddingRight\", 0);\n\t\tlet paddingTop = container.get(\"paddingTop\", 0);\n\n\t\tlet availableWidth = container.maxWidth() - paddingLeft - paddingRight;\n\n\t\tlet minCellWidth = availableWidth;\n\t\tlet maxCellWidth = 1;\n\n\t\teachChildren(container, (child) => {\n\t\t\tif(child.get(\"visible\") && child.getPrivate(\"visible\") && !child.get(\"forceHidden\")){\n\t\t\t\tif (child.get(\"position\") != \"absolute\") {\n\t\t\t\t\tlet childWidth = child.width();\n\n\t\t\t\t\tif (childWidth < minCellWidth) {\n\t\t\t\t\t\tminCellWidth = childWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (childWidth > maxCellWidth) {\n\t\t\t\t\t\tmaxCellWidth = childWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tminCellWidth = $math.fitToRange(minCellWidth, 1, availableWidth);\n\t\tmaxCellWidth = $math.fitToRange(maxCellWidth, 1, availableWidth);\n\n\t\tlet columnCount = 1;\n\t\tif (this.get(\"fixedWidthGrid\")) {\n\t\t\tcolumnCount = availableWidth / maxCellWidth;\n\t\t}\n\t\telse {\n\t\t\tcolumnCount = availableWidth / minCellWidth;\n\t\t}\n\n\t\tcolumnCount = Math.max(1, Math.floor(columnCount));\n\t\tcolumnCount = Math.min(this.get(\"maxColumns\", Number.MAX_VALUE), columnCount);\n\n\t\tlet columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\n\n\t\tlet prevY = paddingTop;\n\n\t\tlet column = 0;\n\t\tlet maxColumnHeight = 0;\n\n\t\tcolumnCount = columnWidths.length;\n\n\t\tlet prevX = paddingLeft;\n\n\t\teachChildren(container, (child) => {\n\t\t\tif (child.get(\"position\") == \"relative\" && child.isVisible()) {\n\t\t\t\tconst marginTop = child.get(\"marginTop\", 0);\n\t\t\t\tconst marginBottom = child.get(\"marginBottom\", 0);\n\n\t\t\t\tlet bounds = child.adjustedLocalBounds();\n\n\t\t\t\tlet marginLeft = child.get(\"marginLeft\", 0);\n\t\t\t\tlet marginRight = child.get(\"marginRight\", 0);\n\t\t\t\tlet x = prevX + marginLeft - bounds.left;\n\t\t\t\tlet y = prevY + marginTop - bounds.top;\n\n\t\t\t\tchild.setPrivate(\"x\", x);\n\t\t\t\tchild.setPrivate(\"y\", y);\n\n\t\t\t\tprevX += columnWidths[column] + marginRight;\n\n\t\t\t\tmaxColumnHeight = Math.max(maxColumnHeight, child.height() + marginTop + marginBottom);\n\n\t\t\t\tcolumn++;\n\n\t\t\t\tif (column >= columnCount) {\n\t\t\t\t\tcolumn = 0;\n\t\t\t\t\tprevX = paddingLeft;\n\t\t\t\t\tprevY += maxColumnHeight;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic getColumnWidths(container: Container, columnCount: number, maxCellWidth: number, availableWidth: number): number[] {\n\t\tlet totalWidth = 0;\n\t\tlet columnWidths: Array<number> = [];\n\t\tlet column = 0;\n\n\t\teachChildren(container, (child) => {\n\t\t\tlet bounds = child.adjustedLocalBounds();\n\t\t\tif (child.get(\"position\") != \"absolute\" && child.isVisible()) {\n\t\t\t\tif (this.get(\"fixedWidthGrid\")) {\n\t\t\t\t\tcolumnWidths[column] = maxCellWidth;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcolumnWidths[column] = Math.max(columnWidths[column] | 0, bounds.right - bounds.left + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0));\n\t\t\t\t}\n\n\t\t\t\tif (column < container.children.length - 1) {\n\t\t\t\t\tcolumn++;\n\t\t\t\t\tif (column == columnCount) {\n\t\t\t\t\t\tcolumn = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$array.each(columnWidths, (w) => {\n\t\t\ttotalWidth += w;\n\t\t})\n\n\t\tif (totalWidth > availableWidth) {\n\t\t\tif (columnCount > 2) {\n\t\t\t\tcolumnCount -= 1;\n\t\t\t\treturn this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn [availableWidth];\n\t\t\t}\n\t\t}\n\n\t\treturn columnWidths;\n\t}\n}\n","import { Layout, eachChildren } from \"./Layout\";\nimport * as $type from \"../util/Type\";\nimport { Percent } from \"../util/Percent\";\nimport type { Container } from \"./Container\";\n\n/**\n * A horizontal children layout for [[Container]].\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\n */\nexport class HorizontalLayout extends Layout {\n\n\tpublic static className: string = \"HorizontalLayout\";\n\tpublic static classNames: Array<string> = Layout.classNames.concat([HorizontalLayout.className]);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateContainer(container: Container): void {\n\n\t\tlet paddingLeft = container.get(\"paddingLeft\", 0);\n\n\t\tlet availableWidth = container.innerWidth();\n\n\t\tlet totalPercent = 0;\n\n\t\teachChildren(container, (child) => {\n\t\t\tif (child.isVisible()) {\n\t\t\t\tif (child.get(\"position\") == \"relative\") {\n\t\t\t\t\tlet childWidth = child.get(\"width\");\n\t\t\t\t\tif (childWidth instanceof Percent) {\n\t\t\t\t\t\ttotalPercent += childWidth.value;\n\n\t\t\t\t\t\tlet w = availableWidth * childWidth.value;\n\t\t\t\t\t\tlet minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\n\t\t\t\t\t\tif (minWidth > w) {\n\t\t\t\t\t\t\tavailableWidth -= minWidth;\n\t\t\t\t\t\t\ttotalPercent -= childWidth.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\n\t\t\t\t\t\tif (w > maxWidth) {\n\t\t\t\t\t\t\tavailableWidth -= maxWidth;\n\t\t\t\t\t\t\ttotalPercent -= childWidth.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (!$type.isNumber(childWidth)) {\n\t\t\t\t\t\t\tchildWidth = child.width();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tavailableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (availableWidth < 0) {\n\t\t\tavailableWidth = 0.01;\n\t\t}\n\n\t\t//if (availableWidth > 0) {\n\t\teachChildren(container, (child) => {\n\t\t\tif (child.isVisible()) {\n\t\t\t\tif (child.get(\"position\") == \"relative\") {\n\t\t\t\t\tlet childWidth = child.get(\"width\");\n\t\t\t\t\tif (childWidth instanceof Percent) {\n\t\t\t\t\t\tlet privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\n\t\t\t\t\t\tlet minWidth = child.get(\"minWidth\", child.getPrivate(\"minWidth\", -Infinity));\n\t\t\t\t\t\tlet maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\n\t\t\t\t\t\tprivateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\n\n\t\t\t\t\t\tchild.setPrivate(\"width\", privateWidth);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t//}\n\n\t\tlet prevX = paddingLeft;\n\n\t\teachChildren(container, (child) => {\n\n\t\t\tif (child.get(\"position\") == \"relative\") {\n\t\t\t\tif (child.isVisible()) {\n\t\t\t\t\tlet bounds = child.adjustedLocalBounds();\n\t\t\t\t\tlet marginLeft = child.get(\"marginLeft\", 0);\n\t\t\t\t\tlet marginRight = child.get(\"marginRight\", 0);\n\n\t\t\t\t\tlet maxWidth = child.get(\"maxWidth\");\n\n\t\t\t\t\tlet left = bounds.left;\n\t\t\t\t\tlet right = bounds.right;\n\t\t\t\t\tif (maxWidth) {\n\t\t\t\t\t\tif (right - left > maxWidth) {\n\t\t\t\t\t\t\tright = left + maxWidth\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet x = prevX + marginLeft - left;\n\t\t\t\t\tchild.setPrivate(\"x\", x);\n\t\t\t\t\tprevX = x + right + marginRight;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchild.setPrivate(\"x\", undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import type { Color } from \"../util/Color\";\nimport type { Percent } from \"../util/Percent\";\nimport type { DataItem, IComponentDataItem } from \"./Component\";\n\nimport { Text } from \"../render/Text\";\nimport { p50, p100 } from \"../util/Percent\";\nimport { Container, IContainerPrivate, IContainerSettings } from \"./Container\";\n\nimport * as  $array from \"../../core/util/Array\";\nimport * as  $type from \"../../core/util/Type\";\n\n\nexport interface ILabelSettings extends IContainerSettings {\n\n\t/**\n\t * Labels' text.\n\t */\n\ttext?: string;\n\n\t/**\n\t * Text color.\n\t */\n\tfill?: Color;\n\n\t/**\n\t * Alignment.\n\t */\n\ttextAlign?: \"start\" | \"end\" | \"left\" | \"right\" | \"center\";\n\n\t/**\n\t * Font family to use for the label.\n\t *\n\t * Multiple fonts can be separated by commas.\n\t */\n\tfontFamily?: string;\n\n\t/**\n\t * Font size in misc any supported CSS format (pixel, point, em, etc.).\n\t */\n\tfontSize?: string | number;\n\n\t/**\n\t * Font weight.\n\t */\n\tfontWeight?: \"normal\" | \"bold\" | \"bolder\" | \"lighter\" | \"100\" | \"200\" | \"300\" | \"400\" | \"500\" | \"600\" | \"700\" | \"800\" | \"900\";\n\n\t/**\n\t * Font style.\n\t */\n\tfontStyle?: \"normal\" | \"italic\" | \"oblique\";\n\n\t/**\n\t * Font variant.\n\t */\n\tfontVariant?: \"normal\" | \"small-caps\";\n\n\t/**\n\t * Text decoration.\n\t *\n\t * Supported options `\"underline\"`, `\"line-through\"`.\n\t *\n\t * @since 5.0.15\n\t */\n\ttextDecoration?: \"underline\" | \"line-through\";\n\n\t/**\n\t * Line height in percent or absolute pixels.\n\t */\n\tlineHeight?: Percent | number;\n\n\t/**\n\t * How mouch of the height should be considered to go below baseline.\n\t *\n\t * @default 0.19\n\t */\n\tbaselineRatio?: number;\n\n\t/**\n\t * Opacity of the label.\n\t *\n\t * 0 - fully transparent; 1 - fully opaque.\n\t */\n\topacity?: number;\n\n\t/**\n\t * Text direction.\n\t *\n\t * @default \"ltr\"\n\t */\n\tdirection?: \"ltr\" | \"rtl\";\n\n\t/**\n\t * A base line to use when aligning text chunks vertically.\n\t */\n\ttextBaseline?: \"top\" | \"hanging\" | \"middle\" | \"alphabetic\" | \"ideographic\" | \"bottom\";\n\n\t/**\n\t * How to handle labels that do not fit into its designated space.\n\t *\n\t * LIMITATIONS: on circular labels, the only values supported are `\"hide\"` and\n\t * `\"truncate\"`. The latter will ignore `breakWords` setting.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/#Oversized_text} for more info\n\t */\n\toversizedBehavior?: \"none\" | \"hide\" | \"fit\" | \"wrap\" | \"wrap-no-break\" | \"truncate\";\n\n\t/**\n\t * Whether words can be broken when truncating or wrapping text.\n\t *\n\t * @default false\n\t */\n\tbreakWords?: boolean;\n\n\t/**\n\t * Ellipsis characters to use when truncating text.\n\t *\n\t * Will use Unicode ellipsis symbol (`\"\"`) by default, which might not be\n\t * available in all fonts. If ellipsis looks broken, use different\n\t * characters. E.g.:\n\t *\n\t * ```TypeScript\n\t * label.set(\"ellipsis\", \"...\");\n\t * ```\n\t * ```JavaScript\n\t * label.set(\"ellipsis\", \"...\");\n\t * ```\n\t *\n\t *\n\t * @default \"\"\n\t */\n\tellipsis?: string;\n\n\t/**\n\t * Minimum relative scale allowed for label when scaling down\n\t * when `oversizedBehavior` is set to `\"fit\"`.\n\t *\n\t * If fitting the label would require it to scale beyond `minScale` it would\n\t * be hidden instead.\n\t */\n\tminScale?: number;\n\n\t/**\n\t * If set to `true` the label will parse `text` for data placeholders and\n\t * will try to populate them with actual data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/#Data_placeholders} for more info\n\t */\n\tpopulateText?: boolean;\n\n\t/**\n\t * If set to `true`, will ignore in-line formatting blocks and will display\n\t * text exactly as it is.\n\t *\n\t * @default false\n\t */\n\tignoreFormatting?: boolean;\n\n\t/**\n\t * Color of the element's shadow.\n\t *\n\t * For this to work at least one of the following needs to be set as well:\n\t * `shadowBlur`, `shadowOffsetX`, `shadowOffsetY`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowColor?: Color | null;\n\n\t/**\n\t * Blurriness of the the shadow.\n\t *\n\t * The bigger the number, the more blurry shadow will be.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowBlur?: number;\n\n\t/**\n\t * Horizontal shadow offset in pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOffsetX?: number;\n\n\t/**\n\t * Vertical shadow offset in pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOffsetY?: number;\n\n\t/**\n\t * Opacity of the shadow (0-1).\n\t *\n\t * If not set, will use the same as `fillOpacity` of the element.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOpacity?: number;\n\n\t// The following migh be supported some day:\n\t// padding?: number;\n\t// stroke?: number;\n\t// strokeThickness?: number;\n\t// trim?: number;\n\t// wordWrap?: boolean;\n\t// leading?: number;\n\t// letterSpacing?: number;\n}\n\nexport interface ILabelPrivate extends IContainerPrivate {\n}\n\n/**\n * Creates a label with support for in-line styling and data bindings.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/} for more info\n */\nexport class Label extends Container {\n\n\tdeclare public _settings: ILabelSettings;\n\tdeclare public _privateSettings: ILabelPrivate;\n\n\tprotected _text!: Text;\n\n\tprotected _textKeys: Array<string> = [\n\t\t\"text\",\n\t\t\"fill\",\n\t\t\"textAlign\",\n\t\t\"fontFamily\",\n\t\t\"fontSize\",\n\t\t\"fontStyle\",\n\t\t\"fontWeight\",\n\t\t\"fontStyle\",\n\t\t\"fontVariant\",\n\t\t\"textDecoration\",\n\t\t\"shadowColor\",\n\t\t\"shadowBlur\",\n\t\t\"shadowOffsetX\",\n\t\t\"shadowOffsetY\",\n\t\t\"shadowOpacity\",\n\t\t// \"leading\",\n\t\t// \"letterSpacing\",\n\t\t\"lineHeight\",\n\t\t\"baselineRatio\",\n\t\t//\"padding\",\n\t\t// \"stroke\",\n\t\t// \"strokeThickness\",\n\t\t// \"trim\",\n\t\t// \"wordWrap\",\n\t\t\"direction\",\n\t\t\"textBaseline\",\n\t\t\"oversizedBehavior\",\n\t\t\"breakWords\",\n\t\t\"ellipsis\",\n\t\t\"minScale\",\n\t\t\"populateText\",\n\t\t\"role\",\n\t\t\"ignoreFormatting\"\n\t];\n\n\tpublic static className: string = \"Label\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Label.className]);\n\n\t/**\n\t * @ignore Text is not to be used directly\n\t */\n\tpublic get text(): Text {\n\t\treturn this._text;\n\t}\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis._makeText();\n\n\t\t$array.each(this._textKeys, (property) => {\n\t\t\tconst propValue = this.get(property as any);\n\t\t\tif (propValue != undefined) {\n\t\t\t\tthis._text.set(property as any, propValue);\n\t\t\t}\n\t\t});\n\n\t\tif (this.get(\"html\", \"\") !== \"\") {\n\t\t\tthis._text.set(\"text\", \"\");\n\t\t}\n\n\t\tthis.onPrivate(\"maxWidth\", () => {\n\t\t\tthis._setMaxDimentions();\n\t\t});\n\n\t\tthis.onPrivate(\"maxHeight\", () => {\n\t\t\tthis._setMaxDimentions();\n\t\t});\n\t}\n\n\tpublic _makeText() {\n\t\tthis._text = this.children.push(Text.new(this._root, {}));\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\t$array.each(this._textKeys, (property) => {\n\t\t\tthis._text.set(property as any, this.get(property as any));\n\t\t})\n\n\t\tif (this.isDirty(\"maxWidth\")) {\n\t\t\tthis._setMaxDimentions();\n\t\t}\n\n\t\tif (this.isDirty(\"maxHeight\")) {\n\t\t\tthis._setMaxDimentions();\n\t\t}\n\n\t\tif (this.isDirty(\"rotation\")) {\n\t\t\tthis._setMaxDimentions();\n\t\t}\n\n\t\t// Do not show regular text if HTML is used\n\t\tif (this.get(\"html\", \"\") !== \"\") {\n\t\t\tthis._text.set(\"text\", \"\");\n\t\t}\n\t\telse {\n\t\t\tthis._text.set(\"text\", this.get(\"text\"));\n\t\t}\n\n\t\tif (this.isDirty(\"textAlign\") || this.isDirty(\"width\")) {\n\t\t\tconst textAlign = this.get(\"textAlign\");\n\t\t\tlet x: number | Percent | undefined;\n\t\t\tif (this.get(\"width\") != null) {\n\t\t\t\tif (textAlign == \"right\") {\n\t\t\t\t\tx = p100;\n\t\t\t\t}\n\t\t\t\telse if (textAlign == \"center\") {\n\t\t\t\t\tx = p50;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (textAlign == \"left\" || textAlign == \"start\") {\n\t\t\t\t\tx = this.get(\"paddingLeft\");\n\t\t\t\t}\n\t\t\t\telse if (textAlign == \"right\" || textAlign == \"end\") {\n\t\t\t\t\tx = -this.get(\"paddingRight\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.text.set(\"x\", x);\n\t\t}\n\t}\n\n\tprotected _setMaxDimentions() {\n\t\tconst rotation = this.get(\"rotation\");\n\t\tconst vertical = rotation == 90 || rotation == 270 || rotation == -90;\n\n\t\tconst maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\", Infinity));\n\t\tif ($type.isNumber(maxWidth)) {\n\t\t\tthis.text.set(vertical ? \"maxHeight\" : \"maxWidth\", maxWidth - this.get(\"paddingLeft\", 0) - this.get(\"paddingRight\", 0));\n\t\t}\n\t\telse {\n\t\t\tthis.text.set(vertical ? \"maxHeight\" : \"maxWidth\", undefined);\n\t\t}\n\n\t\tconst maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\", Infinity));\n\t\tif ($type.isNumber(maxHeight)) {\n\t\t\tthis.text.set(vertical ? \"maxWidth\" : \"maxHeight\", maxHeight - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0));\n\t\t}\n\t\telse {\n\t\t\tthis.text.set(vertical ? \"maxWidth\" : \"maxHeight\", undefined);\n\t\t}\n\t}\n\n\tpublic _setDataItem(dataItem?: DataItem<IComponentDataItem>): void {\n\t\tsuper._setDataItem(dataItem);\n\t\tthis._markDirtyKey(\"text\")\n\t\tif (this.text.get(\"populateText\")) {\n\t\t\tthis.text.markDirtyText();\n\t\t}\n\t}\n\n\t/**\n\t * Returns text with populated placeholders and formatting if `populateText` is\n\t * set to `true`.\n\t *\n\t * @return Populated text\n\t */\n\tpublic getText(): string {\n\t\treturn this._text._getText();\n\t}\n}\n","import type { Container } from \"./Container\";\nimport type { Sprite } from \"./Sprite\";\nimport { Entity, IEntitySettings, IEntityPrivate } from \"../util/Entity\";\n\nexport interface ILayoutSettings extends IEntitySettings {\n}\n\nexport interface ILayoutPrivate extends IEntityPrivate {\n}\n\nexport function eachChildren(container: Container, f: (sprite: Sprite) => void): void {\n    if (container.get(\"reverseChildren\", false)) {\n        container.children.eachReverse(f);\n    } else {\n        container.children.each(f);\n    }\n}\n\n/**\n * Base class for [[Container]] layouts.\n */\nexport abstract class Layout extends Entity {\n\tdeclare public _settings: ILayoutSettings;\n\tdeclare public _privateSettings: ILayoutPrivate;\n\n\tpublic static className: string = \"Layout\";\n\tpublic static classNames: Array<string> = Entity.classNames.concat([Layout.className]);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic abstract updateContainer(_container: Container): void;\n}\n","import type { DataItem } from \"../../core/render/Component\";\nimport { Series, ISeriesSettings, ISeriesDataItem, ISeriesPrivate, ISeriesEvents } from \"./Series\";\nimport { Container } from \"../../core/render/Container\";\nimport { Label } from \"../../core/render/Label\";\nimport { RoundedRectangle } from \"../../core/render/RoundedRectangle\";\nimport { Template } from \"../../core/util/Template\";\nimport { ListTemplate } from \"../../core/util/List\";\nimport type { Entity, IEntitySettings } from \"../../core/util/Entity\";\nimport type { Color } from \"../../core/util/Color\";\nimport * as $utils from \"../../core/util/Utils\";\n\nexport interface ILegendDataItem extends ISeriesDataItem {\n\n\t/**\n\t * [[Container]] element holding all other legend item elements, labels,\n\t * markers, etc.\n\t */\n\titemContainer: Container;\n\n\t/**\n\t * Marker element.\n\t */\n\tmarker: Container;\n\n\t/**\n\t * Marker rectangle element.\n\t */\n\tmarkerRectangle: RoundedRectangle;\n\n\t/**\n\t * Label element.\n\t */\n\tlabel: Label;\n\n\t/**\n\t * Value label element.\n\t */\n\tvalueLabel: Label;\n\n\t/**\n\t * Marker fill color.\n\t */\n\tfill?: Color;\n\n\t/**\n\t * Marker stroke (outline) color.\n\t */\n\tstroke?: Color;\n\n\t/**\n\t * Name of the legend item.\n\t */\n\tname?: string;\n\n}\n\nexport interface ILegendItemSettings extends IEntitySettings {\n\tvisible?: boolean;\n}\n\n/**\n * @ignore\n */\nexport interface ILegendItem extends Entity {\n\t_settings: ILegendItemSettings;\n\tisHidden?: () => boolean;\n\tshow?: () => void;\n\thide?: () => void;\n\tcreateLegendMarker?: () => {}\n\tcomponent?: Series;\n\t// how to define that properties of dataItem should have legendDataItem?\n}\n\n//type ILegendDataItemSettings = { [K in keyof ILegendDataItem]?: string; };\n\nexport interface ILegendSettings extends ISeriesSettings {\n\n\t/**\n\t * If set to `true` the legend will not try to mimic appearance of the actual\n\t * item but rather show default square marker.\n\t *\n\t * @default false\n\t */\n\tuseDefaultMarker?: boolean;\n\n\t/**\n\t * A key to look up in data for a name of the data item.\n\t *\n\t */\n\tnameField?: string;\n\n\t/**\n\t * A key to look up in data for a fill of the data item.\n\t *\n\t */\n\tfillField?: string;\n\n\t/**\n\t * A key to look up in data for a stroke of the data item.\n\t *\n\t */\n\tstrokeField?: string;\n\n\t/**\n\t * Which legend item element will be clickable to toggle related chart item:\n\t * * `\"itemContainer\"` - the whole legend item (default).\n\t * * `\"marker\"` - legend item marker.\n\t * * `\"none\"` - disables toggling of legend item.\n\t *\n\t * @default \"itemContainer\"\n\t * @since 5.0.13\n\t */\n\tclickTarget?: \"itemContainer\" | \"marker\" | \"none\"\n\n}\n\nexport interface ILegendPrivate extends ISeriesPrivate {\n}\n\nexport interface ILegendEvents extends ISeriesEvents {\n\n}\n\n/**\n * A universal legend control.\n *\n * @important\n * @see {@link https://www.amcharts.com/docs/v5/concepts/legend/} for more info\n */\nexport class Legend extends Series {\n\tprotected _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"legend\"]);\n\t\tthis.fields.push(\"name\", \"stroke\", \"fill\");\n\t\tsuper._afterNew();\n\t}\n\n\tpublic static className: string = \"Legend\";\n\tpublic static classNames: Array<string> = Series.classNames.concat([Legend.className]);\n\n\tdeclare public _settings: ILegendSettings;\n\tdeclare public _privateSettings: ILegendPrivate;\n\tdeclare public _dataItemSettings: ILegendDataItem;\n\tdeclare public _events: ILegendEvents;\n\n\n\t/**\n\t * List of all [[Container]] elements for legend items.\n\t *\n\t * @default new ListTemplate<Container>\n\t */\n\tpublic readonly itemContainers: ListTemplate<Container> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Container._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\"]),\n\t\t\tthemeTagsSelf: $utils.mergeTags(this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"]),\n\t\t\tbackground: RoundedRectangle.new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(this.itemContainers.template.get(\"themeTags\", []), [\"legend\", \"item\", \"background\"]),\n\t\t\t\tthemeTagsSelf: $utils.mergeTags(this.itemContainers.template.get(\"themeTagsSelf\", []), [\"itemcontainer\"])\n\t\t\t})\n\t\t}, [this.itemContainers.template])\n\t);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeItemContainer(dataItem: DataItem<this[\"_dataItemSettings\"]>): Container {\n\t\tconst itemContainer = this.children.push(this.itemContainers.make());\n\t\titemContainer._setDataItem(dataItem);\n\t\tthis.itemContainers.push(itemContainer);\n\t\titemContainer.states.create(\"disabled\", {});\n\t\treturn itemContainer;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeMarker(): Container {\n\t\tconst marker = this.markers.make();\n\t\tthis.markers.push(marker);\n\t\tmarker.states.create(\"disabled\", {});\n\t\treturn marker;\n\t}\n\n\t/**\n\t * List of legend marker elements.\n\t *\n\t * @default new ListTemplate<Container>\n\t */\n\tpublic readonly markers: ListTemplate<Container> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Container._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.markers.template.get(\"themeTags\", []), [\"legend\", \"marker\"])\n\t\t}, [this.markers.template])\n\t);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeLabel(): Label {\n\t\tconst label = this.labels.make();\n\t\tlabel.states.create(\"disabled\", {});\n\t\treturn label;\n\t}\n\n\t/**\n\t * List of legend label elements.\n\t *\n\t * @default new ListTemplate<Label>\n\t */\n\tpublic readonly labels: ListTemplate<Label> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Label._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [\"legend\", \"label\"])\n\t\t}, [this.labels.template])\n\t);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeValueLabel(): Label {\n\t\tconst valueLabel = this.valueLabels.make();\n\t\tvalueLabel.states.create(\"disabled\", {});\n\t\treturn valueLabel;\n\t}\n\n\t/**\n\t * List of legend value label elements.\n\t *\n\t * @default new ListTemplate<label>\n\t */\n\tpublic readonly valueLabels: ListTemplate<Label> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Label._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.valueLabels.template.get(\"themeTags\", []), [\"legend\", \"label\", \"value\"])\n\t\t}, [this.valueLabels.template])\n\t);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeMarkerRectangle(): RoundedRectangle {\n\t\tconst markerRectangle = this.markerRectangles.make();\n\t\tmarkerRectangle.states.create(\"disabled\", {});\n\t\treturn markerRectangle;\n\t}\n\n\t/**\n\t * List of rectangle elements used for default legend markers.\n\t *\n\t * @default new ListTemplate<RoundedRectangle>\n\t */\n\tpublic readonly markerRectangles: ListTemplate<RoundedRectangle> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => RoundedRectangle._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.markerRectangles.template.get(\"themeTags\", []), [\"legend\", \"marker\", \"rectangle\"])\n\t\t}, [this.markerRectangles.template])\n\t);\n\n\n\tprotected processDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper.processDataItem(dataItem);\n\n\t\tconst itemContainer = this.makeItemContainer(dataItem);\n\n\t\tconst nameField = this.get(\"nameField\");\n\t\tconst fillField = this.get(\"fillField\");\n\t\tconst strokeField = this.get(\"strokeField\");\n\n\t\tif (itemContainer) {\n\t\t\tconst clickTarget = this.get(\"clickTarget\", \"itemContainer\");\n\n\t\t\tconst item = dataItem.dataContext as ILegendItem;\n\n\t\t\tif (item && item.set) {\n\t\t\t\titem.set(<any>\"legendDataItem\", dataItem);\n\t\t\t}\n\n\t\t\titemContainer._setDataItem(dataItem);\n\t\t\tdataItem.set(\"itemContainer\", itemContainer);\n\n\t\t\tconst marker = this.makeMarker();\n\t\t\tif (marker) {\n\t\t\t\titemContainer.children.push(marker);\n\t\t\t\tmarker._setDataItem(dataItem);\n\t\t\t\tdataItem.set(\"marker\", marker);\n\n\t\t\t\tconst useDefaultMarker = this.get(\"useDefaultMarker\");\n\n\t\t\t\tconst markerRectangle = marker.children.push(this.makeMarkerRectangle());\n\n\t\t\t\tlet fill = dataItem.get(\"fill\");\n\t\t\t\tlet stroke = dataItem.get(\"stroke\");\n\n\t\t\t\tdataItem.set(\"markerRectangle\", markerRectangle);\n\n\t\t\t\tif (item && item.get) {\n\t\t\t\t\tfill = item.get(fillField as any, fill);\n\t\t\t\t\tstroke = item.get(strokeField as any, stroke);\n\t\t\t\t}\n\n\t\t\t\tif (!stroke) {\n\t\t\t\t\tstroke = fill;\n\t\t\t\t}\n\n\t\t\t\tif (!useDefaultMarker) {\n\t\t\t\t\tif (item && item.createLegendMarker) {\n\t\t\t\t\t\titem.createLegendMarker();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (item.on) {\n\t\t\t\t\t\titem.on(fillField as any, () => {\n\t\t\t\t\t\t\tmarkerRectangle.set(\"fill\", item.get(fillField as any));\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\titem.on(strokeField as any, () => {\n\t\t\t\t\t\t\tmarkerRectangle.set(\"stroke\", item.get(strokeField as any));\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmarkerRectangle.setAll({ fill, stroke });\n\n\t\t\t\t// this solves if template field is set on slice\n\t\t\t\tconst component = item.component;\n\t\t\t\tif (component && component.updateLegendMarker) {\n\t\t\t\t\tcomponent.updateLegendMarker(item as any);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst label = this.makeLabel();\n\n\t\t\tif (label) {\n\t\t\t\titemContainer.children.push(label);\n\t\t\t\tlabel._setDataItem(dataItem);\n\t\t\t\tdataItem.set(\"label\", label);\n\n\t\t\t\tlabel.text.on(\"text\", () => {\n\t\t\t\t\titemContainer.set(\"ariaLabel\", label.text._getText() + \"; \" + this._t(\"Press ENTER to toggle\"));\n\t\t\t\t});\n\n\t\t\t\tif (item && item.get) {\n\t\t\t\t\tdataItem.set(\"name\", item.get(nameField as any) as string);\n\t\t\t\t}\n\n\t\t\t\tlet name = dataItem.get(\"name\");\n\n\t\t\t\tif (name) {\n\t\t\t\t\tlabel.set(\"text\", name);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst valueLabel = this.makeValueLabel();\n\t\t\tif (valueLabel) {\n\t\t\t\titemContainer.children.push(valueLabel);\n\t\t\t\tvalueLabel._setDataItem(dataItem);\n\t\t\t\tdataItem.set(\"valueLabel\", valueLabel);\n\t\t\t}\n\n\t\t\tif (item && item.show) {\n\n\t\t\t\tthis._disposers.push(item.on(\"visible\", (visible) => {\n\t\t\t\t\titemContainer.set(\"disabled\", !visible)\n\t\t\t\t}));\n\n\t\t\t\tif (!item.get(\"visible\")) {\n\t\t\t\t\titemContainer.set(\"disabled\", true);\n\t\t\t\t}\n\n\t\t\t\tif (clickTarget != \"none\") {\n\t\t\t\t\tvar clickContainer = itemContainer;\n\t\t\t\t\tif (clickTarget == \"marker\") {\n\t\t\t\t\t\tclickContainer = marker;\n\t\t\t\t\t}\n\t\t\t\t\tthis._addClickEvents(clickContainer, item, dataItem)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Sort children\n\t\t\tthis.children.values.sort((a, b) => {\n\t\t\t\tvar targetA = a.dataItem!.dataContext;\n\t\t\t\tvar targetB = b.dataItem!.dataContext;\n\t\t\t\tif (targetA && targetB) {\n\t\t\t\t\tvar indexA = this.data.indexOf(targetA);\n\t\t\t\t\tvar indexB = this.data.indexOf(targetB);\n\t\t\t\t\tif (indexA > indexB) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\telse if (indexA < indexB) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t}\n\n\t}\n\n\n\tprotected _addClickEvents(container: Container, item: ILegendItem, dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tcontainer.set(\"cursorOverStyle\", \"pointer\");\n\t\tcontainer.events.on(\"pointerover\", () => {\n\t\t\tconst component = item.component;\n\t\t\tif (component && component.hoverDataItem) {\n\t\t\t\tcomponent.hoverDataItem(item as any)\n\t\t\t}\n\t\t})\n\n\t\tcontainer.events.on(\"pointerout\", () => {\n\t\t\tconst component = item.component;\n\t\t\tif (component && component.hoverDataItem) {\n\t\t\t\tcomponent.unhoverDataItem(item as any)\n\t\t\t}\n\t\t})\n\n\t\tcontainer.events.on(\"click\", () => {\n\t\t\tconst labelText = dataItem.get(\"label\").text._getText();\n\n\t\t\tif (item.show && item.isHidden && (item.isHidden() || item.get(\"visible\") === false)) {\n\t\t\t\titem.show();\n\t\t\t\tcontainer.set(\"disabled\", false);\n\t\t\t\tthis._root.readerAlert(this._t(\"%1 shown\", this._root.locale, labelText));\n\t\t\t}\n\t\t\telse if (item.hide) {\n\t\t\t\titem.hide();\n\t\t\t\tcontainer.set(\"disabled\", true);\n\t\t\t\tthis._root.readerAlert(this._t(\"%1 hidden\", this._root.locale, labelText));\n\t\t\t}\n\t\t})\n\t}\n\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t\tsuper.disposeDataItem(dataItem);\n\n\t\tconst dataContext = dataItem.dataContext as any;\n\t\tif (dataContext && dataContext.get) {\n\t\t\tconst di = dataContext.get(\"legendDataItem\");\n\t\t\tif (di == dataItem) {\n\t\t\t\tdataContext.set(\"legendDataItem\", undefined);\n\t\t\t}\n\t\t}\n\n\n\t\tlet itemContainer = dataItem.get(\"itemContainer\");\n\t\tif (itemContainer) {\n\t\t\tthis.itemContainers.removeValue(itemContainer);\n\t\t\titemContainer.dispose();\n\t\t}\n\n\t\tlet marker = dataItem.get(\"marker\");\n\t\tif (marker) {\n\t\t\tthis.markers.removeValue(marker);\n\t\t\tmarker.dispose();\n\t\t}\n\n\t\tlet markerRectangle = dataItem.get(\"markerRectangle\");\n\t\tif (markerRectangle) {\n\t\t\tthis.markerRectangles.removeValue(markerRectangle);\n\t\t\tmarkerRectangle.dispose();\n\t\t}\n\n\t\tlet label = dataItem.get(\"label\");\n\t\tif (label) {\n\t\t\tthis.labels.removeValue(label);\n\t\t\tlabel.dispose();\n\t\t}\n\n\t\tlet valueLabel = dataItem.get(\"valueLabel\");\n\t\tif (valueLabel) {\n\t\t\tthis.valueLabels.removeValue(valueLabel);\n\t\t\tvalueLabel.dispose();\n\t\t}\n\n\t}\n}\n","/** @ignore *//** */\n\nimport type { IPoint } from \"./IPoint\"\nimport * as $math from \"./Math\";\nimport type { IGraphics } from \"../render/backend/Renderer\";\n\n/**\n * @ignore\n */\nexport function segmentedLine(display: IGraphics, segments: Array<Array<Array<IPoint>>>) {\n\tfor (let s = 0, len = segments.length; s < len; s++) {\n\t\tconst groups = segments[s];\n\t\tif (groups.length > 0) {\n\t\t\tlet firstGroup = groups[0];\n\t\t\tif (firstGroup.length > 0) {\n\t\t\t\tlet firstPoint = firstGroup[0];\n\t\t\t\tdisplay.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\tfor (let g = 0, len = groups.length; g < len; g++) {\n\t\t\t\t\tline(display, groups[g]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function line(display: IGraphics, points: Array<IPoint>) {\n\tfor (let p = 0, len = points.length; p < len; p++) {\n\t\tconst point = points[p];\n\t\tdisplay.lineTo(point.x, point.y);\n\t}\n}\n\n/**\n * @ignore\n */\nexport function moveTo(display: IGraphics, point: IPoint) {\n\tdisplay.moveTo(point.x, point.y);\n}\n\n/**\n * @ignore\n */\nexport function clear(display: IGraphics) {\n\tdisplay.clear();\n}\n\n/**\n * @ignore\n */\nexport function smoothedSegmentedline(display: IGraphics, segments: Array<Array<Array<IPoint>>>, tensionX: number, tensionY: number) {\n\tfor (let s = 0, len = segments.length; s < len; s++) {\n\t\tconst groups = segments[s];\n\t\tif (groups.length > 0) {\n\t\t\tlet firstGroup = groups[0];\n\t\t\tif (firstGroup.length > 0) {\n\t\t\t\tlet firstPoint = firstGroup[0];\n\t\t\t\tdisplay.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\tfor (let g = 0, len = groups.length; g < len; g++) {\n\t\t\t\t\tconst points = groups[g];\n\t\t\t\t\tif (points.length > 0) {\n\t\t\t\t\t\tdisplay.lineTo(points[0].x, points[0].y)\n\t\t\t\t\t}\n\t\t\t\t\tsmoothedLine(display, points, tensionX, tensionY);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function smoothedLine(display: IGraphics, points: Array<IPoint>, tensionX: number, tensionY: number) {\n\n\tfor (let i = points.length - 1; i > 0; i--) {\n\t\tlet p0 = points[i];\n\t\tlet p1 = points[i - 1];\n\n\t\tif (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\n\t\t\tpoints.splice(i - 1, 1);\n\t\t}\n\t}\n\n\tif (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\n\t\tline(display, points);\n\t\treturn;\n\t}\n\n\ttensionX = 1 - tensionX + 0.00001;\n\ttensionY = 1 - tensionY + 0.00001;\n\n\tlet first = points[0];\n\tlet last = points[points.length - 1];\n\n\tlet closed: boolean = false;\n\n\tif ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\n\t\tclosed = true;\n\t}\n\n\t// Can't moveTo here, as it wont be possible to have fill then.\n\tlet path: string = \"\";\n\n\tfor (let i = 0, len = points.length - 1; i < len; i++) {\n\t\tlet p0: IPoint = points[i - 1];\n\n\t\tlet p1: IPoint = points[i];\n\n\t\tlet p2: IPoint = points[i + 1];\n\n\t\tlet p3: IPoint = points[i + 2];\n\n\t\tif (i === 0) {\n\t\t\tif (closed) {\n\t\t\t\tp0 = points[len - 2];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp0 = points[0];\n\t\t\t}\n\t\t} else if (i == len - 1) {\n\t\t\tif (closed) {\n\t\t\t\tp3 = points[1];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp3 = p2;\n\t\t\t}\n\t\t}\n\n\n\t\tlet controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\n\t\tlet controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\n\n\t\tdisplay.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\n\t}\n\n\treturn path;\n}\n","import { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"./Graphics\";\nimport type { IPoint } from \"../util/IPoint\";\nimport * as $draw from \"../util/Draw\";\n\nexport interface ILineSettings extends IGraphicsSettings {\n\n\t/**\n\t * A list of [[IPoint]] (x/y coordinates) points for the line.\n\t */\n\tpoints?: Array<IPoint>;\n\n\t/**\n\t * A list of [[IPoint]] arrays for different segments of the line.\n\t * \n\t * @since 5.1.4\n\t */\n\tsegments?: Array<Array<Array<IPoint>>>;\n}\n\nexport interface ILinePrivate extends IGraphicsPrivate {\n}\n\n/**\n * Draws a line.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class Line extends Graphics {\n\n\tdeclare public _settings: ILineSettings;\n\tdeclare public _privateSettings: ILinePrivate;\n\n\tpublic static className: string = \"Line\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([Line.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this._clear) {\n\n\t\t\tconst points = this.get(\"points\");\n\t\t\tconst segments = this.get(\"segments\");\n\n\t\t\tif (points && points.length > 0) {\n\t\t\t\tlet point = points[0];\n\n\t\t\t\tthis._display.moveTo(point.x, point.y);\n\t\t\t\t$draw.segmentedLine(this._display, [[points]]);\n\t\t\t}\n\t\t\telse if (segments) {\n\t\t\t\t$draw.segmentedLine(this._display, segments);\n\t\t\t}\n\t\t\telse if (!this.get(\"draw\")) {\n\t\t\t\tlet w = this.width();\n\t\t\t\tlet h = this.height();\n\n\t\t\t\tthis._display.moveTo(0, 0);\n\t\t\t\tthis._display.lineTo(w, h);\n\t\t\t}\n\t\t}\n\t}\n}\n","/**\n * @ignore\n */\nexport class MonotoneXTension {\n\n  constructor(context: CanvasRenderingContext2D, tension: number) {\n    this._context = context;\n    this._tension = tension;\n  }\n\n  public _line = 0;\n  public _point = 0;\n  public _context: any;\n  public _x0 = 0;\n  public _x1 = 0;\n  public _y0 = 0;\n  public _y1 = 0;\n  public _t0 = 0;\n\n  public _tension: number = 0;\n\n  public areaStart() {\n    this._line = 0;\n  }\n\n  public areaEnd() {\n    this._line = NaN;\n  }\n\n  public lineStart() {\n    this._x0 = this._x1 =\n      this._y0 = this._y1 =\n      this._t0 = NaN;\n    this._point = 0;\n  }\n\n  public lineEnd() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n\n  public point(x: number, y: number) {\n    let t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\n/**\n * @ignore\n */\nexport function curveMonotoneXTension(tension: number) {\n\n  function monotoneXTension(context: any) {\n    return new MonotoneXTension(context, tension);\n  }\n\n  return monotoneXTension;\n}\n\n/**\n * @ignore\n */\nfunction sign(x: number) {\n  return x < 0 ? -1 : 1;\n}\n\n/**\n * @ignore\n */\nfunction slope3(that: MonotoneXTension, x2: number, y2: number) {\n  let h0 = (that._x1 - that._x0) as any;\n  let h1 = (x2 - that._x1) as any;\n  let s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0);\n  let s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0);\n  let p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n/**\n * @ignore\n */\nfunction slope2(that: MonotoneXTension, t: number) {\n  let h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n/**\n * @ignore\n */\nfunction point(that: MonotoneXTension, t0: number, t1: number) {\n  let x0 = that._x0,\n    y0 = that._y0,\n    x1 = that._x1,\n    y1 = that._y1,\n    dx = (x1 - x0) / 1.5 * (1 - that._tension);\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}","/**\n * @ignore\n */\nexport class MonotoneYTension {\n\n  constructor(context: any, tension: number) {\n    this._context = context;\n    this._tension = tension;\n  }\n\n  public _line = 0;\n  public _point = 0;\n  public _context: any;\n  public _x0 = 0;\n  public _x1 = 0;\n  public _y0 = 0;\n  public _y1 = 0;\n  public _t0 = 0;\n\n  public _tension: number = 0;\n\n  public areaStart() {\n    this._line = 0;\n  }\n\n  public areaEnd() {\n    this._line = NaN;\n  }\n\n  public lineStart() {\n    this._x0 = this._x1 =\n      this._y0 = this._y1 =\n      this._t0 = NaN;\n    this._point = 0;\n  }\n\n  public lineEnd() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n\n  public point(x: number, y: number) {\n\n    [x, y] = [y, x]\n\n    let t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(y, x) : this._context.moveTo(y, x); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\n/**\n * @ignore\n */\nexport function curveMonotoneYTension(tension: number) {\n\n  function monotoneYTension(context: any) {\n    return new MonotoneYTension(context, tension);\n  }\n\n  monotoneYTension.tension = function(tension: number) {\n    return curveMonotoneYTension(+tension);\n  };\n\n  return monotoneYTension;\n}\n\n\n/**\n * @ignore\n */\nfunction sign(x: number) {\n  return x < 0 ? -1 : 1;\n}\n\n/**\n * @ignore\n */\nfunction slope3(that: MonotoneYTension, x2: number, y2: number) {\n  let h0 = (that._x1 - that._x0) as any;\n  let h1 = (x2 - that._x1) as any;\n  let s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0);\n  let s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0);\n  let p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n/**\n * @ignore\n */\nfunction slope2(that: MonotoneYTension, t: number) {\n  let h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n/**\n * @ignore\n */\nfunction point(that: MonotoneYTension, t0: number, t1: number) {\n  let x0 = that._x0,\n    y0 = that._y0,\n    x1 = that._x1,\n    y1 = that._y1,\n    dx = (x1 - x0) / 1.5 * (1 - that._tension);\n  that._context.bezierCurveTo(y0 + dx * t0, x0 + dx, y1 - dx * t1, x1 - dx, y1, x1);\n}","import type { IPicture } from \"./backend/Renderer\";\nimport type { Color } from \"../util/Color\";\n\nimport { Sprite, ISpriteSettings, ISpritePrivate } from \"./Sprite\";\n\nimport * as $type from \"../util/Type\";\n\nexport interface IPictureSettings extends ISpriteSettings {\n\n\t/**\n\t * A source URI of the image.\n\t *\n\t * Can be relative or absolute URL, or data-uri.\n\t */\n\tsrc?: string;\n\n\t/**\n\t * Color of the element's shadow.\n\t *\n\t * For this to work at least one of the following needs to be set as well:\n\t * `shadowBlur`, `shadowOffsetX`, `shadowOffsetY`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowColor?: Color | null;\n\n\t/**\n\t * Blurriness of the the shadow.\n\t *\n\t * The bigger the number, the more blurry shadow will be.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowBlur?: number;\n\n\t/**\n\t * Horizontal shadow offset in pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOffsetX?: number;\n\n\t/**\n\t * Vertical shadow offset in pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOffsetY?: number;\n\n\t/**\n\t * Opacity of the shadow (0-1).\n\t *\n\t * If not set, will use the same as `fillOpacity` of the element.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/shadows/} for more info\n\t */\n\tshadowOpacity?: number;\n\n}\n\nexport interface IPicturePrivate extends ISpritePrivate {\n}\n\n/**\n * Displays an image.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/images/} for more info\n * @important\n */\nexport class Picture extends Sprite {\n\n\tdeclare public _settings: IPictureSettings;\n\tdeclare public _privateSettings: IPicturePrivate;\n\n\tpublic _display: IPicture = this._root._renderer.makePicture(undefined);\n\n\tpublic static className: string = \"Picture\";\n\tpublic static classNames: Array<string> = Sprite.classNames.concat([Picture.className]);\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this.isDirty(\"width\")) {\n\t\t\tconst width = this.get(\"width\");\n\t\t\tthis._display.width = $type.isNumber(width) ? width : undefined;\n\t\t}\n\n\t\tif (this.isDirty(\"height\")) {\n\t\t\tconst height = this.get(\"height\");\n\t\t\tthis._display.height = $type.isNumber(height) ? height : undefined;\n\t\t}\n\n\t\tif (this.isDirty(\"shadowColor\")) {\n\t\t\tthis._display.clear();\n\t\t\tconst shadowColor = this.get(\"shadowColor\");\n\t\t\tthis._display.shadowColor = shadowColor == null ? undefined : shadowColor;\n\t\t}\n\n\t\tif (this.isDirty(\"shadowBlur\")) {\n\t\t\tthis._display.clear();\n\t\t\tthis._display.shadowBlur = this.get(\"shadowBlur\");\n\t\t}\n\n\t\tif (this.isDirty(\"shadowOffsetX\")) {\n\t\t\tthis._display.clear();\n\t\t\tthis._display.shadowOffsetX = this.get(\"shadowOffsetX\");\n\t\t}\n\n\t\tif (this.isDirty(\"shadowOffsetY\")) {\n\t\t\tthis._display.clear();\n\t\t\tthis._display.shadowOffsetY = this.get(\"shadowOffsetY\");\n\t\t}\n\n\t\tif (this.isDirty(\"shadowOpacity\")) {\n\t\t\tthis._display.clear();\n\t\t\tthis._display.shadowOpacity = this.get(\"shadowOpacity\");\n\t\t}\n\n\t\tif (this.isDirty(\"src\")) {\n\t\t\tthis._display.clear();\n\t\t\tthis._load();\n\t\t}\n\t}\n\n\tprotected _load() {\n\t\tconst src = this.get(\"src\");\n\t\tif (src) {\n\t\t\tconst image = new Image();\n\t\t\t//image.crossOrigin = \"Anonymous\";\n\t\t\timage.src = src!;\n\t\t\timage.decode().then(() => {\n\t\t\t\tthis._display.image = image;\n\t\t\t\tthis._updateSize();\n\t\t\t}).catch((_error: any) => {\n\t\t\t\t// TODO: maybe raise error?\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic _updateSize() {\n\t\tsuper._updateSize();\n\n\t\tconst image = this._display.image;\n\t\tif (image) {\n\t\t\tlet w = this.getPrivate(\"width\", this.get(\"width\"));\n\t\t\tlet h = this.getPrivate(\"height\", this.get(\"height\"));\n\t\t\tconst r = image.width && image.height ? image.width / image.height : 0;\n\n\t\t\tif ($type.isNumber(w) && $type.isNumber(h)) {\n\t\t\t\tthis._display.width = w;\n\t\t\t\tthis._display.height = h;\n\t\t\t}\n\t\t\telse if ($type.isNumber(w) && r) {\n\t\t\t\th = w / r;\n\t\t\t}\n\t\t\telse if ($type.isNumber(h) && r) {\n\t\t\t\tw = h * r;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tw = image.width;\n\t\t\t\th = image.height;\n\t\t\t}\n\n\t\t\tif ($type.isNumber(w)) {\n\t\t\t\tthis._display.width = w;\n\t\t\t}\n\t\t\tif ($type.isNumber(h)) {\n\t\t\t\tthis._display.height = h;\n\t\t\t}\n\t\t\tthis.markDirtyBounds();\n\t\t\tthis.markDirty();\n\t\t}\n\t}\n}\n","import { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"./Graphics\";\nimport * as $math from \"../util/Math\";\n\nexport interface IPointedRectangleSettings extends IGraphicsSettings {\n\n\t/**\n\t * A width of the pinter's (stem's) thick end (base) in pixels.\n\t */\n\tpointerBaseWidth?: number;\n\n\t/**\n\t * A length of the pinter (stem) in pixels.\n\t */\n\tpointerLength?: number;\n\n\t/**\n\t * X coordinate the shape is pointing to.\n\t */\n\tpointerX?: number;\n\n\t/**\n\t * Y coordinate the shape is pointing to.\n\t */\n\tpointerY?: number;\n\n\t/**\n\t * Corner radius in pixels.\n\t */\n\tcornerRadius?: number;\n}\n\nexport interface IPointedRectanglePrivate extends IGraphicsPrivate {\n}\n\n/**\n * Draws a rectangle with a pointer.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class PointedRectangle extends Graphics {\n\n\tdeclare public _settings: IPointedRectangleSettings;\n\tdeclare public _privateSettings: IPointedRectanglePrivate;\n\n\tpublic static className: string = \"PointedRectangle\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([PointedRectangle.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"pointerBaseWidth\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"pointerLength\") || this.isDirty(\"pointerX\") || this.isDirty(\"pointerY\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this._clear) {\n\n\t\t\tthis.markDirtyBounds();\n\n\t\t\tlet w = this.width();\n\t\t\tlet h = this.height();\n\n\t\t\tif (w > 0 && h > 0) {\n\t\t\t\tlet cr = this.get(\"cornerRadius\", 8);\n\t\t\t\tcr = $math.fitToRange(cr, 0, Math.min(w / 2, h / 2));\n\n\t\t\t\tlet x = this.get(\"pointerX\", 0);\n\t\t\t\tlet y = this.get(\"pointerY\", 0);\n\t\t\t\tlet bwh = this.get(\"pointerBaseWidth\", 15) / 2;\n\n\t\t\t\t// corner coordinates\n\t\t\t\t// top left\n\t\t\t\tlet xtl = 0;\n\t\t\t\tlet ytl = 0;\n\t\t\t\t// top right\n\t\t\t\tlet xtr = w;\n\t\t\t\tlet ytr = 0;\n\t\t\t\t// bottom right\n\t\t\t\tlet xbr = w;\n\t\t\t\tlet ybr = h;\n\t\t\t\t// bottom left\n\t\t\t\tlet xbl = 0;\n\t\t\t\tlet ybl = h;\n\n\t\t\t\t// find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\n\t\t\t\t// d=(xx1)(y2y1)(yy1)(x2x1)\n\t\t\t\tlet d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\n\t\t\t\tlet d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\n\n\t\t\t\tconst display = this._display;\n\t\t\t\t// top\n\t\t\t\tdisplay.moveTo(cr, 0);\n\n\t\t\t\tif (d1 > 0 && d2 > 0) {\n\t\t\t\t\tlet stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\n\t\t\t\t\ty = $math.fitToRange(y, -Infinity, 0);\n\n\t\t\t\t\tdisplay.lineTo(stemX - bwh, 0);\n\t\t\t\t\tdisplay.lineTo(x, y);\n\t\t\t\t\tdisplay.lineTo(stemX + bwh, 0);\n\t\t\t\t}\n\n\t\t\t\tdisplay.lineTo(w - cr, 0);\n\t\t\t\tdisplay.arcTo(w, 0, w, cr, cr);\n\n\t\t\t\t// right\n\t\t\t\tif (d1 > 0 && d2 < 0) {\n\t\t\t\t\tlet stemY = Math.round($math.fitToRange(y, cr + bwh, h - bwh - cr));\n\t\t\t\t\tx = $math.fitToRange(x, w, Infinity);\n\t\t\t\t\tdisplay.lineTo(w, cr);\n\t\t\t\t\tdisplay.lineTo(w, Math.max(stemY - bwh, cr));\n\t\t\t\t\tdisplay.lineTo(x, y);\n\t\t\t\t\tdisplay.lineTo(w, stemY + bwh);\n\t\t\t\t}\n\t\t\t\tdisplay.lineTo(w, h - cr);\n\t\t\t\tdisplay.arcTo(w, h, w - cr, h, cr);\n\n\t\t\t\t// bottom\n\t\t\t\tif (d1 < 0 && d2 < 0) {\n\t\t\t\t\tlet stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\n\t\t\t\t\ty = $math.fitToRange(y, h, Infinity);\n\n\t\t\t\t\tdisplay.lineTo(w - cr, h);\n\t\t\t\t\tdisplay.lineTo(stemX + bwh, h);\n\t\t\t\t\tdisplay.lineTo(x, y);\n\t\t\t\t\tdisplay.lineTo(stemX - bwh, h);\n\t\t\t\t}\n\t\t\t\tdisplay.lineTo(cr, h)\n\t\t\t\tdisplay.arcTo(0, h, 0, h - cr, cr);\n\n\n\t\t\t\t// left\n\t\t\t\tif (d1 < 0 && d2 > 0) {\n\t\t\t\t\tlet stemY = Math.round($math.fitToRange(y, cr + bwh, h - cr - bwh));\n\t\t\t\t\tx = $math.fitToRange(x, -Infinity, 0);\n\t\t\t\t\tdisplay.lineTo(0, h - cr);\n\t\t\t\t\tdisplay.lineTo(0, stemY + bwh);\n\t\t\t\t\tdisplay.lineTo(x, y);\n\t\t\t\t\tdisplay.lineTo(0, Math.max(stemY - bwh, cr));\n\t\t\t\t}\n\t\t\t\tdisplay.lineTo(0, cr);\n\t\t\t\tdisplay.arcTo(0, 0, cr, 0, cr);\n\t\t\t\tdisplay.closePath();\n\t\t\t}\n\t\t}\n\t}\n}\n","// import * as $object from \"../util/Object\";\nimport { p50, Percent } from \"../util/Percent\";\nimport { Label, ILabelPrivate, ILabelSettings } from \"./Label\";\nimport { RadialText } from \"./RadialText\";\n\nimport * as $math from \"../util/Math\";\nimport * as $utils from \"../util/Utils\";\n\n\nexport interface IRadialLabelSettings extends ILabelSettings {\n\n\t/**\n\t * Pixel value to adjust radius with.\n\t *\n\t * Will add to (or subtract from if negative) whatever value `baseRadius` evaluates\n\t * to.\n\t */\n\tradius?: number;\n\n\t/**\n\t * Radius of the label's position.\n\t *\n\t * Can be either set in absolute pixel value, or percent.\n\t *\n\t * Relative value, depending on the situation, will most often mean its\n\t * position within certain circular object, like a slice: 0% meaning inner\n\t * edge, and 100% - the outer edge.\n\t *\n\t * @default 100%\n\t */\n\tbaseRadius?: number | Percent;\n\n\t/**\n\t * Label anngle in degrees.\n\t *\n\t * In most cases it will be set by the chart/series and does not need to\n\t * be set manually.\n\t */\n\tlabelAngle?: number;\n\n\t/**\n\t * Should the text \"face\" inward or outward from the arc the text is\n\t * following.\n\t *\n\t * `\"auto\"` means that facing will be chosen automatically based on the angle\n\t * to enhance readbility.\n\t *\n\t * Only applies if `type = \"circluar\"`.\n\t * \n\t * @default \"auto\"\n\t */\n\torientation?: \"inward\" | \"outward\" | \"auto\";\n\n\t/**\n\t * Should label be drawn inside (`true`) or outside (`false`) the arc.\n\t *\n\t * @default false\n\t */\n\tinside?: boolean;\n\n\t/**\n\t * Label type.\n\t *\n\t * * `\"regular\"` (default) - normal horizontal label.\n\t * * `\"circular\"` - arched label.\n\t * * `\"radial\"` - label radiating from the center of the arc.\n\t * * `\"aligned\"` - horizontal label aligned with other labels horizontally.\n\t * * `\"adjusted\"` - horizontal label adjusted in postion.\n\t *\n\t * @default \"regular\"\n\t */\n\ttextType?: \"regular\" | \"circular\" | \"radial\" | \"aligned\" | \"adjusted\";\n\n\t/**\n\t * Extra spacing between characters, in pixels.\n\t *\n\t * @default 0\n\t */\n\tkerning?: number;\n\n}\n\nexport interface IRadialLabelPrivate extends ILabelPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tleft?: boolean;\n\n\t/**\n\t * @ignore\n\t */\n\tradius?: number;\n\n\t/**\n\t * @ignore\n\t */\n\tinnerRadius?: number;\n\n}\n\nexport class RadialLabel extends Label {\n\n\tdeclare public _settings: IRadialLabelSettings;\n\tdeclare public _privateSettings: IRadialLabelPrivate;\n\n\tdeclare protected _text: RadialText;\n\n\tpublic static className: string = \"RadialLabel\";\n\tpublic static classNames: Array<string> = Label.classNames.concat([RadialLabel.className]);\n\n\tprotected _flipped: boolean = false;\n\n\tprotected _afterNew() {\n\t\tthis._textKeys.push(\"textType\", \"kerning\");\n\t\tsuper._afterNew();\n\t}\n\n\n\tpublic _makeText() {\n\t\tthis._text = this.children.push(RadialText.new(this._root, {}));\n\t}\n\n\t/**\n\t * Returns base radius in pixels.\n\t * \n\t * @return Base radius\n\t */\n\tpublic baseRadius(): number {\n\t\tconst radiusPrivate = this.getPrivate(\"radius\", 0);\n\t\tconst innerRadiusPrivate = this.getPrivate(\"innerRadius\", 0);\n\t\tconst baseRadius = this.get(\"baseRadius\", 0);\n\t\treturn innerRadiusPrivate + $utils.relativeToValue(baseRadius, radiusPrivate - innerRadiusPrivate);\n\t}\n\n\t/**\n\t * Returns radius adjustment in pixels.\n\t * \n\t * @return Radius\n\t */\n\tpublic radius(): number {\n\t\tconst inside = this.get(\"inside\", false);\n\t\treturn this.baseRadius() + this.get(\"radius\", 0) * (inside ? -1 : 1);\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\tif (this.isDirty(\"baseRadius\") || this.isPrivateDirty(\"radius\") || this.isPrivateDirty(\"innerRadius\") || this.isDirty(\"labelAngle\") || this.isDirty(\"radius\") || this.isDirty(\"inside\") || this.isDirty(\"orientation\") || this.isDirty(\"textType\")) {\n\n\t\t\tconst textType = this.get(\"textType\", \"adjusted\");\n\n\t\t\tconst inside = this.get(\"inside\", false);\n\n\t\t\tconst orientation = this.get(\"orientation\");\n\t\t\tlet labelAngle = $math.normalizeAngle(this.get(\"labelAngle\", 0));\n\n\t\t\tthis._text.set(\"startAngle\", this.get(\"labelAngle\", 0));\n\t\t\tthis._text.set(\"inside\", inside);\n\n\t\t\tconst sin = $math.sin(labelAngle);\n\t\t\tconst cos = $math.cos(labelAngle);\n\n\t\t\tlet baseRadius = this.baseRadius();\n\t\t\tlet radius = this.radius();\n\n\t\t\tthis._display.angle = 0;\n\n\t\t\tif (textType == \"circular\") {\n\n\t\t\t\tthis.setAll({\n\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\tpaddingLeft: 0,\n\t\t\t\t\tpaddingRight: 0\n\t\t\t\t});\n\n\t\t\t\t// Circular labels are handled and positioned differently\n\n\t\t\t\tthis._text.set(\"orientation\", orientation);\n\t\t\t\tthis._text.set(\"radius\", radius);\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (baseRadius == 0) {\n\t\t\t\t\tlabelAngle = 0;\n\t\t\t\t\tradius = 0;\n\t\t\t\t}\n\n\t\t\t\t// Positioning of radial/regular labels are teh same\n\t\t\t\tlet x = radius * cos;\n\t\t\t\tlet y = radius * sin;\n\n\t\t\t\tif (textType == \"radial\") {\n\n\t\t\t\t\tthis.setRaw(\"x\", x);\n\t\t\t\t\tthis.setRaw(\"y\", y);\n\n\t\t\t\t\tif ((labelAngle < 90) || (labelAngle > 270) || orientation != \"auto\") {\n\t\t\t\t\t\tthis._display.angle = labelAngle;// + 90;\n\t\t\t\t\t\tthis._flipped = false;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis._display.angle = labelAngle + 180;\n\t\t\t\t\t\tthis._flipped = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis._dirty.rotation = false;\n\t\t\t\t}\n\t\t\t\telse if (textType == \"adjusted\") {\n\t\t\t\t\tthis.setRaw(\"centerX\", p50);\n\t\t\t\t\tthis.setRaw(\"centerY\", p50);\n\t\t\t\t\tthis.setRaw(\"x\", x);\n\t\t\t\t\tthis.setRaw(\"y\", y);\n\t\t\t\t}\n\t\t\t\telse if (textType == \"regular\") {\n\t\t\t\t\tthis.setRaw(\"x\", x);\n\t\t\t\t\tthis.setRaw(\"y\", y);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.markDirtyPosition();\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\t}\n\n\n\tpublic _updatePosition() {\n\n\t\tconst textType = this.get(\"textType\", \"regular\");\n\t\tconst inside = this.get(\"inside\", false);\n\n\t\tlet dx = 0;\n\t\tlet dy = 0;\n\t\tlet labelAngle = this.get(\"labelAngle\", 0);\n\t\tlet bounds = this.localBounds();\n\t\tlet w = bounds.right - bounds.left;\n\t\tlet h = bounds.bottom - bounds.top;\n\n\t\tif (textType == \"radial\") {\n\t\t\tif (this._flipped) {\n\t\t\t\tlet centerX = this.get(\"centerX\");\n\t\t\t\tif (centerX instanceof Percent) {\n\t\t\t\t\tw = w * (1 - centerX.value * 2);\n\t\t\t\t}\n\n\t\t\t\tdx = w * $math.cos(labelAngle);\n\t\t\t\tdy = w * $math.sin(labelAngle);\n\t\t\t}\n\t\t}\n\t\telse if (!inside && textType == \"adjusted\") {\n\t\t\tdx = w / 2 * $math.cos(labelAngle);\n\t\t\tdy = h / 2 * $math.sin(labelAngle);\n\t\t}\n\n\n\t\tthis.setRaw(\"dx\", dx);\n\t\tthis.setRaw(\"dy\", dy);\n\n\t\tsuper._updatePosition();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic get text(): RadialText {\n\t\treturn this._text;\n\t}\n\n}\n","import { Text, ITextSettings, ITextPrivate } from \"./Text\";\nimport * as $math from \"../util/Math\";\nimport type { IRadialText } from \"./backend/Renderer\";\n\n/**\n * @ignore\n */\nexport interface IRadialTextSettings extends ITextSettings {\n\ttextType?: \"regular\" | \"circular\" | \"radial\" | \"aligned\" | \"adjusted\";\n\tradius?: number;\n\tstartAngle?: number;\n\tinside?: boolean;\n\torientation?: \"inward\" | \"outward\" | \"auto\";\n\tkerning?: number;\n}\n\n/**\n * @ignore\n */\nexport interface IRadialTextPrivate extends ITextPrivate {\n}\n\n/**\n * @ignore\n */\nexport class RadialText extends Text {\n\n\tdeclare public _settings: IRadialTextSettings;\n\tdeclare public _privateSettings: IRadialTextPrivate;\n\n\tpublic _display: IRadialText = this._root._renderer.makeRadialText(\"\", this.textStyle);\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\t}\n\n\tpublic static className: string = \"RadialText\";\n\tpublic static classNames: Array<string> = Text.classNames.concat([RadialText.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tthis._display.clear();\n\n\t\tif (this.isDirty(\"textType\")) {\n\t\t\tthis._display.textType = this.get(\"textType\");\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\n\t\tif (this.isDirty(\"radius\")) {\n\t\t\tthis._display.radius = this.get(\"radius\");\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\n\t\tif (this.isDirty(\"startAngle\")) {\n\t\t\tthis._display.startAngle = (this.get(\"startAngle\", 0)! + 90) * $math.RADIANS;\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\n\t\tif (this.isDirty(\"inside\")) {\n\t\t\tthis._display.inside = this.get(\"inside\");\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\n\t\tif (this.isDirty(\"orientation\")) {\n\t\t\tthis._display.orientation = this.get(\"orientation\");\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\n\t\tif (this.isDirty(\"kerning\")) {\n\t\t\tthis._display.kerning = this.get(\"kerning\");\n\t\t\tthis.markDirtyBounds();\n\t\t}\n\t}\n\n}\n","import { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"./Graphics\";\n\nexport interface IRectangleSettings extends IGraphicsSettings {\n}\n\nexport interface IRectanglePrivate extends IGraphicsPrivate {\n}\n\n/**\n * Draws a rectangle.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class Rectangle extends Graphics {\n\n\tdeclare public _settings: IRectangleSettings;\n\tdeclare public _privateSettings: IRectanglePrivate;\n\n\tpublic static className: string = \"Rectangle\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([Rectangle.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"width\") || this.isDirty(\"height\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this._clear && !this.get(\"draw\")) {\n\t\t\tthis._draw();\n\t\t}\n\t}\n\n\tprotected _draw() {\n\t\tthis._display.drawRect(0, 0, this.width(), this.height());\n\t}\n\n\tpublic _updateSize() {\n\t\tthis.markDirty()\n\t\tthis._clear = true;\n\t}\n}\n","import * as $type from \"../util/Type\";\nimport * as $math from \"../util/Math\";\nimport * as $utils from \"../util/Utils\";\nimport { Rectangle, IRectangleSettings, IRectanglePrivate } from \"./Rectangle\";\n\n\nexport interface IRoundedRectangleSettings extends IRectangleSettings {\n\n\t/**\n\t * Radius of the top-left corner in pixels.\n\t */\n\tcornerRadiusTL?: number;\n\n\t/**\n\t * Radius of the top-right corner in pixels.\n\t */\n\tcornerRadiusTR?: number;\n\n\t/**\n\t * Radius of the botttom-right corner in pixels.\n\t */\n\tcornerRadiusBR?: number;\n\n\t/**\n\t * Radius of the bottom-left corner in pixels.\n\t */\n\tcornerRadiusBL?: number;\n\n}\n\nexport interface IRoundedRectanglePrivate extends IRectanglePrivate {\n}\n\n/**\n * Draws a rectangle with rounded corners.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class RoundedRectangle extends Rectangle {\n\n\tdeclare public _settings: IRoundedRectangleSettings;\n\tdeclare public _privateSettings: IRoundedRectanglePrivate;\n\n\tpublic static className: string = \"RoundedRectangle\";\n\tpublic static classNames: Array<string> = Rectangle.classNames.concat([RoundedRectangle.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _draw() {\n\t\tlet width = this.width();\n\t\tlet height = this.height();\n\n\t\tlet w = width;\n\t\tlet h = height;\n\n\t\tlet wSign = w / Math.abs(width);\n\t\tlet hSign = h / Math.abs(height);\n\n\t\tif ($type.isNumber(w) && $type.isNumber(h)) {\n\n\t\t\tlet minSide = Math.min(w, h) / 2;\n\n\t\t\tlet crtl = $utils.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\n\t\t\tlet crtr = $utils.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\n\t\t\tlet crbr = $utils.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\n\t\t\tlet crbl = $utils.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\n\n\t\t\tlet maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\n\n\t\t\tcrtl = $math.fitToRange(crtl, 0, maxcr);\n\t\t\tcrtr = $math.fitToRange(crtr, 0, maxcr);\n\t\t\tcrbr = $math.fitToRange(crbr, 0, maxcr);\n\t\t\tcrbl = $math.fitToRange(crbl, 0, maxcr);\n\n\t\t\tconst display = this._display;\n\t\t\tdisplay.moveTo(crtl * wSign, 0);\n\t\t\tdisplay.lineTo(w - crtr * wSign, 0);\n\t\t\tif (crtr > 0) {\n\t\t\t\tdisplay.arcTo(w, 0, w, crtr * hSign, crtr);\n\t\t\t}\n\t\t\tdisplay.lineTo(w, h - crbr * hSign);\n\t\t\tif (crbr > 0) {\n\t\t\t\tdisplay.arcTo(w, h, w - crbr * wSign, h, crbr);\n\t\t\t}\n\t\t\tdisplay.lineTo(crbl * wSign, h);\n\t\t\tif (crbl > 0) {\n\t\t\t\tdisplay.arcTo(0, h, 0, h - crbl * hSign, crbl);\n\t\t\t}\n\t\t\tdisplay.lineTo(0, crtl * hSign);\n\t\t\tif (crtl > 0) {\n\t\t\t\tdisplay.arcTo(0, 0, crtl * wSign, 0, crtl);\n\t\t\t}\n\t\t\tdisplay.closePath();\n\t\t}\n\t}\n}\n","import type { Animation } from \"../util/Entity\";\nimport type { Time } from \"../util/Animation\";\n\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\nimport { Container, IContainerPrivate, IContainerSettings, IContainerEvents } from \"./Container\";\nimport { Graphics } from \"./Graphics\";\nimport { Button } from \"./Button\";\n\nimport * as $type from \"../util/Type\";\nimport * as $utils from \"../util/Utils\";\n\nexport interface IScrollbarSettings extends IContainerSettings {\n\n\t/**\n\t * Orientation of the scrollbar.\n\t */\n\torientation: \"horizontal\" | \"vertical\";\n\n\t/**\n\t * Relative start of the selected range, with 0 meaning beginning, and 1 the\n\t * end.\n\t */\n\tstart?: number;\n\n\t/**\n\t * Relative end of the selected range, with 0 meaning beginning, and 1 the\n\t * end.\n\t */\n\tend?: number;\n\n\t/**\n\t * Number of milliseconds to play scroll animations for.\n\t */\n\tanimationDuration?: number;\n\n\t/**\n\t * Easing function to use for animations.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Easing_functions} for more info\n\t */\n\tanimationEasing?: (t: Time) => Time;\n\n}\n\nexport interface IScrollbarPrivate extends IContainerPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tisBusy?: boolean;\n\n\t/**\n\t * @ignore\n\t */\n\tpositionTextFunction?: (position: number) => string;\n\n}\n\nexport interface IScrollbarEvents extends IContainerEvents {\n\n\t/**\n\t * Invoked when range of the selection changes.\n\t */\n\trangechanged: { start: number, end: number, grip?: \"start\" | \"end\" };\n\n}\n\n/**\n * A control that allows zooming chart's axes, or other uses requiring range\n * selection.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\n */\nexport class Scrollbar extends Container {\n\n\tpublic _addOrientationClass() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", this._settings.orientation]);\n\t\tif (!this._settings.background) {\n\t\t\tthis._settings.background = RoundedRectangle.new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(this._settings.themeTags, [\"main\", \"background\"])\n\t\t\t});\n\t\t}\n\t}\n\n\tdeclare public _settings: IScrollbarSettings;\n\tdeclare public _privateSettings: IScrollbarPrivate;\n\tdeclare public _events: IScrollbarEvents;\n\n\tpublic static className: string = \"Scrollbar\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Scrollbar.className]);\n\n\t/**\n\t * A thumb elment - a draggable square between the grips, used for panning\n\t * the selection.\n\t */\n\tpublic thumb: RoundedRectangle = this._makeThumb();\n\n\t/**\n\t * Start grip button.\n\t */\n\tpublic startGrip: Button = this._makeButton();\n\n\t/**\n\t * End grip button.\n\t */\n\tpublic endGrip: Button = this._makeButton();\n\n\tprotected _thumbBusy: boolean = false;\n\n\tprotected _startDown: boolean = false;\n\n\tprotected _endDown: boolean = false;\n\n\tprotected _thumbDown: boolean = false;\n\n\tprotected _gripDown?: \"start\" | \"end\";\n\n\tprotected _makeButton(): Button {\n\t\treturn this.children.push(Button.new(this._root, {\n\t\t\tthemeTags: [\"resize\", \"button\", this.get(\"orientation\")], icon: Graphics.new(this._root, {\n\t\t\t\tthemeTags: [\"icon\"]\n\t\t\t})\n\t\t}));\n\t}\n\n\tprotected _makeThumb(): RoundedRectangle {\n\t\treturn this.children.push(RoundedRectangle.new(this._root, {\n\t\t\tthemeTags: [\"thumb\", this.get(\"orientation\")]\n\t\t}));\n\t}\n\n\tprotected _handleAnimation(animation: Animation<any>) {\n\t\tif (animation) {\n\t\t\tthis._disposers.push(\n\t\t\t\tanimation.events.on(\"stopped\", () => {\n\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t\t\tthis._thumbBusy = false;\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\tprotected _afterNew() {\n\t\tthis._addOrientationClass();\n\t\tsuper._afterNew();\n\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\t\tconst thumb = this.thumb;\n\t\tconst background = this.get(\"background\");\n\n\t\tif (background) {\n\t\t\tthis._disposers.push(\n\t\t\t\tbackground.events.on(\"click\", (event) => {\n\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\t\t\tconst point = this._display.toLocal(event.point);\n\n\t\t\t\t\tconst w = this.width();\n\t\t\t\t\tconst h = this.height();\n\n\t\t\t\t\tconst orientation = this.get(\"orientation\");\n\n\t\t\t\t\tlet newMiddle: number;\n\n\t\t\t\t\tif (orientation == \"vertical\") {\n\t\t\t\t\t\tnewMiddle = (point.y - thumb.height() / 2) / h;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewMiddle = (point.x - thumb.width() / 2) / w;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newCoordinate: number;\n\t\t\t\t\tlet key: \"x\" | \"y\";\n\n\t\t\t\t\tif (orientation == \"vertical\") {\n\t\t\t\t\t\tnewCoordinate = newMiddle * h;\n\t\t\t\t\t\tkey = \"y\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewCoordinate = newMiddle * w;\n\t\t\t\t\t\tkey = \"x\";\n\t\t\t\t\t}\n\n\n\t\t\t\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\t\t\t\tif (duration > 0) {\n\t\t\t\t\t\tthis._thumbBusy = true;\n\t\t\t\t\t\tthis._handleAnimation(this.thumb.animate({ key: key, to: newCoordinate, duration: duration, easing: this.get(\"animationEasing\") }));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.thumb.set(key, newCoordinate);\n\t\t\t\t\t\tthis._root.events.once(\"frameended\", () => {\n\t\t\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\n\t\tthis._disposers.push(thumb.events.on(\"dblclick\", (event) => {\n\n\t\t\tif (!$utils.isLocalEvent(event.originalEvent, this)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\t\tconst easing = this.get(\"animationEasing\");\n\n\t\t\tthis.animate({ key: \"start\", to: 0, duration: duration, easing: easing });\n\t\t\tthis.animate({ key: \"end\", to: 1, duration: duration, easing: easing });\n\t\t}));\n\n\t\tthis._disposers.push(startGrip.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._startDown = true;\n\t\t\tthis._gripDown = \"start\";\n\t\t}))\n\n\t\tthis._disposers.push(endGrip.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._endDown = true;\n\t\t\tthis._gripDown = \"end\";\n\t\t}))\n\n\t\tthis._disposers.push(thumb.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._thumbDown = true;\n\t\t\tthis._gripDown = undefined;\n\t\t}))\n\n\t\tthis._disposers.push(startGrip.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._startDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._startDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(endGrip.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._endDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._endDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(thumb.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._thumbDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._thumbDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(startGrip.on(\"x\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(endGrip.on(\"x\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(startGrip.on(\"y\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(endGrip.on(\"y\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(thumb.events.on(\"positionchanged\", () => {\n\t\t\tthis._updateGripsByThumb();\n\t\t}));\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tstartGrip.set(\"x\", 0);\n\t\t\tendGrip.set(\"x\", 0);\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height() - thumb.height()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height()), 0);\n\t\t\t}))\n\t\t}\n\t\telse {\n\t\t\tstartGrip.set(\"y\", 0);\n\t\t\tendGrip.set(\"y\", 0);\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width() - thumb.width()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width()), 0);\n\t\t\t}))\n\t\t}\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\tif (this.isDirty(\"end\") || this.isDirty(\"start\") || this._sizeDirty) {\n\t\t\tthis.updateGrips();\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\t\tif (this.isDirty(\"start\") || this.isDirty(\"end\")) {\n\t\t\tconst eventType = \"rangechanged\";\n\t\t\tif (this.events.isEnabled(eventType)) {\n\t\t\t\tthis.events.dispatch(eventType, { type: eventType, target: this, start: this.get(\"start\", 0), end: this.get(\"end\", 1), grip: this._gripDown });\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateGrips() {\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tconst orientation = this.get(\"orientation\");\n\t\tconst height = this.height();\n\t\tconst width = this.width();\n\n\t\tif (orientation == \"vertical\") {\n\t\t\tstartGrip.set(\"y\", height * this.get(\"start\", 0));\n\t\t\tendGrip.set(\"y\", height * this.get(\"end\", 1));\n\t\t}\n\t\telse {\n\t\t\tstartGrip.set(\"x\", width * this.get(\"start\", 0));\n\t\t\tendGrip.set(\"x\", width * this.get(\"end\", 1));\n\t\t}\n\n\t\tconst valueFunction = this.getPrivate(\"positionTextFunction\");\n\t\tconst from = Math.round(this.get(\"start\", 0) * 100);\n\t\tconst to = Math.round(this.get(\"end\", 0) * 100);\n\t\tlet fromValue: string;\n\t\tlet toValue: string;\n\t\tif (valueFunction) {\n\t\t\tfromValue = valueFunction.call(this, this.get(\"start\", 0));\n\t\t\ttoValue = valueFunction.call(this, this.get(\"end\", 0));\n\t\t}\n\t\telse {\n\t\t\tfromValue = from + \"%\";\n\t\t\ttoValue = to + \"%\";\n\t\t}\n\n\t\tstartGrip.set(\"ariaLabel\", this._t(\"From %1\", undefined, fromValue));\n\t\tstartGrip.set(\"ariaValueNow\", \"\" + from);\n\t\tstartGrip.set(\"ariaValueText\", from + \"%\");\n\n\t\tstartGrip.set(\"ariaValueMin\", \"0\");\n\t\tstartGrip.set(\"ariaValueMax\", \"100\");\n\n\t\tendGrip.set(\"ariaLabel\", this._t(\"To %1\", undefined, toValue));\n\t\tendGrip.set(\"ariaValueNow\", \"\" + to);\n\t\tendGrip.set(\"ariaValueText\", to + \"%\");\n\n\t\tendGrip.set(\"ariaValueMin\", \"0\");\n\t\tendGrip.set(\"ariaValueMax\", \"100\");\n\t}\n\n\tprotected _updateThumb() {\n\t\tconst thumb = this.thumb;\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tconst height = this.height();\n\t\tconst width = this.width();\n\n\t\tlet x0 = startGrip.x();\n\t\tlet x1 = endGrip.x();\n\n\t\tlet y0 = startGrip.y();\n\t\tlet y1 = endGrip.y();\n\n\t\tlet start: number = 0;\n\t\tlet end: number = 1;\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tif ($type.isNumber(y0) && $type.isNumber(y1)) {\n\t\t\t\tif (!this._thumbBusy && !thumb.isDragging()) {\n\t\t\t\t\tthumb.set(\"height\", y1 - y0);\n\t\t\t\t\tthumb.set(\"y\", y0);\n\t\t\t\t}\n\t\t\t\tstart = y0 / height;\n\t\t\t\tend = y1 / height;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ($type.isNumber(x0) && $type.isNumber(x1)) {\n\t\t\t\tif (!this._thumbBusy && !thumb.isDragging()) {\n\t\t\t\t\tthumb.set(\"width\", x1 - x0);\n\t\t\t\t\tthumb.set(\"x\", x0);\n\t\t\t\t}\n\t\t\t\tstart = x0 / width;\n\t\t\t\tend = x1 / width;\n\t\t\t}\n\t\t}\n\n\t\tif (this.getPrivate(\"isBusy\") && (this.get(\"start\") != start || this.get(\"end\") != end)) {\n\t\t\tthis.set(\"start\", start);\n\t\t\tthis.set(\"end\", end);\n\t\t}\n\n\t\tconst valueFunction = this.getPrivate(\"positionTextFunction\");\n\t\tconst from = Math.round(this.get(\"start\", 0) * 100);\n\t\tconst to = Math.round(this.get(\"end\", 0) * 100);\n\t\tlet fromValue: string;\n\t\tlet toValue: string;\n\t\tif (valueFunction) {\n\t\t\tfromValue = valueFunction.call(this, this.get(\"start\", 0));\n\t\t\ttoValue = valueFunction.call(this, this.get(\"end\", 0));\n\t\t}\n\t\telse {\n\t\t\tfromValue = from + \"%\";\n\t\t\ttoValue = to + \"%\";\n\t\t}\n\n\t\tthumb.set(\"ariaLabel\", this._t(\"From %1 to %2\", undefined, fromValue, toValue));\n\t\tthumb.set(\"ariaValueNow\", \"\" + from);\n\t\tthumb.set(\"ariaValueText\", from + \"%\");\n\t}\n\n\n\tprotected _updateGripsByThumb() {\n\n\t\tconst thumb = this.thumb;\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tconst thumbSize = thumb.height();\n\t\t\tstartGrip.set(\"y\", thumb.y());\n\t\t\tendGrip.set(\"y\", thumb.y() + thumbSize);\n\t\t}\n\t\telse {\n\t\t\tconst thumbSize = thumb.width();\n\t\t\tstartGrip.set(\"x\", thumb.x());\n\t\t\tendGrip.set(\"x\", thumb.x() + thumbSize);\n\t\t}\n\t}\n}\n","import type { Series } from \"./Series\";\n\nimport { Chart, IChartSettings, IChartPrivate, IChartEvents } from \"./Chart\";\nimport { Container } from \"../../core/render/Container\";\nimport { ListAutoDispose } from \"../../core/util/List\";\nimport { p100 } from \"../../core/util/Percent\";\nimport * as $array from \"../../core/util/Array\";\nimport type { ColorSet } from \"../../core/util/ColorSet\";\n\nexport interface ISerialChartSettings extends IChartSettings {\n\t/**\n\t * A [[ColorSet]] to use when asigning colors for series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tcolors?: ColorSet;\n}\n\nexport interface ISerialChartPrivate extends IChartPrivate {\n}\n\nexport interface ISerialChartEvents extends IChartEvents {\n}\n\n/**\n * A base class for all series-based charts.\n */\nexport abstract class SerialChart extends Chart {\n\tpublic static className: string = \"SerialChart\";\n\tpublic static classNames: Array<string> = Chart.classNames.concat([SerialChart.className]);\n\n\tdeclare public _settings: ISerialChartSettings;\n\tdeclare public _privateSettings: ISerialChartPrivate;\n\tdeclare public _seriesType: Series;\n\tdeclare public _events: ISerialChartEvents;\n\n\t/**\n\t * A [[Container]] where chart will store all series.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly seriesContainer: Container = Container.new(this._root, { width: p100, height: p100, isMeasured: false });\n\n\t/**\n\t * A list of chart's series.\n\t */\n\tpublic readonly series: ListAutoDispose<this[\"_seriesType\"]> = new ListAutoDispose();\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis._disposers.push(this.series);\n\n\t\tconst children = this.seriesContainer.children;\n\n\t\tthis._disposers.push(this.series.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(change.oldValues, (series) => {\n\t\t\t\t\tthis._removeSeries(series);\n\t\t\t\t})\n\t\t\t\tconst colors = this.get(\"colors\");\n\t\t\t\tif (colors) {\n\t\t\t\t\tcolors.reset();\n\t\t\t\t}\n\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tchildren.moveValue(change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tchildren.setIndex(change.index, change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tchildren.insertIndex(change.index, change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._removeSeries(change.oldValue);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tchildren.moveValue(change.value, change.newIndex);\n\t\t\t\tthis._processSeries(change.value);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IListEvent type\");\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected _processSeries(series: this[\"_seriesType\"]) {\n\t\tseries.chart = this;\n\t\tseries._placeBulletsContainer(this);\n\t}\n\n\tprotected _removeSeries(series: this[\"_seriesType\"]) {\n\t\tif (!series.isDisposed()) {\n\t\t\tthis.seriesContainer.children.removeValue(series);\n\t\t\tseries._removeBulletsContainer();\n\t\t}\n\t}\n}\n","import { Component, IComponentSettings, IComponentPrivate, DataItem, IComponentEvents, IComponentDataItem } from \"../../core/render/Component\";\nimport { List } from \"../../core/util/List\";\nimport { Color } from \"../../core/util/Color\";\nimport { percentInterpolate } from \"../../core/util/Animation\";\nimport { Percent } from \"../../core/util/Percent\";\nimport * as $array from \"../../core/util/Array\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $time from \"../../core/util/Time\";\nimport type { Root } from \"../../core/Root\";\nimport { p100 } from \"../../core/util/Percent\";\nimport type { Chart } from \"./Chart\";\nimport type { Bullet } from \"./Bullet\";\nimport { Container } from \"../../core/render/Container\";\nimport type { Graphics } from \"../../core/render/Graphics\";\nimport type { ILegendDataItem } from \"./Legend\";\nimport type { Template } from \"../../core/util/Template\";\nimport type { Sprite } from \"../../core/render/Sprite\";\nimport { Label } from \"../../core/render/Label\";\n//import { Animations } from \"../../core/util/Animation\";\n\n/**\n * Defines interface for a heat rule.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/heat-rules/} for more info\n */\nexport interface IHeatRule {\n\n\t/**\n\t * Target template.\n\t */\n\ttarget: Template<any>;\n\n\t/**\n\t * The setting value to use for items if the lowest value.\n\t */\n\tmin: any;\n\n\t/**\n\t * The setting value to use for items if the highest value.\n\t */\n\tmax: any;\n\n\t/**\n\t * The setting value to use for items which do not have value at all.\n\t */\n\tneutral?: any;\t\n\n\t/**\n\t * Which data field to use when determining item's value.\n\t */\n\tdataField: string;\n\n\t/**\n\t * A setting key to set.\n\t */\n\tkey?: string;\n\n\t/**\n\t * Custom lowest value.\n\t */\n\tminValue?: number;\n\n\t/**\n\t * Custom highest value.\n\t */\n\tmaxValue?: number;\n\n\t/**\n\t * Use logarithmic scale when calculating intermediate setting values.\n\t *\n\t * @default false\n\t */\n\tlogarithmic?: boolean;\n\n\t/**\n\t * A custom function that will set target element's settings.\n\t *\n\t * Can be used to do custom manipulation on complex objects requiring more\n\t * than modifying a setting.\n\t */\n\tcustomFunction?: (target: Sprite, minValue: number, maxValue: number, value?: any) => void;\n\n}\n\n\nexport interface ISeriesDataItem extends IComponentDataItem {\n\tid?: string;\n\tvalue?: number;\n\tvalueWorking?:number;\n\tvalueChange?: number;\n\tvalueChangePercent?: number;\n\tvalueChangeSelection?: number;\n\tvalueChangeSelectionPercent?: number;\n\tvalueChangePrevious?: number;\n\tvalueChangePreviousPercent?: number;\n\tvalueWorkingOpen?: number;\n\tvalueWorkingClose?: number;\n}\n\nexport interface ISeriesSettings extends IComponentSettings {\n\n\t/**\n\t * Name of the series.\n\t */\n\tname?: string;\n\n\t/**\n\t * A key to look up in data for an id of the data item.\n\t */\n\tidField?: string;\n\n\t/**\n\t * A key to look up in data for a numeric value of the data item.\n\t *\n\t * Some series use it to display its elements. It can also be used in heat\n\t * rules.\n\t */\n\tvalueField?: string;\n\n\t/**\n\t * A text template to be used for label in legend.\n\t */\n\tlegendLabelText?: string;\n\n\t/**\n\t * A text template to be used for value label in legend.\n\t */\n\tlegendValueText?: string;\n\n\t/**\n\t * If set to `true` the series initial animation will be played item by item\n\t * rather than all at once.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animation_of_series} for more info\n\t */\n\tsequencedInterpolation?:boolean;\n\n\t/**\n\t * A delay in milliseconds to wait before starting animation of next data\n\t * item.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animation_of_series} for more info\n\t */\n\tsequencedDelay?:number;\n\n\t/**\n\t * A list of heat rules to apply on series elements.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/heat-rules/} for more info\n\t */\n\theatRules?:IHeatRule[];\n\n\t/**\n\t * If set to `true`, series will calculate aggregate values, e.g. change\n\t * percent, high, low, etc.\n\t *\n\t * Do not enable unless you are using such aggregate values in tooltips,\n\t * display data fields, heat rules, or similar.\n\t */\n\tcalculateAggregates?: boolean;\n\n\t/**\n\t * Series stroke color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tstroke?: Color;\n\n\t/**\n\t * Series fill color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tfill?: Color;\n\n\t/**\n\t * A data item representing series in a [[Legend]].\n\t *\n\t * @readonly\n\t */\n\tlegendDataItem?: DataItem<ILegendDataItem>;\n\n}\n\nexport interface ISeriesPrivate extends IComponentPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tchart?: Chart;\n\tstartIndex?: number;\n\tendIndex?: number;\n\n\tvalueAverage?: number;\n\tvalueCount?: number;\n\tvalueSum?: number;\n\tvalueAbsoluteSum?: number;\n\tvalueLow?: number;\n\tvalueHigh?: number;\n\tvalueOpen?: number;\n\tvalueClose?: number;\n\n\tbaseValueSeries?: Series;\n}\n\nexport interface ISeriesEvents extends IComponentEvents {\n\n}\n\n/**\n * A base class for all series.\n */\nexport abstract class Series extends Component {\n\tpublic static className: string = \"Series\";\n\tpublic static classNames: Array<string> = Component.classNames.concat([Series.className]);\n\n\tdeclare public _settings: ISeriesSettings;\n\tdeclare public _privateSettings: ISeriesPrivate;\n\tdeclare public _dataItemSettings: ISeriesDataItem;\n\tdeclare public _events: ISeriesEvents;\n\n\tprotected _aggregatesCalculated: boolean = false;\n\tprotected _selectionAggregatesCalculated: boolean = false;\n\tprotected _dataProcessed: boolean = false;\n\n\tprotected _psi: number | undefined;\n\tprotected _pei: number | undefined;\n\n\t/**\n\t * A chart series belongs to.\n\t */\n\tpublic chart:Chart | undefined;\n\n\t/**\n\t * List of bullets to use for the series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\n\t */\n\tpublic bullets: List<<D extends DataItem<this[\"_dataItemSettings\"]>>(root: Root, series:Series, dataItem: D) => Bullet | undefined> = new List();\n\n\t/**\n\t * A [[Container]] series' bullets are stored in.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly bulletsContainer: Container = Container.new(this._root, {width:p100, height:p100, position:\"absolute\"});\n\n\tprotected _afterNew() {\n\t\tthis.valueFields.push(\"value\");\n\n\t\tsuper._afterNew();\n\n\t\tthis.setPrivate(\"customData\", {});